(()=>{var n={44976:(n,e,t)=>{t(83738),t(98515),t(74129)},21902:(n,e,t)=>{t(63113),t(40350),t(74072),t(51410)},43994:(n,e,t)=>{t(52651),t(86986),t(66385)},61879:(n,e,t)=>{t(47269),t(884),t(40320),t(19757),t(51168),t(43388),t(86574),t(24838)},69389:(n,e,t)=>{t(18152),t(84081),t(44405),t(6503),t(30963),t(84138),t(57845),t(43955),t(30739),t(78182),t(75019),t(93982),t(34962),t(53436),t(43968),t(26271),t(14322),t(96367),t(61879),t(21902),t(44976),t(43994),t(28524),t(31533),t(7184)},26684:n=>{n.exports="if (typeof jQuery === 'undefined') {\n  console.error('jQuery was not defined before inclusion of ch.global.js');\n} else {\n  // Enabling button loading state for all anchor tags with data-loading-state=\"1\"\n  jQuery(\"a[data-loading-state='0']\").on(\"click\", function () {\n    jQuery(this).attr(\"data-loading-state\", \"1\");\n  }); // Notification javascript\n\n  /**\n   * Universal banner handler for site-wide notifications\n   */\n\n  var CourseHeroUniversalBanner = new function () {\n    var UNIVERSAL_BANNER_DOM_ID = \"ch_sitewide_notification\";\n    return {\n      /**\n       * Setup the universal banner\n       */\n      setup: function setup() {\n        this.dom = jQuery('#' + UNIVERSAL_BANNER_DOM_ID);\n\n        if (this.dom.length === 0) {\n          return; //no universal banner\n        }\n\n        this.setupActions();\n      },\n\n      /**\n       * Setup dismiss action\n       */\n      setupActions: function setupActions() {\n        this.dom.find('[data-dismiss]').on('click', function (e) {\n          var node = jQuery(this);\n          e.preventDefault();\n          CourseHeroUniversalBanner.dismiss(node.data('dismiss-url'));\n        });\n      },\n\n      /**\n       * Dismiss this banner and alternatively send a request to the server\n       * @param {string} url\n       */\n      dismiss: function dismiss(url) {\n        this.dom.hide();\n        this.onDismiss(url);\n      },\n\n      /**\n       * If this banner get's dismissed, send a message to the given url\n       */\n      onDismiss: function onDismiss(url) {\n        if (typeof url === 'undefined' || url.length === 0) {\n          return;\n        }\n\n        jQuery.post(url);\n      }\n    };\n  }();\n  CourseHeroUniversalBanner.setup();\n  /**\n   * This function allows the login button on the header to add the full url (include the hash) of the referer page to the login url\n   * @param event\n   */\n\n  var loginRedirect = function loginRedirect(event) {\n    event.preventDefault();\n    window.location.href = this.href + '&login_refer_url=' + encodeURIComponent(window.location.href);\n  };\n\n  jQuery('#ch-header_primary-nav_login').on('click', loginRedirect);\n\n  window.devLog = function () {\n    if (window.location.hostname != 'www.coursehero.com') {\n      console.log.apply(console, arguments);\n    }\n  };\n}"},7993:n=>{n.exports='function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }\n\n!function (e) {\n  var t = {};\n\n  function n(i) {\n    if (t[i]) return t[i].exports;\n    var r = t[i] = {\n      i: i,\n      l: !1,\n      exports: {}\n    };\n    return e[i].call(r.exports, r, r.exports, n), r.l = !0, r.exports;\n  }\n\n  n.m = e, n.c = t, n.d = function (e, t, i) {\n    n.o(e, t) || Object.defineProperty(e, t, {\n      enumerable: !0,\n      get: i\n    });\n  }, n.r = function (e) {\n    "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n      value: "Module"\n    }), Object.defineProperty(e, "__esModule", {\n      value: !0\n    });\n  }, n.t = function (e, t) {\n    if (1 & t && (e = n(e)), 8 & t) return e;\n    if (4 & t && "object" == _typeof(e) && e && e.__esModule) return e;\n    var i = Object.create(null);\n    if (n.r(i), Object.defineProperty(i, "default", {\n      enumerable: !0,\n      value: e\n    }), 2 & t && "string" != typeof e) for (var r in e) {\n      n.d(i, r, function (t) {\n        return e[t];\n      }.bind(null, r));\n    }\n    return i;\n  }, n.n = function (e) {\n    var t = e && e.__esModule ? function () {\n      return e["default"];\n    } : function () {\n      return e;\n    };\n    return n.d(t, "a", t), t;\n  }, n.o = function (e, t) {\n    return Object.prototype.hasOwnProperty.call(e, t);\n  }, n.p = "", n(n.s = 22);\n}([function (e, t) {\n  e.exports = function (e) {\n    if (void 0 === e) throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");\n    return e;\n  };\n}, function (e, t) {\n  e.exports = window.React;\n}, function (e, t) {\n  e.exports = function (e, t, n) {\n    return t in e ? Object.defineProperty(e, t, {\n      value: n,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }) : e[t] = n, e;\n  };\n}, function (e, t) {\n  function n(t) {\n    return e.exports = n = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n      return e.__proto__ || Object.getPrototypeOf(e);\n    }, n(t);\n  }\n\n  e.exports = n;\n}, function (e, t) {\n  e.exports = function (e, t) {\n    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");\n  };\n}, function (e, t) {\n  function n(e, t) {\n    for (var n = 0; n < t.length; n++) {\n      var i = t[n];\n      i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i);\n    }\n  }\n\n  e.exports = function (e, t, i) {\n    return t && n(e.prototype, t), i && n(e, i), e;\n  };\n}, function (e, t, n) {\n  var i = n(16);\n\n  e.exports = function (e, t) {\n    if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");\n    e.prototype = Object.create(t && t.prototype, {\n      constructor: {\n        value: e,\n        writable: !0,\n        configurable: !0\n      }\n    }), t && i(e, t);\n  };\n}, function (e, t, n) {\n  var i = n(17),\n      r = n(0);\n\n  e.exports = function (e, t) {\n    return !t || "object" !== i(t) && "function" != typeof t ? r(e) : t;\n  };\n}, function (e, t) {\n  e.exports = window.BeefFlux;\n}, function (e, t) {\n  e.exports = function (e, t, n, i, r) {\n    var o = {};\n    return Object.keys(i).forEach(function (e) {\n      o[e] = i[e];\n    }), o.enumerable = !!o.enumerable, o.configurable = !!o.configurable, ("value" in o || o.initializer) && (o.writable = !0), o = n.slice().reverse().reduce(function (n, i) {\n      return i(e, t, n) || n;\n    }, o), r && void 0 !== o.initializer && (o.value = o.initializer ? o.initializer.call(r) : void 0, o.initializer = void 0), void 0 === o.initializer && (Object.defineProperty(e, t, o), o = null), o;\n  };\n}, function (e, t) {\n  e.exports = function (e, t, n, i) {\n    n && Object.defineProperty(e, t, {\n      enumerable: n.enumerable,\n      configurable: n.configurable,\n      writable: n.writable,\n      value: n.initializer ? n.initializer.call(i) : void 0\n    });\n  };\n}, function (e, t) {\n  function n() {\n    return e.exports = n = Object.assign || function (e) {\n      for (var t = 1; t < arguments.length; t++) {\n        var n = arguments[t];\n\n        for (var i in n) {\n          Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i]);\n        }\n      }\n\n      return e;\n    }, n.apply(this, arguments);\n  }\n\n  e.exports = n;\n}, function (e, t) {\n  e.exports = function (e, t) {\n    (null == t || t > e.length) && (t = e.length);\n\n    for (var n = 0, i = new Array(t); n < t; n++) {\n      i[n] = e[n];\n    }\n\n    return i;\n  };\n}, function (e, t) {\n  e.exports = function (e, t) {\n    throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.");\n  };\n}, function (e, t) {\n  e.exports = window.ReactDOM;\n}, function (e, t, n) {\n  var i = n(18),\n      r = n(19),\n      o = n(20),\n      s = n(21);\n\n  e.exports = function (e) {\n    return i(e) || r(e) || o(e) || s();\n  };\n}, function (e, t) {\n  function n(t, i) {\n    return e.exports = n = Object.setPrototypeOf || function (e, t) {\n      return e.__proto__ = t, e;\n    }, n(t, i);\n  }\n\n  e.exports = n;\n}, function (e, t) {\n  function n(t) {\n    return "function" == typeof Symbol && "symbol" == _typeof(Symbol.iterator) ? e.exports = n = function n(e) {\n      return _typeof(e);\n    } : e.exports = n = function n(e) {\n      return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : _typeof(e);\n    }, n(t);\n  }\n\n  e.exports = n;\n}, function (e, t, n) {\n  var i = n(12);\n\n  e.exports = function (e) {\n    if (Array.isArray(e)) return i(e);\n  };\n}, function (e, t) {\n  e.exports = function (e) {\n    if ("undefined" != typeof Symbol && Symbol.iterator in Object(e)) return Array.from(e);\n  };\n}, function (e, t, n) {\n  var i = n(12);\n\n  e.exports = function (e, t) {\n    if (e) {\n      if ("string" == typeof e) return i(e, t);\n      var n = Object.prototype.toString.call(e).slice(8, -1);\n      return "Object" === n && e.constructor && (n = e.constructor.name), "Map" === n || "Set" === n ? Array.from(e) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? i(e, t) : void 0;\n    }\n  };\n}, function (e, t) {\n  e.exports = function () {\n    throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");\n  };\n}, function (e, t, n) {\n  "use strict";\n\n  n.r(t);\n  var i = n(1),\n      r = n(14),\n      o = n(4),\n      s = n.n(o),\n      a = n(5),\n      l = n.n(a),\n      c = n(0),\n      u = n.n(c),\n      h = n(6),\n      d = n.n(h),\n      p = n(7),\n      f = n.n(p),\n      v = n(3),\n      g = n.n(v),\n      S = n(2),\n      m = n.n(S);\n\n  function y(e) {\n    var t = function () {\n      if ("undefined" == typeof Reflect || !Reflect.construct) return !1;\n      if (Reflect.construct.sham) return !1;\n      if ("function" == typeof Proxy) return !0;\n\n      try {\n        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0;\n      } catch (e) {\n        return !1;\n      }\n    }();\n\n    return function () {\n      var n,\n          i = g()(e);\n\n      if (t) {\n        var r = g()(this).constructor;\n        n = Reflect.construct(i, arguments, r);\n      } else n = i.apply(this, arguments);\n\n      return f()(this, n);\n    };\n  }\n\n  var E,\n      _ = function (e) {\n    d()(n, e);\n    var t = y(n);\n\n    function n() {\n      return s()(this, n), t.apply(this, arguments);\n    }\n\n    return l()(n, [{\n      key: "getClassName",\n      value: function value(e) {\n        var t = "";\n\n        for (var n in e) {\n          t += e[n] ? " " + n : "";\n        }\n\n        return t;\n      }\n    }]), n;\n  }(i.Component);\n\n  !function (e) {\n    e[e.PHONE_MAX = 767] = "PHONE_MAX", e[e.PHONE_MIN = 320] = "PHONE_MIN", e[e.TABLET_MAX = 1199] = "TABLET_MAX";\n  }(E || (E = {}));\n  var w = E,\n      b = n(15),\n      R = n.n(b);\n\n  function C(e, t) {\n    var n = Object.keys(e);\n\n    if (Object.getOwnPropertySymbols) {\n      var i = Object.getOwnPropertySymbols(e);\n      t && (i = i.filter(function (t) {\n        return Object.getOwnPropertyDescriptor(e, t).enumerable;\n      })), n.push.apply(n, i);\n    }\n\n    return n;\n  }\n\n  function T(e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var n = null != arguments[t] ? arguments[t] : {};\n      t % 2 ? C(Object(n), !0).forEach(function (t) {\n        m()(e, t, n[t]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : C(Object(n)).forEach(function (t) {\n        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t));\n      });\n    }\n\n    return e;\n  }\n\n  var A,\n      O,\n      F,\n      k = window.dataLayer;\n  !function (e) {\n    e.PRIMARY = "Primary", e.SECONDARY = "Secondary", e.INTERSTITIAL = "Interstitial", e.BANNER = "Banner", e.LINK = "Link", e.IMAGE = "Image";\n  }(A || (A = {})), function (e) {\n    e.TAB = "Tab", e.POPUP = "Pop-up", e.VIDEO = "Video", e.MODAL = "modal", e.RADIO_BUTTON = "radio button", e.RADIO_SELECTION = "Radio Selection", e.SECURE_PAYMENT_FORM = "Secure Payment Form", e.CALL_TO_ACTION = "Call to Action", e.FLOATING_PROMPT = "Floating Prompt", e.INPUT = "Input", e.FORM = "Form", e.NAVBAR = "Navbar";\n  }(O || (O = {})), function (e) {\n    e.LOGGED_OUT = "logged out", e.BASIC = "basic", e.PREMIER = "premier";\n  }(F || (F = {}));\n\n  var D = function D(e) {\n    var t,\n        n,\n        i,\n        r,\n        o,\n        s = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n        a = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},\n        l = a.timestamp,\n        c = T(T({}, s), {}, {\n      isLoggedIn: Boolean(null === (t = window.__CH_PERSON) || void 0 === t ? void 0 : t.id),\n      chSessionId: null === (n = window) || void 0 === n ? void 0 : null === (i = n.__CH_DIMENSIONS) || void 0 === i ? void 0 : i.dimension6,\n      chRootSessionId: null === (r = window) || void 0 === r ? void 0 : null === (o = r.__CH_DIMENSIONS) || void 0 === o ? void 0 : o.dimension7\n    });\n    void 0 !== k && k.push({\n      event: "User Tracking Event",\n      user_tracking_properties: {\n        eventName: e,\n        properties: c\n      },\n      _clear: !0\n    });\n    var u,\n        h,\n        d,\n        p,\n        f,\n        v,\n        g,\n        S,\n        m = window.amplitude;\n    m ? (null !== (u = window) && void 0 !== u && null !== (h = u.__CH_PERSON) && void 0 !== h && h.id && m.getInstance().setUserId(window.__CH_PERSON.id), null !== (d = window) && void 0 !== d && null !== (p = d.__CH_TRACKER) && void 0 !== p && p.DEVICE_ID && m.getInstance().setDeviceId(window.__CH_TRACKER.DEVICE_ID), null !== (f = window) && void 0 !== f && null !== (v = f.__CH_TRACKER) && void 0 !== v && v.SESSION && m.getInstance().setSessionId(window.__CH_TRACKER.SESSION), l ? m.getInstance().logEventWithTimestamp(e, c, l) : m.getInstance().logEvent(e, c)) : null === (g = window.__CH_TRACKER) || void 0 === g || null === (S = g.BUFFER) || void 0 === S || S.push({\n      eventName: e,\n      properties: c\n    });\n  },\n      N = function N(e) {\n    var t,\n        n = U(),\n        i = {\n      path: location.pathname,\n      referrer: window.__CH_ReactRouter_referrer || document.referrer,\n      search: location.search,\n      title: document.title,\n      pageUrl: location.href,\n      userAgent: null !== (t = window.__USER_AGENT) && void 0 !== t ? t : "",\n      userState: n\n    };\n\n    if (void 0 !== e) {\n      var r = e.path,\n          o = e.referrer,\n          s = e.search,\n          a = e.title,\n          l = e.pageUrl,\n          c = e.userAgent;\n      return {\n        path: r || i.path,\n        referrer: o || i.referrer,\n        search: s || i.search,\n        title: a || i.title,\n        pageUrl: l || i.pageUrl,\n        userAgent: c || i.userAgent,\n        userState: n\n      };\n    }\n\n    return i;\n  },\n      x = function x(e) {\n    D("CTA Clicked", P(e));\n  },\n      I = function I(e, t) {\n    D(e, P(t));\n  },\n      P = function P(e) {\n    return T(T({}, N()), e);\n  },\n      U = function U() {\n    var e = window.__CH_PERSON;\n    return e ? e.dimension2 === F.BASIC ? F.BASIC : F.PREMIER : F.LOGGED_OUT;\n  };\n\n  var L,\n      B,\n      M,\n      H,\n      W,\n      j,\n      z,\n      q,\n      Q,\n      G,\n      K,\n      V = n(8),\n      J = V.Actions.define("SET_DEFAULT_SUGGESTIONS", function (e) {\n    return e;\n  }),\n      X = n(10),\n      Y = n.n(X),\n      Z = n(9),\n      ee = n.n(Z),\n      te = (n(13), function e() {\n    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n    s()(this, e), Object.assign(this, t);\n  });\n\n  function ne(e) {\n    var t = function () {\n      if ("undefined" == typeof Reflect || !Reflect.construct) return !1;\n      if (Reflect.construct.sham) return !1;\n      if ("function" == typeof Proxy) return !0;\n\n      try {\n        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0;\n      } catch (e) {\n        return !1;\n      }\n    }();\n\n    return function () {\n      var n,\n          i = g()(e);\n\n      if (t) {\n        var r = g()(this).constructor;\n        n = Reflect.construct(i, arguments, r);\n      } else n = i.apply(this, arguments);\n\n      return f()(this, n);\n    };\n  }\n\n  var ie = (L = V.Schema["int"](), B = V.Schema.string(), M = V.Schema["int"](), H = V.Schema.string(), K = G = function (e) {\n    d()(n, e);\n    var t = ne(n);\n\n    function n() {\n      var e,\n          i = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n      return s()(this, n), e = t.call(this, i), Y()(u()(e), "id", j, u()(e)), Y()(u()(e), "text", z, u()(e)), Y()(u()(e), "position", q, u()(e)), Y()(u()(e), "source", Q, u()(e)), Object.assign(u()(e), i), e;\n    }\n\n    return n;\n  }(te), m()(G, "schema", {}), W = K, j = ee()(W.prototype, "id", [L], {\n    configurable: !0,\n    enumerable: !0,\n    writable: !0,\n    initializer: null\n  }), z = ee()(W.prototype, "text", [B], {\n    configurable: !0,\n    enumerable: !0,\n    writable: !0,\n    initializer: null\n  }), q = ee()(W.prototype, "position", [M], {\n    configurable: !0,\n    enumerable: !0,\n    writable: !0,\n    initializer: null\n  }), Q = ee()(W.prototype, "source", [H], {\n    configurable: !0,\n    enumerable: !0,\n    writable: !0,\n    initializer: null\n  }), W);\n\n  function re(e) {\n    var t = function () {\n      if ("undefined" == typeof Reflect || !Reflect.construct) return !1;\n      if (Reflect.construct.sham) return !1;\n      if ("function" == typeof Proxy) return !0;\n\n      try {\n        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0;\n      } catch (e) {\n        return !1;\n      }\n    }();\n\n    return function () {\n      var n,\n          i = g()(e);\n\n      if (t) {\n        var r = g()(this).constructor;\n        n = Reflect.construct(i, arguments, r);\n      } else n = i.apply(this, arguments);\n\n      return f()(this, n);\n    };\n  }\n\n  var oe = new (function (e) {\n    d()(n, e);\n    var t = re(n);\n\n    function n() {\n      var e;\n      return s()(this, n), (e = t.call(this)).state = {\n        defaultSuggestions: []\n      }, V.Actions.register(m()({}, J, e.setDefaultSuggestions.bind(u()(e))), u()(e)), e;\n    }\n\n    return l()(n, [{\n      key: "sanitizeJSONSuggestions",\n      value: function value(e) {\n        var t = this,\n            n = JSON.parse(e);\n        return Array.isArray(n) ? n.map(function (e, n) {\n          return t.sanitizeSuggestion({\n            id: n,\n            text: e\n          });\n        }) : [];\n      }\n    }, {\n      key: "sanitizeAutocompleteSuggestions",\n      value: function value(e) {\n        var t = this;\n        return Array.isArray(e) ? e.map(function (e, n) {\n          return t.sanitizeSuggestion({\n            id: e.search_suggestion_id,\n            text: e.suggestion,\n            position: n,\n            source: e.source\n          });\n        }) : [];\n      }\n    }, {\n      key: "sanitizeSuggestion",\n      value: function value(e) {\n        return new ie(this.sanitize(e, ie.schema));\n      }\n    }, {\n      key: "getDefaultSuggestions",\n      value: function value() {\n        return this.state.defaultSuggestions;\n      }\n    }, {\n      key: "setDefaultSuggestions",\n      value: function value(e) {\n        var t = this,\n            n = this.nextState();\n        return e.forEach(function (e) {\n          var i = t.sanitize(e, ie.schema);\n          t.upsertItem(n.defaultSuggestions, i.id, i);\n        }), n;\n      }\n    }]), n;\n  }(V.Store))(),\n      se = window,\n      ae = se.Action,\n      le = se.Actions,\n      ce = se.ApiService,\n      ue = se.Beef,\n      he = (se.Dispatcher, se.RoutingService, se.Store);\n\n  function de() {\n    return ue.start(), ue.service(ce.SERVICE_ID);\n  }\n\n  var pe,\n      fe,\n      ve = function ve(e) {\n    return function (t, n) {\n      var i,\n          r,\n          o,\n          s,\n          a,\n          l = t[n];\n      return t[n] = (i = l, (r = e) || (r = 250), function () {\n        var e = o || this,\n            t = +new Date(),\n            n = arguments;\n        s && t < s + r ? (clearTimeout(a), a = setTimeout(function () {\n          s = t, i.apply(e, n);\n        }, r)) : (s = t, i.apply(e, n));\n      }), t;\n    };\n  },\n      ge = (pe = ve(250), fe = function () {\n    function e() {\n      s()(this, e);\n    }\n\n    return l()(e, null, [{\n      key: "fetchAutocompleteSuggestions",\n      value: function value(e, t, n) {\n        return de().get("/api/v1/search/suggest/", {\n          query: e\n        }).then(function (e) {\n          t && t(e);\n        }, function (e) {\n          n && n(e);\n        });\n      }\n    }]), e;\n  }(), ee()(fe, "fetchAutocompleteSuggestions", [pe], Object.getOwnPropertyDescriptor(fe, "fetchAutocompleteSuggestions"), fe), fe),\n      Se = n(11),\n      me = n.n(Se),\n      ye = function ye(e) {\n    var t,\n        n = e.disabledClass ? e.disabledClass : "disabled",\n        r = e.className,\n        o = e.href,\n        s = e.icon,\n        a = e.id,\n        l = e.label,\n        c = e.onClick,\n        u = e.tooltipText,\n        h = e.tooltipClass,\n        d = e.isHodorTooltip,\n        p = e.disabled,\n        f = e.iconPosition,\n        v = e.onBlur,\n        g = e.iconStyle;\n    r += p ? " ".concat(n) : "", s && (t = i.createElement("i", {\n      style: g,\n      className: s,\n      "aria-hidden": "true"\n    }));\n    return i.createElement("a", me()({\n      id: a,\n      href: o || "javascript:void(0)",\n      className: r,\n      onClick: function onClick(e) {\n        c && !p && c(e);\n      },\n      onBlur: v\n    }, e.chAnalyticsData), f && "left" !== f ? null : t, l, f && "right" === f ? t : null, u && i.createElement("span", {\n      className: null != h ? h : "",\n      "data-tooltip": d ? u : null\n    }, !d && u));\n  },\n      Ee = function () {\n    function e() {\n      s()(this, e);\n    }\n\n    return l()(e, null, [{\n      key: "define",\n      value: function value(e, t) {\n        var n = "__CHG_" + e;\n        return void 0 !== window[n] ? window[n] : window[n] = t();\n      }\n    }]), e;\n  }();\n\n  function _e(e) {\n    var t = function () {\n      if ("undefined" == typeof Reflect || !Reflect.construct) return !1;\n      if (Reflect.construct.sham) return !1;\n      if ("function" == typeof Proxy) return !0;\n\n      try {\n        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0;\n      } catch (e) {\n        return !1;\n      }\n    }();\n\n    return function () {\n      var n,\n          i = g()(e);\n\n      if (t) {\n        var r = g()(this).constructor;\n        n = Reflect.construct(i, arguments, r);\n      } else n = i.apply(this, arguments);\n\n      return f()(this, n);\n    };\n  }\n\n  var we,\n      be,\n      Re,\n      Ce = function (e) {\n    d()(n, e);\n\n    var t = _e(n);\n\n    function n() {\n      var e;\n      s()(this, n);\n\n      for (var i = arguments.length, r = new Array(i), o = 0; o < i; o++) {\n        r[o] = arguments[o];\n      }\n\n      return e = t.call.apply(t, [this].concat(r)), m()(u()(e), "selectedFilters", function (e) {\n        return e;\n      }), m()(u()(e), "setActiveFilter", function (e) {\n        return e;\n      }), m()(u()(e), "receiveFilters", function (e) {\n        return e;\n      }), m()(u()(e), "receiveInMeta", function (e) {\n        return e;\n      }), m()(u()(e), "resetActive", function (e) {\n        return e;\n      }), m()(u()(e), "resetAll", function () {}), m()(u()(e), "clearSelectedSchoolFilter", function () {}), m()(u()(e), "clearSelectedProfessorFilter", function () {}), m()(u()(e), "clearSelectedCourseTitleFilter", function () {}), m()(u()(e), "clearSelectedCourseNumberFilter", function () {}), m()(u()(e), "clearSelectedDepartmentFilter", function () {}), m()(u()(e), "clearSelectedCourseFilter", function () {}), m()(u()(e), "clearSelectedSubjectFilter", function () {}), m()(u()(e), "doSearch", function (e) {\n        var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];\n        return [e, t];\n      }), m()(u()(e), "loadDefaultSchools", function (e) {\n        return e;\n      }), e;\n    }\n\n    return n;\n  }(ae),\n      Te = Ee.define("FilterActions", function () {\n    return le.create(new Ce());\n  });\n\n  !function (e) {\n    e[e.PageCount = 1] = "PageCount", e[e.DocDate = 2] = "DocDate", e[e.QADateAsked = 3] = "QADateAsked", e[e.FSCreated = 4] = "FSCreated";\n  }(Re || (Re = {}));\n  we = {}, m()(we, Re.DocDate, {\n    type: "daterange"\n  }), m()(we, Re.PageCount, {\n    type: "number"\n  }), m()(we, Re.QADateAsked, {\n    type: "daterange"\n  }), m()(we, Re.FSCreated, {\n    type: "daterange"\n  });\n\n  var Ae = (be = {}, m()(be, Re.PageCount, "page_count"), m()(be, Re.DocDate, "doc_date"), m()(be, Re.QADateAsked, "date_asked"), m()(be, Re.FSCreated, "created"), m()(be, "page_count", Re.PageCount), m()(be, "doc_date", Re.DocDate), m()(be, "date_asked", Re.QADateAsked), m()(be, "created", Re.FSCreated), be),\n      Oe = function () {\n    function e() {\n      s()(this, e);\n    }\n\n    return l()(e, [{\n      key: "DOCUMENT",\n      get: function get() {\n        return e._documentType;\n      },\n      set: function set(e) {\n        this.log(e);\n      }\n    }, {\n      key: "QUESTION",\n      get: function get() {\n        return e._questionType;\n      },\n      set: function set(e) {\n        this.log(e);\n      }\n    }, {\n      key: "FLASHCARD",\n      get: function get() {\n        return e._flashcardType;\n      },\n      set: function set(e) {\n        this.log(e);\n      }\n    }, {\n      key: "TUTOR",\n      get: function get() {\n        return e._tutorType;\n      },\n      set: function set(e) {\n        this.log(e);\n      }\n    }, {\n      key: "log",\n      value: function value(e) {\n        console.error("You must not modify the resource type definitions. Especially if you tried to change it to \'".concat(e, "\'.\\n            \\n That would be the worst possible thing to change it to.\\n            "));\n      }\n    }]), e;\n  }();\n\n  m()(Oe, "_documentType", "document"), m()(Oe, "_questionType", "question"), m()(Oe, "_flashcardType", "flashcard"), m()(Oe, "_tutorType", "expert");\n  var Fe = new Oe();\n\n  function ke(e) {\n    var t = function () {\n      if ("undefined" == typeof Reflect || !Reflect.construct) return !1;\n      if (Reflect.construct.sham) return !1;\n      if ("function" == typeof Proxy) return !0;\n\n      try {\n        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0;\n      } catch (e) {\n        return !1;\n      }\n    }();\n\n    return function () {\n      var n,\n          i = g()(e);\n\n      if (t) {\n        var r = g()(this).constructor;\n        n = Reflect.construct(i, arguments, r);\n      } else n = i.apply(this, arguments);\n\n      return f()(this, n);\n    };\n  }\n\n  Object.freeze(Fe);\n\n  var De,\n      Ne = function (e) {\n    d()(n, e);\n    var t = ke(n);\n\n    function n() {\n      var e;\n      return s()(this, n), e = t.call(this), m()(u()(e), "PROFESSOR", "professor"), m()(u()(e), "COURSE_TITLE", "courseTitle"), m()(u()(e), "COURSE_NUMBER", "courseNumber"), m()(u()(e), "DEPARTMENT", "department"), m()(u()(e), "COURSE", "course"), m()(u()(e), "SCHOOL", "school"), m()(u()(e), "SUBJECT", "subject"), m()(u()(e), "SELECTED_SCHOOL", "selected_school"), m()(u()(e), "events", {\n        UPDATE: "FilterStore.events.UPDATE",\n        UPDATE_IN_META: "FilterStore.events.UPDATE_IN_META"\n      }), m()(u()(e), "schema", {\n        Professor: {\n          id: he["int"](),\n          label: he.string()\n        },\n        CourseTitle: {\n          id: he["int"](),\n          label: he.string()\n        },\n        CourseNumber: {\n          id: he["int"](),\n          label: he.string()\n        },\n        Department: {\n          id: he["int"](),\n          label: he.string()\n        },\n        Course: {\n          course_id: he["int"](),\n          course_num: he.string(),\n          course_name: he.string(),\n          dept_acro: he.string(),\n          total_doc_count: he["int"]()\n        },\n        School: {\n          id: he["int"](),\n          label: he.string(),\n          state: he.string(),\n          country: he.string()\n        },\n        Subject: {\n          id: he["int"](),\n          label: he.string()\n        }\n      }), m()(u()(e), "PROFESSOR_API_URL", "/ajax/autocomplete_resultset.php"), m()(u()(e), "COURSE_TITLE_API_URL", "/ajax/autocomplete_resultset.php"), m()(u()(e), "COURSE_NUMBER_API_URL", "/ajax/autocomplete_resultset.php"), m()(u()(e), "DEPARTMENT_API_URL", "/ajax/autocomplete_resultset.php"), m()(u()(e), "COURSES_API_URL", "/api/v1/courses/search/"), m()(u()(e), "SCHOOLS_API_URL", "/ajax/autocomplete_resultset.php"), m()(u()(e), "SUBJECT_API_URL", "/ajax/autocomplete_resultset.php"), e.currentSearch = null, e.defaultSchoolOptions = null, Te._register({\n        setActiveFilter: Te.setActiveFilter,\n        receiveActiveFilters: Te.receiveFilters,\n        resetActive: Te.resetActive,\n        clearSelectedSchoolFilter: Te.clearSelectedSchoolFilter,\n        clearSelectedProfessorFilter: Te.clearSelectedProfessorFilter,\n        clearSelectedCourseTitleFilter: Te.clearSelectedCourseTitleFilter,\n        clearSelectedCourseNumberFilter: Te.clearSelectedCourseNumberFilter,\n        clearSelectedDepartmentFilter: Te.clearSelectedDepartmentFilter,\n        clearSelectedCourseFilter: Te.clearSelectedCourseFilter,\n        clearSelectedSubjectFilter: Te.clearSelectedSubjectFilter,\n        doSearch: Te.doSearch,\n        receiveInMeta: Te.receiveInMeta,\n        loadDefaultSchools: Te.loadDefaultSchools,\n        resetAll: Te.resetAll\n      }, u()(e)), e.getInMetaFilters = e.getInMetaFilters.bind(u()(e)), e;\n    }\n\n    return l()(n, [{\n      key: "getProfessorFilters",\n      value: function value() {\n        return this.getFilters(this.PROFESSOR);\n      }\n    }, {\n      key: "getCourseTitleFilters",\n      value: function value() {\n        return this.getFilters(this.COURSE_TITLE);\n      }\n    }, {\n      key: "getCourseNumberFilters",\n      value: function value() {\n        return this.getFilters(this.COURSE_NUMBER);\n      }\n    }, {\n      key: "getDepartmentFilters",\n      value: function value() {\n        return this.getFilters(this.DEPARTMENT);\n      }\n    }, {\n      key: "getCourseFilters",\n      value: function value() {\n        return this.getFilters(this.COURSE);\n      }\n    }, {\n      key: "getSchoolFilters",\n      value: function value() {\n        return this.getFilters(this.SCHOOL);\n      }\n    }, {\n      key: "getSubjectFilters",\n      value: function value() {\n        return this.getFilters(this.SUBJECT);\n      }\n    }, {\n      key: "getFilters",\n      value: function value(e) {\n        return this.getRows(e);\n      }\n    }, {\n      key: "clearSelectedSchoolFilter",\n      value: function value() {\n        this.clearAll(this.SELECTED_SCHOOL), this.resetActive(this.COURSE, !0), this.emit(this.events.UPDATE);\n      }\n    }, {\n      key: "clearSelectedProfessorFilter",\n      value: function value() {\n        this.resetActive(this.PROFESSOR);\n      }\n    }, {\n      key: "clearSelectedCourseTitleFilter",\n      value: function value() {\n        this.resetActive(this.COURSE_TITLE);\n      }\n    }, {\n      key: "clearSelectedCourseNumberFilter",\n      value: function value() {\n        this.resetActive(this.COURSE_NUMBER);\n      }\n    }, {\n      key: "clearSelectedDepartmentFilter",\n      value: function value() {\n        this.clearAll(this.DEPARTMENT), this.resetActive(this.COURSE_NUMBER, !0), this.emit(this.events.UPDATE);\n      }\n    }, {\n      key: "clearSelectedCourseFilter",\n      value: function value() {\n        this.resetActive(this.COURSE);\n      }\n    }, {\n      key: "clearSelectedSubjectFilter",\n      value: function value() {\n        this.resetActive(this.SUBJECT);\n      }\n    }, {\n      key: "resetAll",\n      value: function value() {\n        this.clearAll(this.SELECTED_SCHOOL), this.resetActive(this.SCHOOL, !0), this.resetActive(this.PROFESSOR, !0), this.resetActive(this.COURSE_TITLE, !0), this.resetActive(this.COURSE_NUMBER, !0), this.resetActive(this.DEPARTMENT, !0), this.resetActive(this.COURSE, !0), this.resetActive(this.SUBJECT, !0), this.emit(this.events.UPDATE);\n      }\n    }, {\n      key: "setActiveFilter",\n      value: function value(e) {\n        this.resetActive(e.type), e.type === this.SCHOOL && (this.clearAll(this.COURSE), this.emit(this.events.UPDATE, this.COURSE), this.clearSelectedSchoolFilter(), this.upsertRow(this.SELECTED_SCHOOL, "id", e.id, e)), e.active = !0, this.upsertRow(e.type, "id", e.id, e), this.emit(this.events.UPDATE, e.type), Te.selectedFilters(this.getActiveFilterIds());\n      }\n    }, {\n      key: "resetActive",\n      value: function value(e, t) {\n        var n = this;\n        this.getRows(e).forEach(function (e) {\n          e.active = !1, n.upsertRow(e.type, "id", e.id, e);\n        }), t || (this.emit(this.events.UPDATE, e), Te.selectedFilters(this.getActiveFilterIds()));\n      }\n    }, {\n      key: "getActiveProfessorFilter",\n      value: function value() {\n        return this.getActiveFilter(this.PROFESSOR);\n      }\n    }, {\n      key: "getActiveCourseTitleFilter",\n      value: function value() {\n        return this.getActiveFilter(this.COURSE_TITLE);\n      }\n    }, {\n      key: "getActiveCourseNumberFilter",\n      value: function value() {\n        return this.getActiveFilter(this.COURSE_NUMBER);\n      }\n    }, {\n      key: "getActiveDepartmentFilter",\n      value: function value() {\n        return this.getActiveFilter(this.DEPARTMENT);\n      }\n    }, {\n      key: "getActiveCourseFilter",\n      value: function value() {\n        return this.getActiveFilter(this.COURSE);\n      }\n    }, {\n      key: "getActiveSchoolFilter",\n      value: function value() {\n        return this.getActiveFilter(this.SCHOOL);\n      }\n    }, {\n      key: "getActiveSubjectFilter",\n      value: function value() {\n        return this.getActiveFilter(this.SUBJECT);\n      }\n    }, {\n      key: "getActiveFilter",\n      value: function value(e) {\n        if (e === this.SCHOOL) return this.getRows(this.SELECTED_SCHOOL)[0];\n        var t = this.getFilters(e).filter(function (e) {\n          return e.active;\n        });\n        return 0 === t.length ? null : t[0];\n      }\n    }, {\n      key: "getActiveFilters",\n      value: function value() {\n        return {\n          professor: this.getActiveProfessorFilter(),\n          courseTitle: this.getActiveCourseTitleFilter(),\n          courseNumber: this.getActiveCourseNumberFilter(),\n          department: this.getActiveDepartmentFilter(),\n          course: this.getActiveCourseFilter(),\n          school: this.getActiveSchoolFilter(),\n          subject: this.getActiveSubjectFilter()\n        };\n      }\n    }, {\n      key: "getActiveFilterIds",\n      value: function value() {\n        var e,\n            t,\n            n,\n            i,\n            r,\n            o,\n            s,\n            a,\n            l,\n            c,\n            u,\n            h,\n            d,\n            p,\n            f = this.getActiveFilters();\n        return {\n          professor: null !== (e = null == f ? void 0 : null === (t = f.professor) || void 0 === t ? void 0 : t.id) && void 0 !== e ? e : 0,\n          courseTitle: null !== (n = null == f ? void 0 : null === (i = f.courseTitle) || void 0 === i ? void 0 : i.id) && void 0 !== n ? n : 0,\n          courseNumber: null !== (r = null == f ? void 0 : null === (o = f.courseNumber) || void 0 === o ? void 0 : o.id) && void 0 !== r ? r : 0,\n          department: null !== (s = null == f ? void 0 : null === (a = f.department) || void 0 === a ? void 0 : a.id) && void 0 !== s ? s : 0,\n          course: null !== (l = null == f ? void 0 : null === (c = f.course) || void 0 === c ? void 0 : c.id) && void 0 !== l ? l : 0,\n          school: null !== (u = null == f ? void 0 : null === (h = f.school) || void 0 === h ? void 0 : h.id) && void 0 !== u ? u : 0,\n          subject: null !== (d = null == f ? void 0 : null === (p = f.subject) || void 0 === p ? void 0 : p.id) && void 0 !== d ? d : 0\n        };\n      }\n    }, {\n      key: "getDefaultSchoolFilter",\n      value: function value() {\n        return {\n          id: 0,\n          type: xe.SCHOOL,\n          mainText: "Enter your School"\n        };\n      }\n    }, {\n      key: "receiveProfessorFilters",\n      value: function value(e) {\n        this.receiveFilters(e, this.PROFESSOR);\n      }\n    }, {\n      key: "receiveCourseTitleFilters",\n      value: function value(e) {\n        this.receiveFilters(e, this.COURSE_TITLE);\n      }\n    }, {\n      key: "receiveCourseNumberFilters",\n      value: function value(e) {\n        this.receiveFilters(e, this.COURSE_NUMBER);\n      }\n    }, {\n      key: "receiveDepartmentFilters",\n      value: function value(e) {\n        this.receiveFilters(e, this.DEPARTMENT);\n      }\n    }, {\n      key: "receiveCourseFilters",\n      value: function value(e) {\n        this.receiveFilters(e, this.COURSE);\n      }\n    }, {\n      key: "receiveSchoolFilters",\n      value: function value(e) {\n        this.receiveFilters(e, this.SCHOOL);\n      }\n    }, {\n      key: "receiveSubjectFilters",\n      value: function value(e) {\n        this.receiveFilters(e, this.SUBJECT);\n      }\n    }, {\n      key: "receiveFilters",\n      value: function value(e) {\n        var t = this,\n            n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";\n        e.forEach(function (e) {\n          t.upsertRow(e.type, "id", e.id, e);\n        }), this.emit(this.events.UPDATE, n);\n      }\n    }, {\n      key: "receiveActiveFilters",\n      value: function value(e) {\n        for (var t in e) {\n          var n = e[t];\n          this.upsertRow(n.type, "id", n.id, n), this.emit(this.events.UPDATE, n.type);\n        }\n      }\n    }, {\n      key: "doSearch",\n      value: function value(e) {\n        null !== this.currentSearch && this.currentSearch.abort(), e[1] && this.clearAll(e[0].type);\n        var t = {\n          value: e[0].value\n        };\n\n        switch ("limit" in e[0] && (t.limit = e[0].limit), e[0].type) {\n          case this.PROFESSOR:\n            this.doProfessorSearch(e[0]);\n            break;\n\n          case this.COURSE_TITLE:\n            this.doCourseTitleSearch(e[0]);\n            break;\n\n          case this.COURSE_NUMBER:\n            this.doCourseNumberSearch(e[0]);\n            break;\n\n          case this.DEPARTMENT:\n            this.doDepartmentSearch(e[0]);\n            break;\n\n          case this.COURSE:\n            this.doCourseSearch(e[0].value);\n            break;\n\n          case this.SCHOOL:\n            this.doSchoolSearch(t);\n            break;\n\n          case this.SUBJECT:\n            this.doSubjectSearch(e[0].value);\n        }\n      }\n    }, {\n      key: "doProfessorSearch",\n      value: function value(e) {\n        var t,\n            n,\n            i,\n            r,\n            o = this,\n            s = null === (t = this.getActiveSchoolFilter()) || void 0 === t ? void 0 : t.id,\n            a = null !== (n = null === (i = this.getActiveDepartmentFilter()) || void 0 === i ? void 0 : i.id) && void 0 !== n ? n : 0,\n            l = this.getActiveDepartmentFilter() ? null === (r = this.getActiveDepartmentFilter()) || void 0 === r ? void 0 : r.mainText : "",\n            c = {\n          school: s,\n          dept: a > 0 ? a : l,\n          term: e.value,\n          type: "school_dept_professor"\n        };\n        e.limit && (c.limit = e.limit), this.currentSearch = de().get(this.PROFESSOR_API_URL, c).done(function (e) {\n          var t = o.sanitizeRawProfessorFilters(e);\n          o.receiveProfessorFilters(t);\n        });\n      }\n    }, {\n      key: "sanitizeRawProfessorFilters",\n      value: function value(e) {\n        var t = this;\n        return e.map(function (e) {\n          return {\n            id: parseInt(e.id ? e.id : "0"),\n            active: !1,\n            type: t.PROFESSOR,\n            mainText: e.label,\n            subText: void 0\n          };\n        });\n      }\n    }, {\n      key: "doCourseTitleSearch",\n      value: function value(e) {\n        var t,\n            n,\n            i = this,\n            r = {\n          school: null === (t = this.getActiveSchoolFilter()) || void 0 === t ? void 0 : t.id,\n          dept: null === (n = this.getActiveDepartmentFilter()) || void 0 === n ? void 0 : n.mainText,\n          term: e.value,\n          type: "school_dept_course_title"\n        };\n        e.limit && (r.limit = e.limit), this.currentSearch = de().get(this.COURSE_TITLE_API_URL, r).done(function (e) {\n          var t = i.sanitizeRawCourseTitleFilters(e);\n          i.receiveCourseTitleFilters(t);\n        });\n      }\n    }, {\n      key: "sanitizeRawCourseTitleFilters",\n      value: function value(e) {\n        var t = this;\n        return e.map(function (e) {\n          return {\n            id: parseInt(e.id ? e.id : "0"),\n            active: !1,\n            type: t.COURSE_TITLE,\n            mainText: e.label,\n            subText: void 0\n          };\n        });\n      }\n    }, {\n      key: "doCourseNumberSearch",\n      value: function value(e) {\n        var t,\n            n = this,\n            i = {\n          term: (null === (t = this.getActiveDepartmentFilter()) || void 0 === t ? void 0 : t.mainText) + e.value,\n          type: "course"\n        };\n        e.limit && (i.limit = e.limit), this.currentSearch = de().get(this.COURSE_NUMBER_API_URL, i).done(function (e) {\n          var t = n.sanitizeRawCourseNumberFilters(e);\n          n.receiveCourseNumberFilters(t);\n        });\n      }\n    }, {\n      key: "sanitizeRawCourseNumberFilters",\n      value: function value(e) {\n        var t,\n            n,\n            i = this,\n            r = null === (t = this.getActiveDepartmentFilter()) || void 0 === t ? void 0 : null === (n = t.mainText) || void 0 === n ? void 0 : n.length;\n        return e.filter(function (e) {\n          return e && e.id > 0 && e.label;\n        }).map(function (e) {\n          return {\n            id: parseInt(e.id),\n            active: !1,\n            type: i.COURSE_NUMBER,\n            mainText: e.label.substring(r).trim(),\n            subText: void 0\n          };\n        });\n      }\n    }, {\n      key: "doDepartmentSearch",\n      value: function value(e) {\n        var t = this,\n            n = {\n          term: e.value,\n          type: this.DEPARTMENT\n        };\n        e.limit && (n.limit = e.limit), this.currentSearch = de().get(this.DEPARTMENT_API_URL, n).done(function (e) {\n          var n = t.sanitizeRawDepartmentFilters(e);\n          t.receiveDepartmentFilters(n);\n        });\n      }\n    }, {\n      key: "sanitizeRawDepartmentFilters",\n      value: function value(e) {\n        var t = this;\n        return e.filter(function (e) {\n          return e && e.id > 0;\n        }).map(function (e) {\n          return {\n            id: parseInt(e.id ? e.id : "0"),\n            active: !1,\n            type: t.DEPARTMENT,\n            mainText: e.label,\n            subText: void 0\n          };\n        });\n      }\n    }, {\n      key: "doCourseSearch",\n      value: function value(e) {\n        var t,\n            n = this,\n            i = this.COURSES_API_URL;\n        this.currentSearch = de().get(i, {\n          q: e,\n          schoolId: null === (t = this.getActiveSchoolFilter()) || void 0 === t ? void 0 : t.id\n        }).done(function (e) {\n          if (e.results) {\n            var t = e.results.filter(function (e) {\n              return e.course_id > 0;\n            }).map(function (e) {\n              return e = n.sanitize(e, n.schema.Course, !0), {\n                id: parseInt(e.course_id),\n                active: !1,\n                type: n.COURSE,\n                mainText: e.dept_acro + " " + e.course_num,\n                subText: e.course_name,\n                extraText: e.dept_acro,\n                extraSubText: e.course_num,\n                aside: e.total_doc_count + " Document" + (e.total_doc_count > 1 ? "s" : "")\n              };\n            });\n            n.receiveCourseFilters(t);\n          } else n.receiveCourseFilters([]);\n        });\n      }\n    }, {\n      key: "sanitizeRawSchoolFilters",\n      value: function value(e) {\n        var t = this;\n        return e.filter(function (e) {\n          return e && (e.id > 0 || e.school_id > 0);\n        }).map(function (e) {\n          return {\n            id: parseInt(e.id ? e.id : e.school_id),\n            active: !1,\n            type: t.SCHOOL,\n            mainText: e.label ? e.label : e.school_name,\n            subText: e.state ? e.state : e.location && e.location.subdivision ? e.location.subdivision : null\n          };\n        });\n      }\n    }, {\n      key: "doSchoolSearch",\n      value: function value(e) {\n        var t = this,\n            n = {\n          term: e.value,\n          type: this.SCHOOL\n        };\n        e.limit && (n.limit = e.limit), this.currentSearch = de().get(this.SCHOOLS_API_URL, n).done(function (e) {\n          var n = t.sanitizeRawSchoolFilters(e);\n          t.receiveSchoolFilters(n);\n        });\n      }\n    }, {\n      key: "doSubjectSearch",\n      value: function value(e) {\n        var t = this;\n        this.currentSearch = de().get(this.SUBJECT_API_URL, {\n          term: e,\n          type: this.SUBJECT\n        }).done(function (e) {\n          var n = e.filter(function (e) {\n            return e.id > 0;\n          }).map(function (e) {\n            return e = t.sanitize(e, t.schema.Subject, !0), {\n              id: parseInt(e.id),\n              active: !1,\n              type: t.SUBJECT,\n              mainText: e.label,\n              subText: ""\n            };\n          });\n          t.receiveSubjectFilters(n);\n        });\n      }\n    }, {\n      key: "receiveInMeta",\n      value: function value(e) {\n        var t = this;\n        e.forEach(function (e) {\n          t.upsertRow("inmeta", "type", e.type, e, !0);\n        }), this.emit(this.events.UPDATE_IN_META);\n      }\n    }, {\n      key: "getInMetaFilters",\n      value: function value() {\n        return this.getRows("inmeta");\n      }\n    }, {\n      key: "getInMetaName",\n      value: function value(e) {\n        return Ae[e];\n      }\n    }, {\n      key: "constructInMetaTag",\n      value: function value(e) {\n        var t = e.constraints,\n            n = t.lower,\n            i = t.upper;\n        if (!n && !i) return "";\n        n = n || "", i = i || "";\n        var r = this.getInMetaName(e.type);\n        return r ? "".concat(r, ":").concat(e.constraints.lower, "..").concat(e.constraints.upper) : "";\n      }\n    }, {\n      key: "getAppliedInMetaFilters",\n      value: function value(e) {\n        var t = [];\n        return e === Fe.QUESTION && t.push(Re.QADateAsked), e === Fe.FLASHCARD && t.push(Re.FSCreated), e === Fe.DOCUMENT && (t.push(Re.DocDate), t.push(Re.PageCount)), t;\n      }\n    }, {\n      key: "buildInMetaQuery",\n      value: function value(e) {\n        var t = this,\n            n = this.getAppliedInMetaFilters(e);\n        return this.getRows("inmeta").filter(function (e) {\n          var i = n.indexOf(e.type) > -1,\n              r = t.constructInMetaTag(e);\n          return i && r && r.length > 0;\n        }).map(function (e) {\n          var n = t.constructInMetaTag(e);\n          return "inmeta:".concat(n);\n        }).join(" ");\n      }\n    }, {\n      key: "loadDefaultSchools",\n      value: function value(e) {\n        e && (this.defaultSchoolOptions = this.sanitizeRawSchoolFilters(e)), this.emit(this.events.UPDATE, this.SCHOOL);\n      }\n    }]), n;\n  }(he),\n      xe = Ee.define("FilterStore", function () {\n    return new Ne();\n  });\n\n  !function (e) {\n    e[e.ENTER = 13] = "ENTER", e[e.ESC = 27] = "ESC", e[e.BACKSPACE = 8] = "BACKSPACE", e[e.TAB = 9] = "TAB", e[e.RIGHT_ARROW = 39] = "RIGHT_ARROW", e[e.UP_ARROW = 38] = "UP_ARROW", e[e.DOWN_ARROW = 40] = "DOWN_ARROW", e[e.DEL = 46] = "DEL";\n  }(De || (De = {}));\n  var Ie = De;\n\n  function Pe(e) {\n    var t = function () {\n      if ("undefined" == typeof Reflect || !Reflect.construct) return !1;\n      if (Reflect.construct.sham) return !1;\n      if ("function" == typeof Proxy) return !0;\n\n      try {\n        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0;\n      } catch (e) {\n        return !1;\n      }\n    }();\n\n    return function () {\n      var n,\n          i = g()(e);\n\n      if (t) {\n        var r = g()(this).constructor;\n        n = Reflect.construct(i, arguments, r);\n      } else n = i.apply(this, arguments);\n\n      return f()(this, n);\n    };\n  }\n\n  var Ue = function (e) {\n    d()(n, e);\n    var t = Pe(n);\n\n    function n() {\n      return s()(this, n), t.apply(this, arguments);\n    }\n\n    return l()(n, [{\n      key: "render",\n      value: function value() {\n        var e = this;\n        if (0 == this.props.items.length) return null;\n        var t = this.props.items.map(function (t) {\n          var n = t.id + t.mainText + t.subText;\n          if (t.selected) var r = "selected";else r = "";\n          var o = e.props.showSubText ? i.createElement("div", {\n            className: "ct_subText_text"\n          }, t.subText) : null,\n              s = e.props.showAside ? i.createElement("div", {\n            className: "ct_subText_aside"\n          }, i.createElement("span", null, t.aside)) : null;\n          return i.createElement("li", {\n            key: n,\n            className: r,\n            onMouseOver: e.props.handleHover.bind(null, t)\n          }, i.createElement("a", {\n            onClick: e.props.handleClick.bind(null, t.id)\n          }, i.createElement("div", {\n            className: "ct_mainText_text"\n          }, t.mainText), o, s));\n        }),\n            n = this.props.className ? this.props.className : "ct_autocompleteList_container",\n            r = null,\n            o = null;\n        return this.props.showTitle && this.props.titleText && t.length > 1 && (r = t[0], o = i.createElement("li", {\n          className: "ct_autocomplete_list_title"\n        }, this.props.titleText), t = t.slice(1)), i.createElement("div", {\n          className: n\n        }, i.createElement("ul", {\n          className: "ct_autocompleteList_bundle"\n        }, r, o, t));\n      }\n    }]), n;\n  }(i.Component);\n\n  function Le(e) {\n    var t = function () {\n      if ("undefined" == typeof Reflect || !Reflect.construct) return !1;\n      if (Reflect.construct.sham) return !1;\n      if ("function" == typeof Proxy) return !0;\n\n      try {\n        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0;\n      } catch (e) {\n        return !1;\n      }\n    }();\n\n    return function () {\n      var n,\n          i = g()(e);\n\n      if (t) {\n        var r = g()(this).constructor;\n        n = Reflect.construct(i, arguments, r);\n      } else n = i.apply(this, arguments);\n\n      return f()(this, n);\n    };\n  }\n\n  var Be = function (e) {\n    d()(n, e);\n    var t = Le(n);\n\n    function n(e) {\n      var i;\n      s()(this, n), i = t.call(this, e);\n      var r = e.dropdownLimit ? e.dropdownLimit : 10;\n      return i.state = {\n        showDropdown: !1,\n        tempSelect: 0,\n        oldValue: "",\n        dropdownItems: e.dropdownItems.slice(0, r)\n      }, i.handleChange = i.handleChange.bind(u()(i)), i.handleClick = i.handleClick.bind(u()(i)), i.handleKeyDown = i.handleKeyDown.bind(u()(i)), i.handleHover = i.handleHover.bind(u()(i)), i.handleBlur = i.handleBlur.bind(u()(i)), i.handleFocus = i.handleFocus.bind(u()(i)), i;\n    }\n\n    return l()(n, [{\n      key: "componentDidMount",\n      value: function value() {\n        $(document).on("click", this.handleBlur);\n      }\n    }, {\n      key: "componentWillUnmount",\n      value: function value() {\n        $(document).off("click", this.handleBlur);\n      }\n    }, {\n      key: "componentDidUpdate",\n      value: function value(e) {\n        if (this.props.showDropdownControl !== e.showDropdownControl || this.props.dropdownItems !== e.dropdownItems) {\n          var t = {};\n          !1 === this.props.showDropdownControl && (t.showDropdown = !1), this.props.dropdownItems && (t.tempSelect = 0);\n          var n = this.props.dropdownLimit || 10;\n          t.dropdownItems = (this.props.dropdownItems || []).slice(0, n), this.setState(t);\n        }\n      }\n    }, {\n      key: "handleChange",\n      value: function value(e, t) {\n        var n = "string" == typeof t ? t : e.target.value;\n        this.setState({\n          showDropdown: !this.props.disabled\n        }), this.props.handleChange(this.props.type, n);\n      }\n    }, {\n      key: "handleClick",\n      value: function value(e) {\n        if (!(e < 0 && -100 != e)) {\n          var t = 0,\n              n = this.state.dropdownItems.filter(function (n, i) {\n            if (n.id === e) return t = i, n.itemIndex = i + 1, !0;\n          })[0];\n          this.setState({\n            showDropdown: !1,\n            tempSelect: t\n          }), this.props.handleClick(this.props.type, n);\n        }\n      }\n    }, {\n      key: "handleHover",\n      value: function value(e) {\n        var t = this.state.tempSelect;\n        this.state.dropdownItems.forEach(function (n, i) {\n          n.id === e.id && (t = i);\n        }), this.setState({\n          tempSelect: t\n        });\n      }\n    }, {\n      key: "handleKeyDown",\n      value: function value(e) {\n        switch (e.keyCode || e.which) {\n          case Ie.TAB:\n            this.setState({\n              showDropdown: !1\n            });\n            break;\n\n          case Ie.RIGHT_ARROW:\n          case Ie.ENTER:\n            this.state.dropdownItems.length > 0 && this.handleClick(this.state.dropdownItems[this.state.tempSelect].id);\n            break;\n\n          case Ie.UP_ARROW:\n            this.state.tempSelect > 0 && this.setState({\n              tempSelect: this.state.tempSelect - 1\n            });\n            break;\n\n          case Ie.DOWN_ARROW:\n            this.state.tempSelect < this.state.dropdownItems.length - 1 && this.setState({\n              tempSelect: this.state.tempSelect + 1\n            });\n            break;\n\n          case Ie.ESC:\n            this.props.value ? this.handleChange(null, "") : this.props.onEscapeSearch && this.props.onEscapeSearch();\n        }\n      }\n    }, {\n      key: "handleBlur",\n      value: function value(e) {\n        this.props.handleBlurEventTarget && !$(e.target).is("fieldset." + this.props.handleBlurEventTarget + " *") && this.setState({\n          showDropdown: !1\n        }), $(e.target).is(".ct_autocompleteList_container, .ct_autocompleteList_container *, .autocompleteFilter_input") || (this.setState({\n          showDropdown: !1\n        }), this.props.onBlur && this.props.onBlur());\n      }\n    }, {\n      key: "handleFocus",\n      value: function value() {\n        var e;\n        this.props.type == xe.SCHOOL && null !== (e = xe.getActiveSchoolFilter()) && void 0 !== e && e.id || (this.setState({\n          showDropdown: !0\n        }), this.props.onFocus && this.props.onFocus());\n      }\n    }, {\n      key: "render",\n      value: function value() {\n        var e = this,\n            t = this.state.dropdownItems.map(function (t, n) {\n          var i;\n          return {\n            key: null !== (i = null == t ? void 0 : t.mainText) && void 0 !== i ? i : "" + t.id,\n            id: t.id,\n            mainText: t.mainText,\n            subText: t.subText,\n            selected: e.state.tempSelect === n,\n            aside: t.aside\n          };\n        }),\n            n = this.state.showDropdown ? i.createElement(Ue, {\n          items: t,\n          handleClick: this.handleClick,\n          handleHover: this.handleHover,\n          className: this.props.listClass,\n          showTitle: this.props.showDropdownTitle,\n          showSubText: !this.props.hideListSubText,\n          titleText: this.props.dropdownTitleText\n        }) : null,\n            r = this.props.disabled && this.props.placeholder ? this.props.placeholder : this.props.value,\n            o = this.props.iconLeft ? this.props.iconLeft : null,\n            s = this.props.iconRight ? this.props.iconRight : null;\n        return i.createElement(i.Fragment, null, i.createElement("div", {\n          className: "ct_autocomplete_wrapper"\n        }, o, i.createElement("input", {\n          className: "autocompleteFilter_input",\n          type: "search",\n          value: r,\n          onChange: this.handleChange,\n          onFocus: this.handleFocus,\n          placeholder: this.props.placeholder,\n          disabled: this.props.disabled,\n          onKeyDown: this.handleKeyDown\n        }), s, o || s ? null : n), o || s ? n : null);\n      }\n    }]), n;\n  }(i.Component);\n\n  function Me(e) {\n    var t = function () {\n      if ("undefined" == typeof Reflect || !Reflect.construct) return !1;\n      if (Reflect.construct.sham) return !1;\n      if ("function" == typeof Proxy) return !0;\n\n      try {\n        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0;\n      } catch (e) {\n        return !1;\n      }\n    }();\n\n    return function () {\n      var n,\n          i = g()(e);\n\n      if (t) {\n        var r = g()(this).constructor;\n        n = Reflect.construct(i, arguments, r);\n      } else n = i.apply(this, arguments);\n\n      return f()(this, n);\n    };\n  }\n\n  var He,\n      We,\n      je,\n      ze = function (e) {\n    d()(n, e);\n    var t = Me(n);\n\n    function n() {\n      return s()(this, n), t.apply(this, arguments);\n    }\n\n    return l()(n, [{\n      key: "handleBlur",\n      value: function value(e) {\n        this.props.handleBlurEventTarget && !$(e.target).is("fieldset." + this.props.handleBlurEventTarget + " *") && this.setState({\n          showDropdown: !1\n        }), $(e.target).is(".ct_autocompleteList_container, .ct_autocompleteList_container *, .autocompleteFilter_input") || this.setState({\n          showDropdown: !1\n        });\n      }\n    }, {\n      key: "render",\n      value: function value() {\n        var e,\n            t,\n            n,\n            r,\n            o,\n            s = this,\n            a = this.props.dropdownItems.map(function (e, t) {\n          var n;\n          return {\n            key: null !== (n = null == e ? void 0 : e.mainText) && void 0 !== n ? n : "" + e.id,\n            id: e.id,\n            mainText: e.mainText,\n            subText: e.subText,\n            selected: s.state.tempSelect === t,\n            aside: e.aside\n          };\n        }).slice(0, 10),\n            l = null;\n        this.props.dropdownAlternative && 1 == a.length && -1 == a[0].id ? l = this.props.dropdownAlternative : this.state.showDropdown && (l = i.createElement(Ue, {\n          items: a.slice(0, this.props.dropdownLimit ? this.props.dropdownLimit : 10),\n          handleClick: this.handleClick,\n          handleHover: this.handleHover,\n          className: this.props.listClass,\n          showAside: !this.props.hideListAside,\n          showSubText: !this.props.hideListSubText\n        }));\n        var c = this.props.fieldSetAndLabelConfig && this.props.fieldSetAndLabelConfig.inputClass ? this.props.fieldSetAndLabelConfig.inputClass : "autocompleteFilter_input";\n        this.props.error && (o = i.createElement("span", {\n          className: "txt-red"\n        }, this.props.error), c += " error");\n        var u,\n            h = null !== (e = this.props.fieldSetAndLabelConfig) && void 0 !== e && e.dontRememberOldValue ? i.createElement("input", {\n          type: "search",\n          onChange: this.handleChange,\n          placeholder: this.props.placeholder,\n          disabled: this.props.disabled,\n          onKeyDown: this.handleKeyDown,\n          className: c,\n          onFocus: this.props.onFocus,\n          onBlur: this.props.onBlur\n        }) : i.createElement("input", {\n          type: "search",\n          value: this.props.value,\n          onChange: this.handleChange,\n          placeholder: this.props.placeholder,\n          disabled: this.props.disabled,\n          onKeyDown: this.handleKeyDown,\n          className: c,\n          onFocus: this.props.onFocus,\n          onBlur: this.props.onBlur\n        });\n\n        if (null !== (t = this.props.fieldSetAndLabelConfig) && void 0 !== t && t.useLabel) {\n          var d = this.props.fieldSetAndLabelConfig.labelContent;\n          u = i.createElement("label", {\n            className: this.props.fieldSetAndLabelConfig.labelClass\n          }, d);\n        }\n\n        var p,\n            f = this.props.iconRight;\n        return null !== (n = this.props.fieldSetAndLabelConfig) && void 0 !== n && n.useFieldSet ? i.createElement("div", {\n          className: this.props.fieldSetAndLabelConfig.fieldSetContainerClass\n        }, i.createElement("fieldset", {\n          id: this.props.fieldSetAndLabelConfig.fieldSetId,\n          className: this.props.fieldSetAndLabelConfig.fieldSetClass,\n          disabled: this.props.disabled\n        }, u, i.createElement("div", {\n          className: "search_input_dropdown"\n        }, h, f, l)), o) : null !== (r = this.props.fieldSetAndLabelConfig) && void 0 !== r && r.noWrapper ? i.createElement(i.Fragment, null, i.createElement("div", {\n          className: "search_input_dropdown"\n        }, h, f, l), o) : i.createElement("div", {\n          className: null === (p = this.props.fieldSetAndLabelConfig) || void 0 === p ? void 0 : p.fieldSetContainerClass\n        }, i.createElement("div", {\n          className: "search_input_dropdown"\n        }, h, f, l), o);\n      }\n    }]), n;\n  }(Be),\n      qe = (He = ve(250), We = ve(250), je = function () {\n    function e() {\n      s()(this, e);\n    }\n\n    return l()(e, null, [{\n      key: "loadTrendingSchools",\n      value: function value() {\n        de().get("/api/v1/schools/trending/", {}).done(function (e) {\n          Te.loadDefaultSchools(e);\n        });\n      }\n    }, {\n      key: "loadNearbySchools",\n      value: function value(e, t) {\n        de().get("/api/v1/autocomplete/schools/", {}).then(function (t) {\n          e && e(t);\n        }, function () {\n          t && t();\n        });\n      }\n    }]), e;\n  }(), ee()(je, "loadTrendingSchools", [He], Object.getOwnPropertyDescriptor(je, "loadTrendingSchools"), je), ee()(je, "loadNearbySchools", [We], Object.getOwnPropertyDescriptor(je, "loadNearbySchools"), je), je);\n\n  function Qe(e) {\n    var t = function () {\n      if ("undefined" == typeof Reflect || !Reflect.construct) return !1;\n      if (Reflect.construct.sham) return !1;\n      if ("function" == typeof Proxy) return !0;\n\n      try {\n        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0;\n      } catch (e) {\n        return !1;\n      }\n    }();\n\n    return function () {\n      var n,\n          i = g()(e);\n\n      if (t) {\n        var r = g()(this).constructor;\n        n = Reflect.construct(i, arguments, r);\n      } else n = i.apply(this, arguments);\n\n      return f()(this, n);\n    };\n  }\n\n  var $e,\n      Ge,\n      Ke,\n      Ve,\n      Je,\n      Xe,\n      Ye,\n      Ze,\n      et,\n      tt,\n      nt,\n      it,\n      rt,\n      ot = function (e) {\n    d()(n, e);\n    var t = Qe(n);\n\n    function n(e) {\n      var i, r;\n      return s()(this, n), r = t.call(this, e), m()(u()(r), "searchUrl", ""), r.state = {\n        school: {\n          id: 0,\n          type: "school"\n        },\n        schoolOptions: [],\n        defaultSchoolOptions: [],\n        searchQuery: "",\n        loading: !1,\n        showDropdownTitle: !0,\n        placeholder: null !== (i = r.props.placeholder) && void 0 !== i ? i : "",\n        dropdownTitleText: ""\n      }, r.getSchoolSearch = r.getSchoolSearch.bind(u()(r)), r.handleSearchChange = r.handleSearchChange.bind(u()(r)), r.handleSearchClick = r.handleSearchClick.bind(u()(r)), r.onFilterStoreUpdate = r.onFilterStoreUpdate.bind(u()(r)), r.handleInputFocus = r.handleInputFocus.bind(u()(r)), r.handleInputBlur = r.handleInputBlur.bind(u()(r)), r.handleResetState = r.handleResetState.bind(u()(r)), r;\n    }\n\n    return l()(n, [{\n      key: "componentDidMount",\n      value: function value() {\n        this.props.defaultSchoolFilter && this.props.defaultSchoolFilter.id && (this.props.defaultSchoolFilter.mainText && this.setState({\n          searchQuery: this.props.defaultSchoolFilter.mainText\n        }), this.setState({\n          school: this.props.defaultSchoolFilter\n        }), this.getSchoolSearch()), xe.listen(xe.events.UPDATE, this.onFilterStoreUpdate);\n        var e = xe.getActiveSchoolFilter();\n        e && !this.props.disableSchoolInitLoad && this.setState({\n          school: e\n        }), this.loadDefaultSchools(), this.props.componentRef && this.props.componentRef.current && (this.props.componentRef.current.handleResetState = this.handleResetState), this.props.initLoadValue && this.props.value && (this.setState({\n          searchQuery: this.props.value\n        }), Te.setActiveFilter({\n          type: "school",\n          mainText: this.props.value,\n          id: this.props.schoolId || 0\n        }));\n      }\n    }, {\n      key: "componentWillUnmount",\n      value: function value() {\n        xe.ignore(xe.events.UPDATE, this.onFilterStoreUpdate);\n      }\n    }, {\n      key: "componentDidUpdate",\n      value: function value(e) {\n        var t;\n        this.props.value !== e.value && this.setState({\n          searchQuery: null !== (t = this.props.value) && void 0 !== t ? t : ""\n        });\n      }\n    }, {\n      key: "handleSearchChange",\n      value: function value(e, t) {\n        var n = this,\n            i = {\n          searchQuery: t\n        };\n        "" === t.trim() && (i.school = null, i.schoolOptions = []), this.setState(i, function () {\n          if ("" === t.trim()) n.props.showDefaultInDropdown && Te.loadDefaultSchools(null), Te.resetActive(e), Te.clearSelectedSchoolFilter(), n.props.handleUpdate && n.props.handleUpdate(null);else {\n            var i = {\n              type: e,\n              value: t\n            };\n            n.props.dropdownLimit && (i.limit = n.props.dropdownLimit), Te.doSearch(i, !0);\n          }\n          n.props.handleChange && n.props.handleChange(t);\n        });\n      }\n    }, {\n      key: "handleSearchClick",\n      value: function value(e, t) {\n        var n, i;\n        0 === t.id && (Te.resetActive(e), Te.clearSelectedSchoolFilter(), this.setState({\n          placeholder: null !== (i = this.props.placeholder) && void 0 !== i ? i : ""\n        }));\n        this.props.disabled || (this.props.updateWithFullFilter ? "function" == typeof this.props.handleUpdate && this.props.handleUpdate(t) : "function" == typeof this.props.handleUpdate && this.props.handleUpdate(t.mainText), this.setState({\n          searchQuery: null !== (n = t.mainText) && void 0 !== n ? n : "",\n          school: t\n        }), Te.setActiveFilter(t), this.getSchoolSearch());\n      }\n    }, {\n      key: "handleInputFocus",\n      value: function value() {\n        this.props.activePlaceholder && this.setState({\n          placeholder: this.props.activePlaceholder\n        }), this.props.onFocus && this.props.onFocus();\n      }\n    }, {\n      key: "handleInputBlur",\n      value: function value() {\n        var e;\n        this.props.activePlaceholder && this.setState({\n          placeholder: null !== (e = this.props.placeholder) && void 0 !== e ? e : ""\n        });\n        this.props.onBlur && this.props.onBlur();\n      }\n    }, {\n      key: "onFilterStoreUpdate",\n      value: function value(e, t) {\n        var n = xe.defaultSchoolOptions,\n            i = {\n          showDropdownTitle: !1\n        };\n        i.school = xe.getActiveSchoolFilter() ? xe.getActiveSchoolFilter() : null;\n        var r = [];\n        this.state.searchQuery.trim() ? r = xe.getFilters(t).slice() : n && n.length > 0 && (r = n.slice()), r = r.slice(0, 5), this.state.searchQuery.trim() ? 0 === r.length && r.push({\n          id: -1,\n          type: t,\n          mainText: "No results found"\n        }) : this.props.showDefaultInDropdown && (i.showDropdownTitle = r.length > 0, r.unshift({\n          id: 0,\n          type: t,\n          mainText: "All Schools"\n        })), i.schoolOptions = r, this.setState(i);\n      }\n    }, {\n      key: "handleResetState",\n      value: function value() {\n        var e;\n        xe.clearSelectedSchoolFilter(), this.setState({\n          school: {\n            id: 0,\n            type: "school"\n          },\n          schoolOptions: [],\n          defaultSchoolOptions: [],\n          searchQuery: "",\n          loading: !1,\n          showDropdownTitle: !0,\n          placeholder: null !== (e = this.props.placeholder) && void 0 !== e ? e : "",\n          dropdownTitleText: ""\n        });\n      }\n    }, {\n      key: "getSchoolSearch",\n      value: function value() {\n        var e = this;\n        this.setState({\n          loading: !0\n        }), de().get("/ajax/autocomplete_resultset.php?type=school", {\n          term: ""\n        }).done(function (t) {\n          t && e.setState({\n            loading: !1\n          });\n        });\n      }\n    }, {\n      key: "loadDefaultSchools",\n      value: function value() {\n        this.props.showDefaultInDropdown && (this.props.shouldFindNearbySchools ? this.loadNearbySchools() : this.loadTrendingSchools());\n      }\n    }, {\n      key: "loadTrendingSchools",\n      value: function value() {\n        qe.loadTrendingSchools(), this.setState({\n          dropdownTitleText: "Trending Schools"\n        });\n      }\n    }, {\n      key: "loadNearbySchools",\n      value: function value() {\n        var e = this;\n        qe.loadNearbySchools(function (t) {\n          t && t.hasOwnProperty("results") && t.results.hasOwnProperty("length") && 0 !== t.results.length ? e.setState({\n            dropdownTitleText: "Nearby Schools"\n          }, function () {\n            Te.loadDefaultSchools(t.results);\n          }) : e.loadTrendingSchools();\n        }.bind(this), function () {\n          e.loadTrendingSchools();\n        }.bind(this));\n      }\n    }, {\n      key: "render",\n      value: function value() {\n        var e,\n            t,\n            n = this.state.searchQuery;\n        0 === n.length && this.state.school && (n = null !== (e = null === (t = this.state.school) || void 0 === t ? void 0 : t.mainText) && void 0 !== e ? e : "");\n        var r,\n            o = "";\n        this.props.showDefaultInDropdown && this.state.showDropdownTitle && (o = this.state.dropdownTitleText);\n        var s,\n            a = {};\n        (a.iconLeft = this.props.iconLeft ? this.props.iconLeft : void 0, a.iconRight = this.props.iconRight ? this.props.iconRight : void 0, this.props.useAutoCompleteIcon) ? r = i.createElement(ze, me()({\n          showDropdownControl: this.props.showDropdown,\n          activeFilter: this.state.school,\n          dropdownItems: this.state.schoolOptions,\n          value: n,\n          disabled: !!this.props.disabled,\n          placeholder: null !== (s = this.props.placeholder) && void 0 !== s ? s : "",\n          type: xe.SCHOOL,\n          handleChange: this.handleSearchChange,\n          handleClick: this.handleSearchClick,\n          listClass: "ct_autocompleteList_container",\n          fieldSetAndLabelConfig: this.props.autocompleteFilterFieldSetAndLabel,\n          error: this.props.error,\n          showDropdownTitle: this.state.showDropdownTitle,\n          dropdownTitleText: o\n        }, a)) : r = i.createElement(Be, me()({\n          showDropdownControl: this.props.showDropdown,\n          activeFilter: this.state.school,\n          dropdownItems: this.state.schoolOptions,\n          value: n,\n          disabled: !!this.props.disabled,\n          placeholder: this.state.placeholder,\n          type: xe.SCHOOL,\n          handleChange: this.handleSearchChange,\n          handleClick: this.handleSearchClick,\n          listClass: "ct_autocompleteList_container",\n          error: this.props.error,\n          showDropdownTitle: this.state.showDropdownTitle,\n          dropdownTitleText: o,\n          onFocus: this.handleInputFocus,\n          onBlur: this.handleInputBlur,\n          onEscapeSearch: this.props.onEscapeSearch\n        }, a));\n        return r;\n      }\n    }]), n;\n  }(_),\n      st = function () {\n    function e() {\n      s()(this, e);\n    }\n\n    return l()(e, null, [{\n      key: "pluralize",\n      value: function value(e, t) {\n        return Array.isArray(t) ? 1 === e ? t[0] : t[1] : t + (1 === e ? "" : "s");\n      }\n    }, {\n      key: "boldWord",\n      value: function value(e, t) {\n        var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "strong",\n            i = new RegExp("(" + this.escapeRegExp(t) + ")", "gi");\n        return e.replace(i, "<" + n + ">$1</" + n + ">");\n      }\n    }, {\n      key: "formatNumber",\n      value: function value(e) {\n        return e.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ",");\n      }\n    }, {\n      key: "escapeRegExp",\n      value: function value(e) {\n        return e.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, "\\\\$&");\n      }\n    }, {\n      key: "removeSpaces",\n      value: function value(e) {\n        return e.replace(/\\s+/g, "");\n      }\n    }, {\n      key: "decodeHtmlEntities",\n      value: function value(e) {\n        return e.replace(/&amp;/g, "&").replace(/&gt;/g, ">").replace(/&lt;/g, "<");\n      }\n    }, {\n      key: "decode",\n      value: function value(e) {\n        var t = document.createElement("textarea");\n        return t.innerHTML = e, t.value;\n      }\n    }]), e;\n  }(),\n      at = function at(e) {\n    var t = e.suggestions.map(function (t) {\n      var n = st.boldWord(t.text, e.queryString),\n          r = \'<i class="chi-search"></i> \'.concat(n);\n      return i.createElement("li", {\n        key: t.id,\n        className: e.selectedSuggestion && t.id === e.selectedSuggestion.id ? "suggestion active" : "suggestion",\n        onClick: e.onClick.bind(null, t),\n        dangerouslySetInnerHTML: {\n          __html: r\n        }\n      });\n    });\n    return e.suggestions.length > 0 ? i.createElement("ul", null, t) : null;\n  },\n      lt = function lt(e) {\n    return i.createElement("div", {\n      className: "sw_suggestions_container"\n    }, e.suggestionHeader, i.createElement(at, {\n      suggestions: e.suggestions,\n      onClick: e.onSuggestionSelect,\n      selectedSuggestion: e.selectedSuggestion,\n      queryString: e.queryString\n    }));\n  },\n      ct = function ct(e) {\n    var t = "sw_search_bar ".concat(e.searchBarClassName),\n        n = e.isExpanded ? null : i.createElement("i", {\n      className: "chi-search-alt sw_icon sw_search_icon",\n      onClick: function onClick() {\n        e.onKeyDown({\n          keyCode: Ie.ENTER\n        });\n      }\n    }),\n        r = e.suggestions.length > 0 && e.areSuggestionsVisible ? i.createElement("div", {\n      className: "sw_suggestions_dropdown"\n    }, i.createElement(lt, {\n      userId: e.userId,\n      onSuggestionSelect: e.onSuggestionSelect,\n      suggestions: e.suggestions,\n      selectedSuggestion: e.selectedSuggestion,\n      suggestionHeader: e.suggestionHeader,\n      queryString: e.queryString\n    }), e.suggestionFooter) : null;\n    return i.createElement("div", {\n      className: t\n    }, i.createElement("input", {\n      type: "search",\n      ref: e.inputRef,\n      className: e.inputClassName,\n      placeholder: e.placeholderText,\n      "aria-label": e.placeholderText,\n      onChange: e.onTextChange,\n      onFocus: e.onFocus,\n      onBlur: e.onBlur,\n      onKeyDown: e.onKeyDown,\n      value: e.queryString,\n      onClick: function onClick() {\n        var e;\n        e = {\n          text: "Search Bar Focus",\n          containerType: O.INPUT\n        }, D("Element Focused", P(e));\n      }\n    }), n, r);\n  };\n\n  function ut(e) {\n    var t = function () {\n      if ("undefined" == typeof Reflect || !Reflect.construct) return !1;\n      if (Reflect.construct.sham) return !1;\n      if ("function" == typeof Proxy) return !0;\n\n      try {\n        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0;\n      } catch (e) {\n        return !1;\n      }\n    }();\n\n    return function () {\n      var n,\n          i = g()(e);\n\n      if (t) {\n        var r = g()(this).constructor;\n        n = Reflect.construct(i, arguments, r);\n      } else n = i.apply(this, arguments);\n\n      return f()(this, n);\n    };\n  }\n\n  var ht = ($e = V.Schema.string(), Ge = V.Schema["int"](), Ke = V.Schema.string(), Ve = V.Schema.string(), Je = V.Schema["int"](), rt = it = function (e) {\n    d()(n, e);\n    var t = ut(n);\n\n    function n() {\n      var e,\n          i = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n      return s()(this, n), e = t.call(this, i), Y()(u()(e), "initial_query", Ye, u()(e)), Y()(u()(e), "search_suggestion_id", Ze, u()(e)), Y()(u()(e), "suggestion_source", et, u()(e)), Y()(u()(e), "referrer", tt, u()(e)), Y()(u()(e), "suggestion_position", nt, u()(e)), Object.assign(u()(e), i), e;\n    }\n\n    return n;\n  }(te), m()(it, "schema", {}), Xe = rt, Ye = ee()(Xe.prototype, "initial_query", [$e], {\n    configurable: !0,\n    enumerable: !0,\n    writable: !0,\n    initializer: null\n  }), Ze = ee()(Xe.prototype, "search_suggestion_id", [Ge], {\n    configurable: !0,\n    enumerable: !0,\n    writable: !0,\n    initializer: null\n  }), et = ee()(Xe.prototype, "suggestion_source", [Ke], {\n    configurable: !0,\n    enumerable: !0,\n    writable: !0,\n    initializer: null\n  }), tt = ee()(Xe.prototype, "referrer", [Ve], {\n    configurable: !0,\n    enumerable: !0,\n    writable: !0,\n    initializer: null\n  }), nt = ee()(Xe.prototype, "suggestion_position", [Je], {\n    configurable: !0,\n    enumerable: !0,\n    writable: !0,\n    initializer: null\n  }), Xe);\n\n  function dt(e) {\n    var t = function () {\n      if ("undefined" == typeof Reflect || !Reflect.construct) return !1;\n      if (Reflect.construct.sham) return !1;\n      if ("function" == typeof Proxy) return !0;\n\n      try {\n        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0;\n      } catch (e) {\n        return !1;\n      }\n    }();\n\n    return function () {\n      var n,\n          i = g()(e);\n\n      if (t) {\n        var r = g()(this).constructor;\n        n = Reflect.construct(i, arguments, r);\n      } else n = i.apply(this, arguments);\n\n      return f()(this, n);\n    };\n  }\n\n  var pt,\n      ft = new (function (e) {\n    d()(n, e);\n    var t = dt(n);\n\n    function n() {\n      return s()(this, n), t.call(this);\n    }\n\n    return l()(n, [{\n      key: "sanitizeSuggestionData",\n      value: function value(e) {\n        return new ht(this.sanitize(e, ht.schema));\n      }\n    }]), n;\n  }(V.Store))();\n  !function (e) {\n    e.HOMEPAGE = "homepage", e.HEADER = "header", e.IOS = "ios_app", e.ANDROID = "android_app", e.RELOAD = "reload", e.FILTER = "filter", e.SORT = "sort", e.PAGINATION = "pagination", e.INSTAPAGE = "instapage", e.COURSE_PAGE = "course_page", e.EDUCATOR_LANDING = "educator_landing";\n  }(pt || (pt = {}));\n  var vt,\n      gt = pt;\n  !function (e) {\n    e.NEW_HOME = "new_home_sw", e.OLD_HEADER = "old_header_sw", e.NEW_HEADER = "new_header_sw", e.REDEMPTION_FLOW = "redemption_flow";\n  }(vt || (vt = {}));\n  var St = vt,\n      mt = "default";\n\n  function yt() {\n    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : mt;\n    return window.CHAnalytics.v(e);\n  }\n\n  var Et = function Et(e) {\n    var t,\n        n,\n        r,\n        o = e.queryString,\n        s = e.onClick;\n    return Object(i.useEffect)(function () {\n      yt().interaction({\n        interactionType: "viewed",\n        interactionTarget: "search_widget_suggestions_footer",\n        interactionLocation: "search_widget",\n        action: "none"\n      });\n    }, []), t = function t() {\n      var e = "sw=1";\n      o && (e += "&stx=".concat(encodeURIComponent(o))), window.location.href = "/tutors/homework-help/?".concat(e);\n    }, n = "Ask our tutors a study question", r = i.createElement(i.Fragment, null, i.createElement("i", {\n      className: "chi-message-add"\n    }), n), i.createElement("div", {\n      className: "sw_suggestions_footer",\n      "data-cha-target-name": "ask_question_from_search_option",\n      "data-cha-action-target-type": "search_suggestions",\n      "data-cha-action-type": "click",\n      onClick: function onClick() {\n        x({\n          actionType: A.LINK,\n          intent: "redirect",\n          text: n,\n          xpath: "search widget"\n        }), s(), t();\n      }\n    }, i.createElement("div", {\n      className: "suggestion"\n    }, r));\n  };\n\n  function _t(e) {\n    var t = function () {\n      if ("undefined" == typeof Reflect || !Reflect.construct) return !1;\n      if (Reflect.construct.sham) return !1;\n      if ("function" == typeof Proxy) return !0;\n\n      try {\n        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0;\n      } catch (e) {\n        return !1;\n      }\n    }();\n\n    return function () {\n      var n,\n          i = g()(e);\n\n      if (t) {\n        var r = g()(this).constructor;\n        n = Reflect.construct(i, arguments, r);\n      } else n = i.apply(this, arguments);\n\n      return f()(this, n);\n    };\n  }\n\n  var wt;\n  !function (e) {\n    e.LOGGED_OUT = "logged out", e.BASIC = "basic", e.PREMIER = "premier";\n  }(wt || (wt = {}));\n\n  var bt = function (e) {\n    d()(n, e);\n\n    var t = _t(n);\n\n    function n(e) {\n      var r;\n      return s()(this, n), r = t.call(this, e), m()(u()(r), "containerRef", i.createRef()), m()(u()(r), "inputRef", i.createRef()), r.state = {\n        queryString: "",\n        initialQueryString: "",\n        schoolQueryString: "",\n        isLoading: !1,\n        selectedSuggestion: null,\n        selectedSchool: null,\n        isExpanded: !!r.props.isExpanded && r.props.isExpanded,\n        areSuggestionsVisible: !1,\n        containerClassName: "",\n        searchBarClassName: "",\n        autocompleteSuggestions: [],\n        recentSearchSuggestions: [],\n        suggestionHeader: null\n      }, r.onSuggestionStoreUpdate = r.onSuggestionStoreUpdate.bind(u()(r)), r.handleSearchBarChange = r.handleSearchBarChange.bind(u()(r)), r.handleSearchBarFocus = r.handleSearchBarFocus.bind(u()(r)), r.clickListener = r.clickListener.bind(u()(r)), r.onBlur = r.onBlur.bind(u()(r)), r.handleFocusChange = r.handleFocusChange.bind(u()(r)), r.collapseWidget = r.collapseWidget.bind(u()(r)), r.handleWindowResize = r.handleWindowResize.bind(u()(r)), r.handleButtonSubmit = r.handleButtonSubmit.bind(u()(r)), r.search = r.search.bind(u()(r)), r.handleKeyDown = r.handleKeyDown.bind(u()(r)), r.autocompleteWithSelectedSuggestion = r.autocompleteWithSelectedSuggestion.bind(u()(r)), r.clearQueryString = r.clearQueryString.bind(u()(r)), r.handleSchoolSearchBarChange = r.handleSchoolSearchBarChange.bind(u()(r)), r.handleSchoolSelect = r.handleSchoolSelect.bind(u()(r)), r.handleSuggestionSelect = r.handleSuggestionSelect.bind(u()(r)), r.onSearchResultsPageSearchParamsChanged = r.onSearchResultsPageSearchParamsChanged.bind(u()(r)), r;\n    }\n\n    return l()(n, [{\n      key: "componentDidMount",\n      value: function value() {\n        var e = this;\n        oe.listen(this.onSuggestionStoreUpdate), document.addEventListener("mousedown", this.clickListener, !0), document.addEventListener("touchstart", this.clickListener, !0), window.addEventListener("resize", this.handleWindowResize, !0), window.addEventListener("search_results:_ch_search_params_changed", this.onSearchResultsPageSearchParamsChanged), $(window).on(n.EVENT_FOCUS, function () {\n          return e.handleSearchBarFocus(void 0, !0);\n        });\n\n        var t = function (e) {\n          var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;\n\n          try {\n            return window.localStorage.getItem(e);\n          } catch (e) {\n            return t;\n          }\n        }("".concat("ch-recentSearches-").concat(this.props.userId || "loggedOut")),\n            i = t ? oe.sanitizeJSONSuggestions(t) : [];\n\n        i.length > 0 && J(i);\n      }\n    }, {\n      key: "componentDidUpdate",\n      value: function value(e, t) {\n        !1 === this.props.isExpanded && !1 !== e.isExpanded && this.collapseWidget(), this.inputRef.current && (!t.isExpanded && this.state.isExpanded ? this.inputRef.current.focus() : t.isExpanded && !this.state.isExpanded && this.inputRef.current.blur());\n      }\n    }, {\n      key: "componentWillUnmount",\n      value: function value() {\n        oe.ignore(this.onSuggestionStoreUpdate), document.removeEventListener("mousedown", this.clickListener, !0), document.removeEventListener("touchstart", this.clickListener, !0), window.removeEventListener("resize", this.handleWindowResize, !0), window.removeEventListener("search_results:_ch_search_params_changed", this.onSearchResultsPageSearchParamsChanged), $(window).off(n.EVENT_FOCUS);\n      }\n    }, {\n      key: "onSuggestionStoreUpdate",\n      value: function value(e) {\n        this.setState({\n          recentSearchSuggestions: e.defaultSuggestions\n        });\n      }\n    }, {\n      key: "handleSearchBarChange",\n      value: function value(e) {\n        var t = this,\n            n = e.target.value,\n            i = this.state.queryString,\n            r = {\n          queryString: n,\n          initialQueryString: n,\n          selectedSuggestion: null\n        };\n        this.setState(r);\n        var o = n.trim();\n        o && o !== i.trim() && ge.fetchAutocompleteSuggestions(o, function (e) {\n          t.setState({\n            autocompleteSuggestions: oe.sanitizeAutocompleteSuggestions(e)\n          });\n        }, function () {});\n      }\n    }, {\n      key: "handleSchoolSearchBarChange",\n      value: function value(e) {\n        this.setState({\n          schoolQueryString: e\n        });\n      }\n    }, {\n      key: "handleSearchBarFocus",\n      value: function value(e, t) {\n        if ($(window).width() <= w.PHONE_MAX && this.props.className == St.NEW_HOME) t || $(window).trigger(n.EVENT_FOCUS);else {\n          var i = {\n            areSuggestionsVisible: !0\n          };\n          this.state.isExpanded ? this.setState(i) : (i.isExpanded = !0, i.containerClassName = "shouldExpand", i.searchBarClassName = "shouldShrink", this.setState(i), this.track("Search CTA clicked"), this.props.onExpand && this.props.onExpand());\n        }\n      }\n    }, {\n      key: "clickListener",\n      value: function value(e) {\n        this.handleFocusChange(e.target);\n      }\n    }, {\n      key: "onBlur",\n      value: function value(e) {\n        this.handleFocusChange(e.relatedTarget);\n      }\n    }, {\n      key: "handleFocusChange",\n      value: function value(e) {\n        this.state.isExpanded && e && (this.containerRef.current && this.containerRef.current.contains(e) ? 0 == $(e).closest(".sw_search_bar").length && 0 == $(e).closest(".sw_suggestions_container").length && this.setState({\n          areSuggestionsVisible: !1\n        }) : this.collapseWidget());\n      }\n    }, {\n      key: "collapseWidget",\n      value: function value() {\n        this.setState({\n          isExpanded: !1,\n          containerClassName: "",\n          searchBarClassName: "",\n          areSuggestionsVisible: !1,\n          selectedSuggestion: null\n        }), this.props.onCollapse && this.props.onCollapse();\n      }\n    }, {\n      key: "handleWindowResize",\n      value: function value(e) {\n        $(window).width() <= w.PHONE_MAX && this.props.className == St.NEW_HOME && this.collapseWidget(), this.props.onWindowResize && this.props.onWindowResize(this.state.isExpanded);\n      }\n    }, {\n      key: "handleButtonSubmit",\n      value: function value(e) {\n        this.search(), I("Searched", {\n          searchTrigger: "manual",\n          query: this.state.queryString,\n          searchProduct: this.getTrigger(),\n          numberOfResults: this.state.autocompleteSuggestions.length\n        });\n      }\n    }, {\n      key: "search",\n      value: function value(e, t) {\n        var n = t || this.state.selectedSuggestion,\n            i = e || this.state.selectedSchool,\n            r = 0 === window.location.pathname.indexOf("/search/results/");\n\n        if (this.state.queryString.trim() || n) {\n          var o = {\n            areSuggestionsVisible: !1,\n            queryString: this.state.queryString,\n            schoolQueryString: this.state.schoolQueryString\n          };\n          n && (o.queryString = n.text), i && (o.schoolQueryString = i.mainText || ""), r || (o.isLoading = !0), this.setState(o);\n          var s = this.state.queryString;\n\n          if (n && (s = n.text), this.saveRecentSearch(s), /\\/payment\\/success/.test(window.location.pathname) && this.track("[Search Widget] Payment Success Search Performed", {\n            Query: this.state.queryString\n          }), r) {\n            var a = null;\n            this.state.initialQueryString.trim() && n && (a = {\n              initial_query: this.state.initialQueryString,\n              search_suggestion_id: n.id,\n              suggestion_source: n.source,\n              suggestion_position: n.position,\n              referrer: window.location.pathname\n            }, a = ft.sanitizeSuggestionData(a));\n            var l = new CustomEvent("search_widget:search_submitted", {\n              detail: {\n                queryString: o.queryString,\n                school: i,\n                suggestion: a\n              }\n            });\n            window.dispatchEvent(l), this.collapseWidget();\n          } else window.location.href = this.getSearchUrl(s, i, n);\n        }\n      }\n    }, {\n      key: "saveRecentSearch",\n      value: function value(e) {\n        var t = e.trim(),\n            n = [t].concat(R()(this.state.recentSearchSuggestions.filter(function (e) {\n          return e.text !== t;\n        }).map(function (e) {\n          return e.text;\n        }).slice(0, 5))),\n            i = JSON.stringify(n);\n        !function (e, t) {\n          try {\n            window.localStorage.setItem(e, t);\n          } catch (e) {\n            return !1;\n          }\n        }("".concat("ch-recentSearches-").concat(this.props.userId || "loggedOut"), i), J(n.map(function (e, t) {\n          return oe.sanitizeSuggestion({\n            id: t,\n            text: e\n          });\n        }));\n      }\n    }, {\n      key: "getTrigger",\n      value: function value() {\n        return this.props.className === St.NEW_HOME ? gt.HOMEPAGE : gt.HEADER;\n      }\n    }, {\n      key: "getSearchUrl",\n      value: function value(e, t, n) {\n        var i = this.getTrigger(),\n            r = "/search/results/?stx=" + encodeURIComponent(e) + "&filters_product=all&searchTrigger=" + i;\n        return this.state.initialQueryString.trim() && n && (r += "&source=" + n.source + "&initial_query=" + encodeURIComponent(this.state.initialQueryString) + "&search_suggestion_id=" + n.id + "&position=" + n.position + "&referrer=" + window.location.pathname + "&is_autocomplete=1"), t && t.id > 0 && t.mainText && (r += "&school_id=".concat(t.id, "&school_name=").concat(encodeURIComponent(t.mainText))), r;\n      }\n    }, {\n      key: "handleKeyDown",\n      value: function value(e) {\n        switch (e.keyCode || e.which) {\n          case Ie.TAB:\n            if (this.state.selectedSuggestion && this.state.selectedSuggestion.text != this.state.queryString) {\n              e.preventDefault(), this.autocompleteWithSelectedSuggestion();\n              break;\n            }\n\n            this.setState({\n              areSuggestionsVisible: !1\n            });\n            break;\n\n          case Ie.RIGHT_ARROW:\n            this.autocompleteWithSelectedSuggestion();\n            break;\n\n          case Ie.ENTER:\n            this.search();\n            var t = this.state.selectedSuggestion ? "autocomplete" : "manual";\n            I("Searched", {\n              searchTrigger: t,\n              query: this.state.queryString,\n              searchProduct: this.getTrigger(),\n              numberOfResults: this.state.autocompleteSuggestions.length\n            });\n            break;\n\n          case Ie.ESC:\n            this.state.queryString ? this.clearQueryString() : this.collapseWidget();\n            break;\n\n          case Ie.DOWN_ARROW:\n            this.selectNextSuggestion();\n            break;\n\n          case Ie.UP_ARROW:\n            e.preventDefault(), this.selectPrevSuggestion();\n        }\n      }\n    }, {\n      key: "autocompleteWithSelectedSuggestion",\n      value: function value() {\n        this.state.selectedSuggestion && this.setState({\n          queryString: this.state.selectedSuggestion.text\n        });\n      }\n    }, {\n      key: "clearQueryString",\n      value: function value() {\n        this.setState({\n          queryString: "",\n          initialQueryString: "",\n          selectedSuggestion: null\n        });\n      }\n    }, {\n      key: "handleSchoolSelect",\n      value: function value(e) {\n        var t = e && e.id > 0 ? e : null;\n        this.setState({\n          selectedSchool: t\n        }), e && this.search(e);\n      }\n    }, {\n      key: "handleSuggestionSelect",\n      value: function value(e) {\n        this.setState({\n          selectedSuggestion: e\n        }), this.search(void 0, e), I("Searched", {\n          searchTrigger: "autocomplete",\n          query: e.text,\n          searchProduct: this.getTrigger(),\n          numberOfResults: this.state.autocompleteSuggestions.length\n        });\n      }\n    }, {\n      key: "onSearchResultsPageSearchParamsChanged",\n      value: function value(e) {\n        var t,\n            n,\n            i = null === (t = e.detail) || void 0 === t ? void 0 : t.selectedFilters,\n            r = null;\n        i && i.course && i.course.school_id && i.course.school_name && (r = {\n          id: i.course.school_id,\n          mainText: i.course.school_name,\n          type: xe.SCHOOL\n        }), this.setState({\n          queryString: null === (n = e.detail) || void 0 === n ? void 0 : n.query,\n          selectedSchool: r\n        });\n      }\n    }, {\n      key: "getSuggestions",\n      value: function value() {\n        return 0 == this.state.queryString.length ? this.state.recentSearchSuggestions.length > 0 ? this.state.recentSearchSuggestions : n.STARTING_SUGGESTIONS : this.state.autocompleteSuggestions;\n      }\n    }, {\n      key: "getSuggestionsHeader",\n      value: function value() {\n        var e = this.getSuggestions();\n        return e == this.state.autocompleteSuggestions ? null : e == this.state.recentSearchSuggestions ? i.createElement("h6", null, "RECENT SEARCHES") : e == n.STARTING_SUGGESTIONS ? i.createElement("h6", null, "EXAMPLE SEARCHES") : null;\n      }\n    }, {\n      key: "getSuggestionsFooter",\n      value: function value() {\n        var e = this;\n        return this.props.isEducator ? null : i.createElement(Et, {\n          queryString: this.state.queryString,\n          onClick: function onClick() {\n            return e.track("[Search Widget] Ask Question Option Click", {\n              query: e.state.queryString\n            });\n          }\n        });\n      }\n    }, {\n      key: "selectNextSuggestion",\n      value: function value() {\n        var e,\n            t,\n            n = this.getSuggestions(),\n            i = this.state.selectedSuggestion,\n            r = n.map(function (e) {\n          return e.id;\n        });\n        t = i ? (e = r.indexOf(i.id)) == n.length - 1 ? i : n[e + 1] : n[0], this.setState({\n          selectedSuggestion: t\n        });\n      }\n    }, {\n      key: "selectPrevSuggestion",\n      value: function value() {\n        var e,\n            t = this.state.selectedSuggestion,\n            n = this.getSuggestions(),\n            i = n.map(function (e) {\n          return e.id;\n        });\n        e = t && 0 != n.length && t.id != n[0].id ? n[i.indexOf(t.id) - 1] : null, this.setState({\n          selectedSuggestion: e\n        });\n      }\n    }, {\n      key: "track",\n      value: function value(e, t) {\n        D(e, t);\n      }\n    }, {\n      key: "render",\n      value: function value() {\n        var e,\n            t,\n            n,\n            r = this,\n            o = i.createElement("i", {\n          className: "chi-university sw_icon sw_university_icon"\n        });\n\n        if (this.state.isExpanded) {\n          var s = this.state.isLoading ? "chi-loading" : "chi-search-filled";\n          n = i.createElement(ye, {\n            className: "mobile_sw_cancel_search_button",\n            label: "Cancel",\n            onClick: this.collapseWidget\n          }), e = i.createElement("span", {\n            className: "sw_school_dropdown"\n          }, i.createElement(ot, {\n            defaultSchoolFilter: this.state.selectedSchool,\n            updateWithFullFilter: !0,\n            placeholder: "All Schools",\n            activePlaceholder: "Enter school name",\n            useAutoCompleteIcon: !1,\n            handleUpdate: this.handleSchoolSelect,\n            handleChange: this.handleSchoolSearchBarChange,\n            showDefaultInDropdown: !0,\n            dropdownLimit: 5,\n            iconLeft: o,\n            onEscapeSearch: this.collapseWidget,\n            shouldFindNearbySchools: !0\n          })), t = i.createElement(ye, {\n            className: "sw_search_button",\n            label: "",\n            icon: s,\n            onClick: this.handleButtonSubmit,\n            onBlur: this.onBlur\n          });\n        }\n\n        var a = "sw_search_widget_container ".concat(this.props.className, " ").concat(this.state.containerClassName);\n        return i.createElement("div", {\n          ref: this.containerRef,\n          className: a\n        }, n, i.createElement("div", {\n          className: "sw_search_bar_wrapper"\n        }, i.createElement(ye, {\n          className: "mobile_sw_start_search_button",\n          label: "",\n          icon: "chi-search",\n          onClick: function onClick() {\n            r.handleSearchBarFocus();\n          }\n        }), i.createElement(ct, {\n          queryString: this.state.queryString,\n          isLoading: this.state.isLoading,\n          onTextChange: this.handleSearchBarChange,\n          searchBarClassName: this.state.searchBarClassName,\n          inputClassName: this.state.areSuggestionsVisible ? "hasDropdown" : "",\n          onFocus: this.handleSearchBarFocus,\n          onBlur: this.onBlur,\n          onKeyDown: this.handleKeyDown,\n          placeholderText: this.props.searchBarPlaceholder,\n          userId: this.props.userId,\n          onSuggestionSelect: this.handleSuggestionSelect,\n          isExpanded: this.state.isExpanded,\n          areSuggestionsVisible: this.state.areSuggestionsVisible,\n          selectedSuggestion: this.state.selectedSuggestion,\n          suggestions: this.getSuggestions(),\n          suggestionHeader: this.getSuggestionsHeader(),\n          suggestionFooter: this.getSuggestionsFooter(),\n          inputRef: this.inputRef\n        }), e, t));\n      }\n    }]), n;\n  }(_);\n\n  m()(bt, "STARTING_SUGGESTIONS", [{\n    id: 0,\n    text: "BIO 101 Class Notes",\n    position: 0,\n    source: "default"\n  }, {\n    id: 1,\n    text: "Microeconomics Practice Questions",\n    position: 1,\n    source: "default"\n  }, {\n    id: 2,\n    text: "Organizational Behavior Case Study",\n    position: 2,\n    source: "default"\n  }]), m()(bt, "EVENT_FOCUS", "search_widget:focus");\n  var Rt = bt;\n\n  function Ct(e) {\n    var t = function () {\n      if ("undefined" == typeof Reflect || !Reflect.construct) return !1;\n      if (Reflect.construct.sham) return !1;\n      if ("function" == typeof Proxy) return !0;\n\n      try {\n        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0;\n      } catch (e) {\n        return !1;\n      }\n    }();\n\n    return function () {\n      var n,\n          i = g()(e);\n\n      if (t) {\n        var r = g()(this).constructor;\n        n = Reflect.construct(i, arguments, r);\n      } else n = i.apply(this, arguments);\n\n      return f()(this, n);\n    };\n  }\n\n  var Tt = function (e) {\n    d()(n, e);\n    var t = Ct(n);\n\n    function n(e) {\n      var i;\n      return s()(this, n), (i = t.call(this, e)).state = {\n        isExpanded: !1,\n        searchBarPlaceholder: i.determinePlaceholder(!1)\n      }, i.handleSearchWidgetExpand = i.handleSearchWidgetExpand.bind(u()(i)), i.handleSearchWidgetCollapse = i.handleSearchWidgetCollapse.bind(u()(i)), i.handleWindowResize = i.handleWindowResize.bind(u()(i)), i.handleWindowScroll = i.handleWindowScroll.bind(u()(i)), i;\n    }\n\n    return l()(n, [{\n      key: "componentDidMount",\n      value: function value() {\n        window.addEventListener("scroll", this.handleWindowScroll, !0);\n      }\n    }, {\n      key: "componentWillUnmount",\n      value: function value() {\n        window.removeEventListener("scroll", this.handleWindowScroll, !0);\n      }\n    }, {\n      key: "handleSearchWidgetExpand",\n      value: function value() {\n        $("#ch-header").addClass("isSearchActive"), $("body").prepend(\'<div class="sw_overlay"></div>\').addClass("disableScroll"), this.handleWindowResize(!0);\n      }\n    }, {\n      key: "handleSearchWidgetCollapse",\n      value: function value() {\n        $("#ch-header").removeClass("isSearchActive"), $("body").removeClass("disableScroll"), $(".sw_overlay").remove(), this.handleWindowResize(!1);\n      }\n    }, {\n      key: "handleWindowScroll",\n      value: function value(e) {\n        $(window).scrollTop() >= 30 ? this.props.isEducator || $("#ch-header").addClass("searchExpand") : $("#ch-header").removeClass("searchExpand");\n      }\n    }, {\n      key: "determinePlaceholder",\n      value: function value(e) {\n        return this.props.type == St.NEW_HEADER && $(".hp_search_wrapper").width() <= n.MIN_WIDTH_SEARCH_BAR && !e ? this.props.shortPlaceholder : this.props.longPlaceholder;\n      }\n    }, {\n      key: "handleWindowResize",\n      value: function value(e) {\n        if (this.setState({\n          searchBarPlaceholder: this.determinePlaceholder(e)\n        }), this.props.type == St.NEW_HEADER) {\n          if ($(window).width() > w.PHONE_MAX && e) return void $("#ch-header .hp_search_container").css("width", $("#ch-header").outerWidth() - $("#ch_headerLogo_action").outerWidth());\n          $("#ch-header .hp_search_container").css("width", "");\n        }\n      }\n    }, {\n      key: "render",\n      value: function value() {\n        return i.createElement(Rt, {\n          className: this.props.type,\n          userId: this.props.userId,\n          onExpand: this.handleSearchWidgetExpand,\n          onCollapse: this.handleSearchWidgetCollapse,\n          onWindowResize: this.handleWindowResize,\n          isExpanded: this.state.isExpanded,\n          searchBarPlaceholder: this.state.searchBarPlaceholder,\n          isEducator: this.props.isEducator\n        });\n      }\n    }]), n;\n  }(_);\n\n  m()(Tt, "MIN_WIDTH_SEARCH_BAR", 245);\n  var At,\n      Ot = Tt;\n\n  function Ft(e, t) {\n    (null == t || t > e.length) && (t = e.length);\n\n    for (var n = 0, i = new Array(t); n < t; n++) {\n      i[n] = e[n];\n    }\n\n    return i;\n  }\n\n  for (var kt, Dt = function (e, t) {\n    var n = "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"];\n    if (n) return (n = n.call(e)).next.bind(n);\n\n    if (Array.isArray(e) || (n = function (e, t) {\n      if (!e) return;\n      if ("string" == typeof e) return Ft(e, t);\n      var n = Object.prototype.toString.call(e).slice(8, -1);\n      "Object" === n && e.constructor && (n = e.constructor.name);\n      if ("Map" === n || "Set" === n) return Array.from(e);\n      if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return Ft(e, t);\n    }(e)) || t && e && "number" == typeof e.length) {\n      n && (e = n);\n      var i = 0;\n      return function () {\n        return i >= e.length ? {\n          done: !0\n        } : {\n          done: !1,\n          value: e[i++]\n        };\n      };\n    }\n\n    throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");\n  }($("[data-search-widget]").toArray()); !(kt = Dt()).done;) {\n    var Nt = kt.value,\n        xt = Nt.dataset.type,\n        It = !!parseInt(Nt.dataset.isEducator),\n        Pt = void 0,\n        Ut = void 0,\n        Lt = void 0,\n        Bt = void 0;\n\n    switch (At = Nt.dataset.userId, xt) {\n      case St.OLD_HEADER:\n      case St.NEW_HEADER:\n        Lt = "Search", Bt = It ? "Find teaching resources" : "Find study resources", Pt = i.createElement(Ot, {\n          userId: At,\n          type: xt,\n          shortPlaceholder: Lt,\n          longPlaceholder: Bt,\n          isEducator: It\n        });\n        break;\n\n      case St.NEW_HOME:\n      case St.REDEMPTION_FLOW:\n        Ut = xt === St.REDEMPTION_FLOW ? "Discover study guides, practice problems, and more." : "Find study guides, class notes and more.", Pt = i.createElement(Rt, {\n          userId: At,\n          className: xt,\n          searchBarPlaceholder: Ut,\n          isEducator: It\n        });\n    }\n\n    r.render(Pt, Nt);\n  }\n}]);'},59631:n=>{n.exports="/**\n * A controller to be placed on every page, it will automatically start the \n * websocket connection, so all other controllers need only worry about\n * subscribing to topics, and listening to messages.\n */\nvar CourseHeroMQTransportController = function CourseHeroMQTransportController($scope, courseHeroMQ) {\n  /**\n   * When this controller is created, start the websocket\n   */\n  $scope.init = function (websocketUrl) {\n    courseHeroMQ.start(websocketUrl);\n  };\n};\n\ncourseHeroMQServices.controller('CourseHeroMQTransportController', CourseHeroMQTransportController);"},50463:n=>{n.exports="/**\n *\n */\nvar _deps = ['utilServices'];\nvar courseHeroMQServices = angular.module('courseHeroMQServices', _deps);\n/**\n * Handles Course Hero Push Messages\n */\n\ncourseHeroMQServices.service('courseHeroMQ', function ($rootScope, $q, apiService) {\n  var API_GET_TOKEN_URL = '/api/v1/users/me/messagingToken/';\n  /**\n   * Have we started the websocket connection\n   */\n\n  var started = false;\n  /**\n   * When we receive a message through the socket, broadcast it. Also\n   * console log any errors\n   */\n\n  function onMessage(e, payload) {\n    var messageType = payload.messageType;\n\n    if (messageType === 'error') {\n      console.warn(payload.data.text);\n      return;\n    }\n\n    $rootScope.$emit(messageType, payload.data);\n    $rootScope.$apply();\n  }\n\n  ;\n\n  if (typeof $ === 'undefined') {\n    var $ = jQuery;\n  }\n\n  $(window).on('courseHeroMQ.message.receive', onMessage);\n  return {\n    /**\n     * Subscribe to a given topic, if we aren't yet connected to the\n     * websocket, it will be buffered. It will also automatically retry\n     * subscribe if we lose the connection\n     */\n    subscribe: function subscribe(topic) {\n      var deferred = $q.defer();\n\n      if (connectionHandler.subscriptions.indexOf(topic) >= 0) {\n        deferred.resolve();\n        return deferred.promise;\n      }\n\n      connectionHandler.subscriptions.push(topic);\n\n      if (!connectionHandler.connected) {\n        connectionHandler.deferrers[topic] = deferred;\n        return deferred.promise;\n      }\n\n      var realTopic = topic.replace('{me}', connectionHandler.token.user_id);\n      connectionHandler.session.subscribe(realTopic, connectionHandler.onMessage.bind(null, realTopic)).then(deferred.resolve, deferred.reject);\n      return deferred.promise;\n    },\n\n    /**\n     * Start our websocket\n     */\n    start: function start(websocketUrl) {\n      if (!started) {\n        apiService.get(API_GET_TOKEN_URL).success(function (response) {\n          connectionHandler.token = response;\n\n          if (connectionHandler.token && connectionHandler.token.messaging_token) {\n            connectionHandler.connect(websocketUrl);\n          }\n        });\n        started = true;\n      }\n    },\n\n    /**\n     * Attach a listener to an event\n     */\n    listen: function listen(event, callback) {\n      $(window).on(event, callback);\n    },\n\n    /**\n     * Detach a listener to an event\n     */\n    ignore: function ignore(event, callback) {\n      $(window).off(event, callback);\n    }\n  };\n});\n/**\n * Handles our connection, as well as error messages, and emitting events\n * when messages are received\n */\n\nvar connectionHandler = new function () {\n  /**\n   * Will call any listening connectionListeners with the state of the closure\n   */\n  var closeHandler = function closeHandler(reason, error) {\n    connectionHandler.connected = false;\n    connectionHandler.connectionListeners.forEach(function (cb) {\n      cb(DISCONNECTED, reason, error);\n    });\n  };\n  /**\n   * Emit an event, supply additional data\n   */\n\n\n  var emit = function emit(event, data) {\n    $(window).trigger(event, [data]);\n  };\n  /**\n   * Holds our websocket connection\n   * @type ab.Session\n   */\n\n\n  var websocketConnection = null;\n  var CONNECTED = 'CONNECTED';\n  var DISCONNECTED = 'DISCONNECTED';\n  return {\n    /**\n     * Are we connected to the websocket\n     */\n    connected: false,\n    session: null,\n    token: null,\n\n    /**\n     * Holds a list of topics to subscribe to, or that we are subscribed to\n     */\n    subscriptions: [],\n    deferrers: {},\n\n    /**\n     * JavaScript functions that are subscribed to the topic\n     * When a message comes in for a topic, every subscriber for the topic is\n     * called\n     */\n    subscribers: {},\n    connectionListeners: [],\n    subscribe: function subscribe(topic, callback) {\n      if (connectionHandler.subscriptions.indexOf(topic) >= 0) {\n        return connectionHandler.addSubscriber(topic, callback);\n      }\n\n      connectionHandler.subscriptions.push(topic);\n\n      if (!connectionHandler.connected) {\n        return connectionHandler.addSubscriber(topic, callback);\n      }\n\n      var realTopic = connectionHandler.getRealTopic(topic);\n      connectionHandler.session.subscribe(realTopic, connectionHandler.onMessage.bind(null, realTopic));\n      return connectionHandler.addSubscriber(topic, callback);\n    },\n    getRealTopic: function getRealTopic(topic) {\n      return topic.replace('{me}', connectionHandler.token.user_id);\n    },\n    addSubscriber: function addSubscriber(topic, callback) {\n      if (typeof connectionHandler.subscribers[topic] === 'undefined') {\n        connectionHandler.subscribers[topic] = [];\n      }\n\n      connectionHandler.subscribers[topic].push(callback);\n      return function () {\n        connectionHandler.subscribers[topic].splice(connectionHandler.subscribers[topic].indexOf(callback), 1);\n      };\n    },\n\n    /**\n     * Listen on connection events, your callback will get a connectionState (CONNECTED/DISCONNECTED), and a reason and error if it was a disconnection\n     * \n     * reason will be one of:\n     * closed\n     * lost\n     * unreachable\n     * unsupported\n     * \n     * const remove = connectionHandler.onConnectionChange((connectionState, reason, error) => {\n     *     if(connectionState === 'CONNECTED') {\n     *         //do something \n     *     } else {\n     *         console.log(`disconnected, reason: ${reason}, error: ${error}`)\n     *     }\n     * })\n     * \n     * //cleanup the listener by calling remove()\n     * \n     */\n    onConnectionChange: function onConnectionChange(cb) {\n      connectionHandler.connectionListeners.push(cb);\n      return function () {\n        connectionHandler.connectionListeners.splice(connectionHandler.connectionListeners.indexOf(cb), 1);\n      };\n    },\n\n    /**\n     * When we make our initial websocket connection, clear our retry\n     * if it is set, and re/subscribe to any topics\n     */\n    onConnect: function onConnect(session) {\n      connectionHandler.session = session;\n      connectionHandler.connected = true;\n      connectionHandler.subscriptions.forEach(function (topic) {\n        var realTopic = topic.replace('{me}', connectionHandler.token.user_id);\n        var deferred = connectionHandler.deferrers[topic] ? connectionHandler.deferrers[topic] : {\n          resolve: null,\n          reject: null\n        };\n        session.subscribe(realTopic, connectionHandler.onMessage.bind(null, topic)).then(deferred.resolve, deferred.reject);\n      });\n      connectionHandler.connectionListeners.forEach(function (cb) {\n        cb(CONNECTED);\n      });\n    },\n\n    /**\n     * When we receive a message through the socket, broadcast it. Also\n     * console log any errors\n     */\n    onMessage: function onMessage(topic, messages) {\n      var message = messages[0];\n      var messageType = message.type;\n\n      if (messageType === 'error') {\n        connectionHandler.subscriptions.splice(connectionHandler.subscriptions.indexOf(topic), 1);\n        console.warn(message.data.text);\n        return;\n      }\n\n      var messageData = {\n        messageType: messageType,\n        data: message.data\n      };\n      emit('courseHeroMQ.message.receive', messageData);\n\n      if (typeof connectionHandler.subscribers[topic] !== 'undefined') {\n        connectionHandler.subscribers[topic].forEach(function (cb) {\n          cb(messageData);\n        });\n      }\n    },\n    setupWebsocket: function setupWebsocket(websocketUrl, token) {\n      websocketConnection = new autobahn.Connection({\n        url: websocketUrl,\n        realm: 'realm1',\n        onchallenge: connectionHandler.issueToken.bind(null, token),\n        authmethods: ['ticket']\n      });\n      websocketConnection.onopen = connectionHandler.onConnect;\n      websocketConnection.onclose = closeHandler;\n      websocketConnection.open();\n    },\n    issueToken: function issueToken(token, session, method, extra) {\n      return token;\n    },\n    connect: function connect(websocketUrl) {\n      connectionHandler.websocketUrl = websocketUrl;\n      connectionHandler.setupWebsocket(websocketUrl, connectionHandler.token.messaging_token);\n    }\n  };\n}();\nwindow.connectionHandler = connectionHandler;"},34035:n=>{n.exports='function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }\n\n!function (t) {\n  var e = {};\n\n  function n(r) {\n    if (e[r]) return e[r].exports;\n    var o = e[r] = {\n      i: r,\n      l: !1,\n      exports: {}\n    };\n    return t[r].call(o.exports, o, o.exports, n), o.l = !0, o.exports;\n  }\n\n  n.m = t, n.c = e, n.d = function (t, e, r) {\n    n.o(t, e) || Object.defineProperty(t, e, {\n      enumerable: !0,\n      get: r\n    });\n  }, n.r = function (t) {\n    "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {\n      value: "Module"\n    }), Object.defineProperty(t, "__esModule", {\n      value: !0\n    });\n  }, n.t = function (t, e) {\n    if (1 & e && (t = n(t)), 8 & e) return t;\n    if (4 & e && "object" == _typeof(t) && t && t.__esModule) return t;\n    var r = Object.create(null);\n    if (n.r(r), Object.defineProperty(r, "default", {\n      enumerable: !0,\n      value: t\n    }), 2 & e && "string" != typeof t) for (var o in t) {\n      n.d(r, o, function (e) {\n        return t[e];\n      }.bind(null, o));\n    }\n    return r;\n  }, n.n = function (t) {\n    var e = t && t.__esModule ? function () {\n      return t["default"];\n    } : function () {\n      return t;\n    };\n    return n.d(e, "a", e), e;\n  }, n.o = function (t, e) {\n    return Object.prototype.hasOwnProperty.call(t, e);\n  }, n.p = "", n(n.s = 55);\n}([function (t, e, n) {\n  var r = n(33),\n      o = "object" == (typeof self === "undefined" ? "undefined" : _typeof(self)) && self && self.Object === Object && self,\n      i = r || o || Function("return this")();\n  t.exports = i;\n}, function (t, e) {\n  t.exports = function (t) {\n    var e = _typeof(t);\n\n    return null != t && ("object" == e || "function" == e);\n  };\n}, function (t, e, n) {\n  var r = n(63),\n      o = n(69);\n\n  t.exports = function (t, e) {\n    var n = o(t, e);\n    return r(n) ? n : void 0;\n  };\n}, function (t, e) {\n  t.exports = function (t) {\n    return null != t && "object" == _typeof(t);\n  };\n}, function (t, e, n) {\n  var r = n(16),\n      o = n(17);\n\n  t.exports = function (t, e, n, i) {\n    var a = !n;\n    n || (n = {});\n\n    for (var s = -1, u = e.length; ++s < u;) {\n      var c = e[s],\n          l = i ? i(n[c], t[c], c, n, t) : void 0;\n      void 0 === l && (l = t[c]), a ? o(n, c, l) : r(n, c, l);\n    }\n\n    return n;\n  };\n}, function (t, e, n) {\n  var r = n(19),\n      o = n(65),\n      i = n(66),\n      a = "[object Null]",\n      s = "[object Undefined]",\n      u = r ? r.toStringTag : void 0;\n\n  t.exports = function (t) {\n    return null == t ? void 0 === t ? s : a : u && u in Object(t) ? o(t) : i(t);\n  };\n}, function (t, e, n) {\n  var r = n(18),\n      o = n(37);\n\n  t.exports = function (t) {\n    return null != t && o(t.length) && !r(t);\n  };\n}, function (t, e, n) {\n  var r = n(39),\n      o = n(112),\n      i = n(6);\n\n  t.exports = function (t) {\n    return i(t) ? r(t, !0) : o(t);\n  };\n}, function (t, e) {\n  t.exports = function (t, e) {\n    return t === e || t != t && e != e;\n  };\n}, function (t, e) {\n  var n = Object.prototype;\n\n  t.exports = function (t) {\n    var e = t && t.constructor;\n    return t === ("function" == typeof e && e.prototype || n);\n  };\n}, function (t, e, n) {\n  var r = n(39),\n      o = n(82),\n      i = n(6);\n\n  t.exports = function (t) {\n    return i(t) ? r(t) : o(t);\n  };\n}, function (t, e) {\n  var n = Array.isArray;\n  t.exports = n;\n}, function (t, e, n) {\n  var r = n(86),\n      o = n(87),\n      i = n(88),\n      a = n(89),\n      s = n(90);\n\n  function u(t) {\n    var e = -1,\n        n = null == t ? 0 : t.length;\n\n    for (this.clear(); ++e < n;) {\n      var r = t[e];\n      this.set(r[0], r[1]);\n    }\n  }\n\n  u.prototype.clear = r, u.prototype["delete"] = o, u.prototype.get = i, u.prototype.has = a, u.prototype.set = s, t.exports = u;\n}, function (t, e, n) {\n  var r = n(8);\n\n  t.exports = function (t, e) {\n    for (var n = t.length; n--;) {\n      if (r(t[n][0], e)) return n;\n    }\n\n    return -1;\n  };\n}, function (t, e, n) {\n  var r = n(2)(Object, "create");\n  t.exports = r;\n}, function (t, e, n) {\n  var r = n(105);\n\n  t.exports = function (t, e) {\n    var n = t.__data__;\n    return r(e) ? n["string" == typeof e ? "string" : "hash"] : n.map;\n  };\n}, function (t, e, n) {\n  var r = n(17),\n      o = n(8),\n      i = Object.prototype.hasOwnProperty;\n\n  t.exports = function (t, e, n) {\n    var a = t[e];\n    i.call(t, e) && o(a, n) && (void 0 !== n || e in t) || r(t, e, n);\n  };\n}, function (t, e, n) {\n  var r = n(32);\n\n  t.exports = function (t, e, n) {\n    "__proto__" == e && r ? r(t, e, {\n      configurable: !0,\n      enumerable: !0,\n      value: n,\n      writable: !0\n    }) : t[e] = n;\n  };\n}, function (t, e, n) {\n  var r = n(5),\n      o = n(1),\n      i = "[object AsyncFunction]",\n      a = "[object Function]",\n      s = "[object GeneratorFunction]",\n      u = "[object Proxy]";\n\n  t.exports = function (t) {\n    if (!o(t)) return !1;\n    var e = r(t);\n    return e == a || e == s || e == i || e == u;\n  };\n}, function (t, e, n) {\n  var r = n(0).Symbol;\n  t.exports = r;\n}, function (t, e, n) {\n  (function (t) {\n    var r = n(0),\n        o = n(80),\n        i = e && !e.nodeType && e,\n        a = i && "object" == _typeof(t) && t && !t.nodeType && t,\n        s = a && a.exports === i ? r.Buffer : void 0,\n        u = (s ? s.isBuffer : void 0) || o;\n    t.exports = u;\n  }).call(this, n(21)(t));\n}, function (t, e) {\n  t.exports = function (t) {\n    return t.webpackPolyfill || (t.deprecate = function () {}, t.paths = [], t.children || (t.children = []), Object.defineProperty(t, "loaded", {\n      enumerable: !0,\n      get: function get() {\n        return t.l;\n      }\n    }), Object.defineProperty(t, "id", {\n      enumerable: !0,\n      get: function get() {\n        return t.i;\n      }\n    }), t.webpackPolyfill = 1), t;\n  };\n}, function (t, e) {\n  t.exports = function (t) {\n    return function (e) {\n      return t(e);\n    };\n  };\n}, function (t, e, n) {\n  (function (t) {\n    var r = n(33),\n        o = e && !e.nodeType && e,\n        i = o && "object" == _typeof(t) && t && !t.nodeType && t,\n        a = i && i.exports === o && r.process,\n        s = function () {\n      try {\n        var t = i && i.require && i.require("util").types;\n\n        return t || a && a.binding && a.binding("util");\n      } catch (t) {}\n    }();\n\n    t.exports = s;\n  }).call(this, n(21)(t));\n}, function (t, e, n) {\n  var r = n(2)(n(0), "Map");\n  t.exports = r;\n}, function (t, e, n) {\n  var r = n(115),\n      o = n(46),\n      i = Object.prototype.propertyIsEnumerable,\n      a = Object.getOwnPropertySymbols,\n      s = a ? function (t) {\n    return null == t ? [] : (t = Object(t), r(a(t), function (e) {\n      return i.call(t, e);\n    }));\n  } : o;\n  t.exports = s;\n}, function (t, e, n) {\n  var r = n(42)(Object.getPrototypeOf, Object);\n  t.exports = r;\n}, function (t, e, n) {\n  var r = n(119),\n      o = n(24),\n      i = n(120),\n      a = n(121),\n      s = n(122),\n      u = n(5),\n      c = n(34),\n      l = c(r),\n      f = c(o),\n      p = c(i),\n      d = c(a),\n      h = c(s),\n      v = u;\n  (r && "[object DataView]" != v(new r(new ArrayBuffer(1))) || o && "[object Map]" != v(new o()) || i && "[object Promise]" != v(i.resolve()) || a && "[object Set]" != v(new a()) || s && "[object WeakMap]" != v(new s())) && (v = function v(t) {\n    var e = u(t),\n        n = "[object Object]" == e ? t.constructor : void 0,\n        r = n ? c(n) : "";\n    if (r) switch (r) {\n      case l:\n        return "[object DataView]";\n\n      case f:\n        return "[object Map]";\n\n      case p:\n        return "[object Promise]";\n\n      case d:\n        return "[object Set]";\n\n      case h:\n        return "[object WeakMap]";\n    }\n    return e;\n  }), t.exports = v;\n}, function (t, e, n) {\n  var r = n(125);\n\n  t.exports = function (t) {\n    var e = new t.constructor(t.byteLength);\n    return new r(e).set(new r(t)), e;\n  };\n}, function (t, e, n) {\n  "use strict";\n\n  var r = Object.prototype.hasOwnProperty,\n      o = Object.prototype.toString,\n      i = Object.defineProperty,\n      a = Object.getOwnPropertyDescriptor,\n      s = function s(t) {\n    return "function" == typeof Array.isArray ? Array.isArray(t) : "[object Array]" === o.call(t);\n  },\n      u = function u(t) {\n    if (!t || "[object Object]" !== o.call(t)) return !1;\n    var e,\n        n = r.call(t, "constructor"),\n        i = t.constructor && t.constructor.prototype && r.call(t.constructor.prototype, "isPrototypeOf");\n    if (t.constructor && !n && !i) return !1;\n\n    for (e in t) {\n      ;\n    }\n\n    return void 0 === e || r.call(t, e);\n  },\n      c = function c(t, e) {\n    i && "__proto__" === e.name ? i(t, e.name, {\n      enumerable: !0,\n      configurable: !0,\n      value: e.newValue,\n      writable: !0\n    }) : t[e.name] = e.newValue;\n  },\n      l = function l(t, e) {\n    if ("__proto__" === e) {\n      if (!r.call(t, e)) return;\n      if (a) return a(t, e).value;\n    }\n\n    return t[e];\n  };\n\n  t.exports = function t() {\n    var e,\n        n,\n        r,\n        o,\n        i,\n        a,\n        f = arguments[0],\n        p = 1,\n        d = arguments.length,\n        h = !1;\n\n    for ("boolean" == typeof f && (h = f, f = arguments[1] || {}, p = 2), (null == f || "object" != _typeof(f) && "function" != typeof f) && (f = {}); p < d; ++p) {\n      if (null != (e = arguments[p])) for (n in e) {\n        r = l(f, n), f !== (o = l(e, n)) && (h && o && (u(o) || (i = s(o))) ? (i ? (i = !1, a = r && s(r) ? r : []) : a = r && u(r) ? r : {}, c(f, {\n          name: n,\n          newValue: t(h, a, o)\n        })) : void 0 !== o && c(f, {\n          name: n,\n          newValue: o\n        }));\n      }\n    }\n\n    return f;\n  };\n}, function (t, e, n) {\n  "use strict";\n\n  Object.defineProperty(e, "__esModule", {\n    value: !0\n  });\n\n  var r = function () {\n    function t(t) {\n      this.routes = t;\n    }\n\n    return t.prototype.isRoute = function (t) {\n      return void 0 !== this.routes[t];\n    }, t.prototype.callRoute = function (t, e) {\n      return this.routes[t](e);\n    }, t.prototype.handleRequest = function (t, e, n, r) {\n      return this.routes[t](e, n, r);\n    }, t;\n  }();\n\n  e.RoutingConfig = r;\n}, function (t, e, n) {\n  "use strict";\n\n  Object.defineProperty(e, "__esModule", {\n    value: !0\n  });\n\n  var r = n(29),\n      o = n(62),\n      i = n(84),\n      a = n(134),\n      s = function () {\n    function t() {\n      this.state = null, this.stateHistory = [], this.listeners = [], this._nextState = null, this.debug = !1, this.highPerformance = !1, this.dirtyState = !1, this.listen = this.listen.bind(this), this.ignore = this.ignore.bind(this), this.stateChange = this.stateChange.bind(this), this.newState = this.newState.bind(this), this.nextState = this.nextState.bind(this), this.cloneState = this.cloneState.bind(this), this.notify = this.notify.bind(this), this.upsertItem = this.upsertItem.bind(this), this.removeItem = this.removeItem.bind(this), this.removeItems = this.removeItems.bind(this);\n    }\n\n    return t.prototype.listen = function (t) {\n      this.listeners.push(t);\n    }, t.prototype.getState = function () {\n      return this.state;\n    }, t.prototype.ignore = function (t) {\n      var e = this.listeners.indexOf(t);\n      return e >= 0 && (this.listeners.splice(e, 1), !0);\n    }, t.prototype.stateChange = function (t, e) {\n      var n = {};\n      return o(n, this.state), this.debug && this.stateHistory.push({\n        actionName: t,\n        state: n\n      }), this.state = e, this._nextState = null, this.dirtyState || (this.dirtyState = !0, this.highPerformance ? requestAnimationFrame(this.notify.bind(this, n)) : this.notify(n)), e;\n    }, t.prototype.cloneState = function () {\n      return i(this.state, function (t) {\n        return window && window.moment && window.moment.isMoment(t) ? t.clone() : t instanceof Date ? new Date(t.getTime()) : void 0;\n      });\n    }, t.prototype.newState = function () {\n      return this.nextState();\n    }, t.prototype.nextState = function () {\n      return this._nextState ? this._nextState : this._nextState = this.cloneState();\n    }, t.prototype.notify = function (t) {\n      var e = this;\n      this.debug && console.debug("Store state changed, notifying " + this.listeners.length + " listener(s) of change", "Old State", t, "New State", this.state), this.listeners.forEach(function (n) {\n        n(e.state, t);\n      }), this.dirtyState = !1;\n    }, t.prototype.upsertItem = function (t, e, n, r) {\n      void 0 === r && (r = !1);\n      if (void 0 !== t && Array.isArray(t) || (console.warn("Non array passed in as modelArray"), t = []), "object" != _typeof(n)) return console.warn("Upserted item must be an object", _typeof(n), "given"), !1;\n      if (void 0 !== n.__bID && n.__bID !== e) return console.warn("Upserted item does not match the keyValue passed in", n.__bID, "!=", e), !1;\n\n      for (var o = null, i = 0; i < t.length; i++) {\n        if (t[i].__bID === e) {\n          o = i;\n          break;\n        }\n      }\n\n      if (null === o) n.__bID = e, t.push(n);else {\n        var a = t[o];\n        t[o] = r ? n : this.merge(a, n), t[o].__bID = e;\n      }\n      return !0;\n    }, t.prototype.getItem = function (t, e) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        if (r.__bID === e) return r;\n      }\n\n      return null;\n    }, t.prototype.removeItem = function (t, e) {\n      for (var n = null, r = 0; r < t.length; r++) {\n        if (t[r].__bID === e) {\n          n = r;\n          break;\n        }\n      }\n\n      return null !== n && t.splice(n, 1);\n    }, t.prototype.removeItems = function (t, e) {\n      var n = this;\n      e.forEach(function (e) {\n        n.removeItem(t, e);\n      });\n    }, t.prototype.sanitizeAndValidate = function (t, e) {\n      var n = this.sanitize(t, e, !1),\n          r = this.validate(n, e);\n      return !0 === r ? n : r;\n    }, t.prototype.validate = function (t, e) {\n      var n = [];\n\n      for (var r in e) {\n        if (void 0 !== e[r].validation) for (var o in e[r].validation) {\n          if (n.length > 0) break;\n          var i = t[r],\n              a = e[r].validation[o];\n\n          if ("object" === e[r].type && "validate" === o && a) {\n            var s = this.validate(i, e[r].schema());\n\n            if (!0 !== s) {\n              n = n.concat(s);\n              break;\n            }\n          }\n\n          var u = e[r].label ? e[r].label : r;\n\n          switch (o) {\n            case "required":\n              null != i && "" !== i || n.push(u + " is required");\n              break;\n\n            case "minLength":\n              i.length < a && n.push(u + " must be at least " + a + " characters");\n              break;\n\n            case "maxLength":\n              i.length > a && n.push(u + " must be at under " + a + " characters");\n              break;\n\n            default:\n              if ("function" == typeof a) {\n                var c = a(i);\n                !0 !== c && (n = n.concat(c));\n              }\n\n          }\n        }\n      }\n\n      return !(n.length > 0) || n;\n    }, t.prototype.sanitize = function (t, e, n) {\n      void 0 === n && (n = !1);\n      var o = {},\n          i = r(!0, {}, t);\n\n      for (var a in e) {\n        o[a] = this.sanitizeField(a, i, e, n);\n      }\n\n      return o;\n    }, t.prototype.merge = function (t, e) {\n      return a(t, e), t;\n    }, t.prototype.sortBy = function (t, e) {\n      return void 0 === e && (e = "desc"), function (n, r) {\n        return r[t] && !n[t] || r[t] && n[t] && r[t] > n[t] ? "desc" === e.toLowerCase() ? 1 : -1 : !r[t] && n[t] || r[t] && n[t] && r[t] < n[t] ? "desc" === e.toLowerCase() ? -1 : 1 : r[t] && n[t] && r[t] == n[t] ? 0 : r[t] && !n[t] ? 0 : void 0;\n      };\n    }, t.prototype.money = function (t) {\n      return t.toFixed(2);\n    }, t.prototype.uuid = function () {\n      return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function (t) {\n        var e = 16 * Math.random() | 0;\n        return ("x" == t ? e : 3 & e | 8).toString(16);\n      });\n    }, t.string = function (t) {\n      return void 0 === t && (t = {}), r(!0, {\n        type: "string"\n      }, t);\n    }, t["int"] = function (t) {\n      return void 0 === t && (t = {}), r(!0, {\n        type: "int"\n      }, t);\n    }, t["double"] = function (t) {\n      return void 0 === t && (t = {}), r(!0, {\n        type: "double"\n      }, t);\n    }, t.bool = function (t) {\n      return void 0 === t && (t = {}), r(!0, {\n        type: "bool"\n      }, t);\n    }, t["float"] = function (t) {\n      return void 0 === t && (t = {}), r(!0, {\n        type: "float"\n      }, t);\n    }, t.array = function (t) {\n      return void 0 === t && (t = {}), r(!0, {\n        type: "array",\n        schema: null\n      }, t);\n    }, t.object = function (t) {\n      return void 0 === t && (t = {}), r(!0, {\n        type: "object",\n        schema: null\n      }, t);\n    }, t.datetime = function (t) {\n      return void 0 === t && (t = {}), r(!0, {\n        type: "datetime",\n        schema: null,\n        format: "YYYY-MM-DD HH:mm:ss"\n      }, t);\n    }, t.callback = function (t) {\n      return void 0 === t && (t = {}), r(!0, {\n        type: "callback",\n        schema: null\n      }, t);\n    }, t.customType = function (t, e) {\n      return void 0 === e && (e = {}), r(!0, {\n        type: t,\n        schema: null\n      }, e);\n    }, t.prototype.sanitizeField = function (t, e, n, r) {\n      if ("function" === n[t].type) return n[t].value;\n      void 0 === e[t] && (void 0 !== n[t].initial ? e[t] = n[t].initial() : e[t] = null);\n      var o = n[t].type;\n      if (null === e[t] && "obj" !== o && "object" !== o) return null;\n\n      switch (n[t].field = t, o) {\n        case "int":\n        case "integer":\n          return this.sanitizeInteger(e[t], n[t]);\n\n        case "float":\n        case "double":\n          return this.sanitizeFloat(e[t], n[t]);\n\n        case "string":\n        case "char":\n        case "varchar":\n          return this.sanitizeString(e[t], n[t]);\n\n        case "date":\n        case "datetime":\n        case "timestamp":\n          return this.sanitizeDateTime(e[t], n[t], r);\n\n        case "bool":\n        case "boolean":\n          return this.sanitizeBoolean(e[t], n[t]);\n\n        case "obj":\n        case "object":\n          return this.sanitizeObject(e[t], n[t], r);\n\n        case "array":\n        case "collection":\n          return this.sanitizeArray(e[t], n[t], r);\n\n        case "callback":\n          return this.sanitizeCallback(e[t], n[t]);\n\n        default:\n          if (void 0 !== n[t].sanitize) return n[t].sanitize(e[t], n[t]);\n      }\n    }, t.prototype.sanitizeCallback = function (t, e) {\n      if ("function" != typeof t) throw new Error("Provided callback is not a valid function");\n      return t;\n    }, t.prototype.sanitizeInteger = function (t, e) {\n      if ("string" == typeof t && 0 === (t = t.replace(/[a-zA-Z]+/gi, "")).length) return "";\n      if (t = parseInt(t), void 0 !== e.min && t < e.min) throw new Error("Provided value cannot be sanitized, value is below minimum integer allowed");\n      if (void 0 !== e.max && t > e.max) throw new Error("Provided value cannot be sanitized, value is greater than maximum integer allowed");\n      return isNaN(t) ? "" : t;\n    }, t.prototype.sanitizeFloat = function (t, e) {\n      if (t = parseFloat(t), void 0 !== e.min && t < e.min) throw new Error("Provided value cannot be sanitized, value is below minimum float allowed");\n      if (void 0 !== e.max && t > e.max) throw new Error("Provided value cannot be sanitized, value is greater than maximum float allowed");\n      return t;\n    }, t.prototype.sanitizeString = function (t, e) {\n      if (t = String(t), void 0 !== e.minLength && t.length < e.minLength) throw new Error("Provided value cannot be sanitized, string length is below minimum allowed");\n      return void 0 !== e.maxLength && t.length > e.maxLength && (console.warn("Value was truncated during sanitization"), t = t.substr(0, e.maxLength)), t;\n    }, t.prototype.sanitizeDateTime = function (t, e, n) {\n      if (void 0 === e.utc || e.utc) var r = moment.utc(t, e.format);else r = moment(t, e.format);\n      if (r.isValid()) return n ? r.utc().format("YYYY-MM-DD hh:mm:ss") : r;\n      throw new Error("Provided value (" + t + ") cannot be sanitized for field (" + e.field + "), is not a valid date");\n    }, t.prototype.sanitizeBoolean = function (t, e) {\n      if (!1 === t || !0 === t) return t;\n\n      if ("string" == typeof t) {\n        if ("false" === t.toLowerCase().trim()) return !1;\n        if ("true" === t.toLowerCase().trim()) return !0;\n      }\n\n      if (0 === parseInt(t)) return !1;\n      if (1 === parseInt(t)) return !0;\n      throw new Error("Provided value cannot be santized, is not a valid boolean");\n    }, t.prototype.sanitizeObject = function (t, e, n) {\n      if (void 0 === e.schema) throw new Error("Provided value cannot be santized, no reference schema provided for field type of object");\n      return null === e.schema ? t : null === t ? null : n || "function" != typeof e.constructor ? this.sanitize(t, e.schema(), n) : new e.constructor(this.sanitize(t, e.schema()));\n    }, t.prototype.sanitizeArray = function (t, e, n) {\n      var r = this;\n      return void 0 === e.schema || null === e.schema || !1 === e.schema ? t : void 0 === t.length ? [] : t.map(function (t) {\n        return n || "function" != typeof e.constructor ? r.sanitize(t, e.schema(), n) : new e.constructor(r.sanitize(t, e.schema()));\n      });\n    }, t;\n  }();\n\n  e["default"] = s;\n}, function (t, e, n) {\n  var r = n(2),\n      o = function () {\n    try {\n      var t = r(Object, "defineProperty");\n      return t({}, "", {}), t;\n    } catch (t) {}\n  }();\n\n  t.exports = o;\n}, function (t, e, n) {\n  (function (e) {\n    var n = "object" == _typeof(e) && e && e.Object === Object && e;\n    t.exports = n;\n  }).call(this, n(64));\n}, function (t, e) {\n  var n = Function.prototype.toString;\n\n  t.exports = function (t) {\n    if (null != t) {\n      try {\n        return n.call(t);\n      } catch (t) {}\n\n      try {\n        return t + "";\n      } catch (t) {}\n    }\n\n    return "";\n  };\n}, function (t, e, n) {\n  var r = n(70),\n      o = n(77);\n\n  t.exports = function (t) {\n    return r(function (e, n) {\n      var r = -1,\n          i = n.length,\n          a = i > 1 ? n[i - 1] : void 0,\n          s = i > 2 ? n[2] : void 0;\n\n      for (a = t.length > 3 && "function" == typeof a ? (i--, a) : void 0, s && o(n[0], n[1], s) && (a = i < 3 ? void 0 : a, i = 1), e = Object(e); ++r < i;) {\n        var u = n[r];\n        u && t(e, u, r, a);\n      }\n\n      return e;\n    });\n  };\n}, function (t, e) {\n  t.exports = function (t) {\n    return t;\n  };\n}, function (t, e) {\n  var n = 9007199254740991;\n\n  t.exports = function (t) {\n    return "number" == typeof t && t > -1 && t % 1 == 0 && t <= n;\n  };\n}, function (t, e) {\n  var n = 9007199254740991,\n      r = /^(?:0|[1-9]\\d*)$/;\n\n  t.exports = function (t, e) {\n    var o = _typeof(t);\n\n    return !!(e = null == e ? n : e) && ("number" == o || "symbol" != o && r.test(t)) && t > -1 && t % 1 == 0 && t < e;\n  };\n}, function (t, e, n) {\n  var r = n(78),\n      o = n(40),\n      i = n(11),\n      a = n(20),\n      s = n(38),\n      u = n(41),\n      c = Object.prototype.hasOwnProperty;\n\n  t.exports = function (t, e) {\n    var n = i(t),\n        l = !n && o(t),\n        f = !n && !l && a(t),\n        p = !n && !l && !f && u(t),\n        d = n || l || f || p,\n        h = d ? r(t.length, String) : [],\n        v = h.length;\n\n    for (var y in t) {\n      !e && !c.call(t, y) || d && ("length" == y || f && ("offset" == y || "parent" == y) || p && ("buffer" == y || "byteLength" == y || "byteOffset" == y) || s(y, v)) || h.push(y);\n    }\n\n    return h;\n  };\n}, function (t, e, n) {\n  var r = n(79),\n      o = n(3),\n      i = Object.prototype,\n      a = i.hasOwnProperty,\n      s = i.propertyIsEnumerable,\n      u = r(function () {\n    return arguments;\n  }()) ? r : function (t) {\n    return o(t) && a.call(t, "callee") && !s.call(t, "callee");\n  };\n  t.exports = u;\n}, function (t, e, n) {\n  var r = n(81),\n      o = n(22),\n      i = n(23),\n      a = i && i.isTypedArray,\n      s = a ? o(a) : r;\n  t.exports = s;\n}, function (t, e) {\n  t.exports = function (t, e) {\n    return function (n) {\n      return t(e(n));\n    };\n  };\n}, function (t, e, n) {\n  var r = n(12),\n      o = n(91),\n      i = n(92),\n      a = n(93),\n      s = n(94),\n      u = n(95);\n\n  function c(t) {\n    var e = this.__data__ = new r(t);\n    this.size = e.size;\n  }\n\n  c.prototype.clear = o, c.prototype["delete"] = i, c.prototype.get = a, c.prototype.has = s, c.prototype.set = u, t.exports = c;\n}, function (t, e, n) {\n  (function (t) {\n    var r = n(0),\n        o = e && !e.nodeType && e,\n        i = o && "object" == _typeof(t) && t && !t.nodeType && t,\n        a = i && i.exports === o ? r.Buffer : void 0,\n        s = a ? a.allocUnsafe : void 0;\n\n    t.exports = function (t, e) {\n      if (e) return t.slice();\n      var n = t.length,\n          r = s ? s(n) : new t.constructor(n);\n      return t.copy(r), r;\n    };\n  }).call(this, n(21)(t));\n}, function (t, e) {\n  t.exports = function (t, e) {\n    var n = -1,\n        r = t.length;\n\n    for (e || (e = Array(r)); ++n < r;) {\n      e[n] = t[n];\n    }\n\n    return e;\n  };\n}, function (t, e) {\n  t.exports = function () {\n    return [];\n  };\n}, function (t, e, n) {\n  var r = n(48),\n      o = n(26),\n      i = n(25),\n      a = n(46),\n      s = Object.getOwnPropertySymbols ? function (t) {\n    for (var e = []; t;) {\n      r(e, i(t)), t = o(t);\n    }\n\n    return e;\n  } : a;\n  t.exports = s;\n}, function (t, e) {\n  t.exports = function (t, e) {\n    for (var n = -1, r = e.length, o = t.length; ++n < r;) {\n      t[o + n] = e[n];\n    }\n\n    return t;\n  };\n}, function (t, e, n) {\n  var r = n(48),\n      o = n(11);\n\n  t.exports = function (t, e, n) {\n    var i = e(t);\n    return o(t) ? i : r(i, n(t));\n  };\n}, function (t, e, n) {\n  var r = n(28);\n\n  t.exports = function (t, e) {\n    var n = e ? r(t.buffer) : t.buffer;\n    return new t.constructor(n, t.byteOffset, t.length);\n  };\n}, function (t, e, n) {\n  var r = n(129),\n      o = n(26),\n      i = n(9);\n\n  t.exports = function (t) {\n    return "function" != typeof t.constructor || i(t) ? {} : r(o(t));\n  };\n}, function (t, e, n) {\n  var r = n(17),\n      o = n(8);\n\n  t.exports = function (t, e, n) {\n    (void 0 === n || o(t[e], n)) && (void 0 !== n || e in t) || r(t, e, n);\n  };\n}, function (t, e) {\n  t.exports = function (t, e) {\n    if (("constructor" !== e || "function" != typeof t[e]) && "__proto__" != e) return t[e];\n  };\n}, function (t, e, n) {\n  "use strict";\n\n  var r = n(57),\n      o = n(30),\n      i = n(60),\n      a = n(61),\n      s = n(31),\n      u = n(142),\n      c = n(143),\n      l = n(144);\n  t.exports = {\n    Actions: c["default"],\n    ApiService: r.ApiService,\n    ApiServiceClass: r.ApiServiceClass,\n    Model: l["default"],\n    RoutingConfig: o.RoutingConfig,\n    sanitize: i.sanitize,\n    RoutingService: a.RoutingService,\n    RoutingServiceClass: a.RoutingServiceClass,\n    Store: s["default"],\n    Schema: u.Schema\n  };\n}, function (t, e, n) {\n  "use strict";\n\n  n.r(e);\n  n(56);\n  var r = n(54);\n  window.BeefFlux = r;\n}, function (t, e) {\n  var n = this && this.__extends || function (t, e) {\n    for (var n in e) {\n      e.hasOwnProperty(n) && (t[n] = e[n]);\n    }\n\n    function r() {\n      this.constructor = t;\n    }\n\n    t.prototype = null === e ? Object.create(e) : (r.prototype = e.prototype, new r());\n  },\n      r = function () {\n    function t() {}\n\n    return t.service = function (t, e) {\n      return void 0 === e && (e = null), null !== e && (this.services[t] = e), this.services[t];\n    }, t.setup = function (t) {\n      this.setupCallbacks.push(t);\n    }, t.start = function () {\n      this.started || (this.setupCallbacks.forEach(function (t) {\n        t();\n      }), this.started = !0);\n    }, t.started = !1, t.Actions = function () {\n      return t.start(), {\n        create: function create(t) {\n          return o.create(t);\n        }\n      };\n    }, t.Api = function () {\n      return t.start(), t.service(p.SERVICE_ID);\n    }, t.Dispatcher = function () {\n      return t.start(), t.service(d.SERVICE_ID);\n    }, t.Store = function () {\n      return t.start(), {\n        create: function create(t) {\n          var e = jQuery.extend(!0, new f(), t);\n          return e.actions(), e;\n        }\n      };\n    }, t.Router = function () {\n      return t.start(), t.service(h.SERVICE_ID);\n    }, t.services = {}, t.setupCallbacks = [], t;\n  }();\n\n  window.Beef = r;\n\n  var o = function () {\n    function t() {}\n\n    return t.create = function (e) {\n      var n = new i();\n\n      for (var r in e) {\n        "_" === r[0] || t.ignoreFunctions.indexOf(r) >= 0 || (n[r] = new function () {\n          return new Function("return function (fn) { return function " + r + " () { return fn(this, arguments) }; };")()(Function.apply.bind(function (t) {\n            var r = [];\n\n            for (var o in arguments) {\n              "0" !== o && r.push(arguments[o]);\n            }\n\n            n._dispatch(t, e[t].bind(n), r);\n          }.bind(null, r)));\n        }());\n      }\n\n      return n;\n    }, t.ignoreFunctions = ["constructor"], t;\n  }();\n\n  window.Actions = o;\n\n  var i = function () {\n    function t() {\n      this._callbacks = {};\n    }\n\n    return t.prototype._register = function (t, e) {\n      for (var n in t) {\n        var r = t[n].name ? t[n].name : t[n].toString().match(/^function\\s*([^\\s(]+)/)[1];\n        void 0 === this._callbacks[r] && (this._callbacks[r] = []), this._callbacks[r].push(e[n].bind(e));\n      }\n    }, t.prototype._dispatch = function (t, e, n) {\n      if (void 0 !== this._callbacks[t]) {\n        var r = e.apply(this, n);\n\n        this._callbacks[t].forEach(function (t) {\n          t(r);\n        });\n      }\n    }, t;\n  }();\n\n  window.Action = i;\n\n  var a = function () {\n    function t() {}\n\n    return t.prototype.setup = function () {}, t.prototype.run = function () {}, t;\n  }();\n\n  window.BaseApp = a;\n\n  var s = function s() {};\n\n  window.BaseService = s;\n\n  var u = function u(t, e, n) {\n    void 0 === e && (e = []), this.func = t, this.dependencies = e, this.dispatchId = n;\n  };\n\n  window.DispatcherCallback = u;\n\n  var c = function c(t, e) {\n    this.action = t, this.data = e;\n  };\n\n  window.DispatcherPayload = c;\n\n  var l = function () {\n    function t(t) {\n      this.routes = t;\n    }\n\n    return t.prototype.isRoute = function (t) {\n      return void 0 !== this.routes[t];\n    }, t.prototype.callRoute = function (t, e) {\n      return this.routes[t](e);\n    }, t;\n  }();\n\n  window.RoutingConfig = l;\n\n  var f = function () {\n    function t() {\n      this.rows = {}, this.actions = function () {}, this.dispatchIndex = null;\n    }\n\n    return t.prototype.listen = function (t, e) {\n      jQuery(window).on(t, e);\n    }, t.prototype.ignore = function (t, e) {\n      jQuery(window).off(t, e);\n    }, t.prototype.emit = function (t, e) {\n      void 0 === e && (e = !1), jQuery(window).trigger(t, [e]);\n    }, t.prototype.upsertRow = function (t, e, n, r, o) {\n      void 0 === o && (o = !1);\n      var i = !1;\n      void 0 === this.rows[t] && (this.rows[t] = []);\n      var a = this.rows[t],\n          s = this;\n      a.forEach(function (t, u) {\n        void 0 !== t[e] && t[e] === n && (void 0 === a[u] && (a[u] = {}), a[u] = o ? a[u] = r : s.merge(a[u], r), i = !0);\n      }), i || this.rows[t].push(r);\n    }, t.prototype.removeRow = function (t, e, n) {\n      if (void 0 !== this.rows[t]) {\n        var r = this.rows[t],\n            o = [];\n        if (r.forEach(function (t, r) {\n          void 0 !== t[e] && t[e] == n && o.push(r);\n        }), 0 !== o.length) for (var i = 0; i < o.length; i++) {\n          this.rows[t].splice(o[i], 1);\n        }\n      }\n    }, t.prototype.removeRows = function (t, e, n) {\n      var r = this;\n      n.forEach(function (n) {\n        r.removeRow(t, e, n);\n      });\n    }, t.prototype.clearAll = function (t) {\n      this.rows[t] = [];\n    }, t.prototype.getRows = function (t, e) {\n      return void 0 === e && (e = !0), void 0 !== this.rows[t] ? e ? this.rows[t] : this.rows[t].slice(0) : [];\n    }, t.prototype.sanitizeAndValidate = function (t, e) {\n      var n = this.sanitize(t, e, !1),\n          r = this.validate(n, e);\n      return !0 === r ? n : r;\n    }, t.prototype.validate = function (t, e) {\n      var n = [];\n\n      for (var r in e) {\n        if (void 0 !== e[r].validation) for (var o in e[r].validation) {\n          if (n.length > 0) break;\n          var i = t[r],\n              a = e[r].label ? e[r].label : r;\n\n          switch (o) {\n            case "required":\n              null != i && "" !== i || n.push(a + " is required");\n              break;\n\n            case "minLength":\n              i.length < e[r].validation[o] && n.push(a + " must be at least " + e[r].validation[o] + " characters");\n              break;\n\n            case "maxLength":\n              i.length > e[r].validation[o] && n.push(a + " must be at under " + e[r].validation[o] + " characters");\n              break;\n\n            default:\n              if ("function" == typeof e[r].validation[o]) {\n                var s = e[r].validation[o](i);\n                !0 !== s && n.concat(s);\n              }\n\n          }\n        }\n      }\n\n      return !(n.length > 0) || n;\n    }, t.prototype.sanitize = function (t, e, n) {\n      void 0 === n && (n = !1);\n      var r = {},\n          o = jQuery.extend(!0, {}, t);\n\n      for (var i in e) {\n        r[i] = this.sanitizeField(i, o, e, n);\n      }\n\n      return r;\n    }, t.prototype.merge = function (t, e, n) {\n      void 0 === n && (n = 1);\n      if (3 === n) return e;\n\n      for (var r in e) {\n        try {\n          e[r].constructor === Object ? t[r] = this.merge(t[r], e[r], n + 1) : t[r] = e[r];\n        } catch (n) {\n          t[r] = e[r];\n        }\n      }\n\n      return t;\n    }, t.prototype.sortBy = function (t, e) {\n      return void 0 === e && (e = "desc"), function (n, r) {\n        return r[t] && !n[t] || r[t] && n[t] && r[t] > n[t] ? "desc" === e.toLowerCase() ? 1 : -1 : !r[t] && n[t] || r[t] && n[t] && r[t] < n[t] ? "desc" === e.toLowerCase() ? -1 : 1 : r[t] && n[t] && r[t] == n[t] ? 0 : r[t] && !n[t] ? 0 : void 0;\n      };\n    }, t.prototype.money = function (t) {\n      return t.toFixed(2);\n    }, t.prototype.uuid = function () {\n      return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function (t) {\n        var e = 16 * Math.random() | 0;\n        return ("x" == t ? e : 3 & e | 8).toString(16);\n      });\n    }, t.string = function (t) {\n      return void 0 === t && (t = {}), jQuery.extend(!0, {\n        type: "string"\n      }, t);\n    }, t["int"] = function (t) {\n      return void 0 === t && (t = {}), jQuery.extend(!0, {\n        type: "int"\n      }, t);\n    }, t["double"] = function (t) {\n      return void 0 === t && (t = {}), jQuery.extend(!0, {\n        type: "double"\n      }, t);\n    }, t.bool = function (t) {\n      return void 0 === t && (t = {}), jQuery.extend(!0, {\n        type: "bool"\n      }, t);\n    }, t["float"] = function (t) {\n      return void 0 === t && (t = {}), jQuery.extend(!0, {\n        type: "float"\n      }, t);\n    }, t.array = function (t) {\n      return void 0 === t && (t = {}), jQuery.extend(!0, {\n        type: "array",\n        schema: null\n      }, t);\n    }, t.object = function (t) {\n      return void 0 === t && (t = {}), jQuery.extend(!0, {\n        type: "object",\n        schema: null\n      }, t);\n    }, t.datetime = function (t) {\n      return void 0 === t && (t = {}), jQuery.extend(!0, {\n        type: "datetime",\n        schema: null,\n        format: "YYYY-MM-DD HH:mm:ss"\n      }, t);\n    }, t.callback = function (t) {\n      return void 0 === t && (t = {}), jQuery.extend(!0, {\n        type: "callback",\n        schema: null\n      }, t);\n    }, t.prototype.sanitizeField = function (t, e, n, r) {\n      if ("function" === n[t].type) return n[t].value;\n      void 0 === e[t] && (void 0 !== n[t].initial ? e[t] = n[t].initial() : e[t] = null);\n      var o = n[t].type;\n      if (null === e[t] && "obj" !== o && "object" !== o) return null;\n\n      switch (n[t].field = t, o) {\n        case "int":\n        case "integer":\n          return this.sanitizeInteger(e[t], n[t]);\n\n        case "float":\n        case "double":\n          return this.sanitizeFloat(e[t], n[t]);\n\n        case "string":\n        case "char":\n        case "varchar":\n          return this.sanitizeString(e[t], n[t]);\n\n        case "date":\n        case "datetime":\n        case "timestamp":\n          return this.sanitizeDateTime(e[t], n[t], r);\n\n        case "bool":\n        case "boolean":\n          return this.sanitizeBoolean(e[t], n[t]);\n\n        case "obj":\n        case "object":\n          return this.sanitizeObject(e[t], n[t], r);\n\n        case "array":\n        case "collection":\n          return this.sanitizeArray(e[t], n[t], r);\n\n        default:\n          if ("undefined" !== n[t].sanitize) return n[t].sanitize(e[t], n[t]);\n      }\n    }, t.prototype.sanitizeInteger = function (t, e) {\n      if ("string" == typeof t && 0 === (t = t.replace(/[a-zA-Z]+/gi, "")).length) return "";\n      if (t = parseInt(t), void 0 !== e.min && t < e.min) throw new Error("Provided value cannot be sanitized, value is below minimum integer allowed");\n      if (void 0 !== e.max && t > e.max) throw new Error("Provided value cannot be sanitized, value is greater than maximum integer allowed");\n      return isNaN(t) ? "" : t;\n    }, t.prototype.sanitizeFloat = function (t, e) {\n      if (t = parseFloat(t), void 0 !== e.min && t < e.min) throw new Error("Provided value cannot be sanitized, value is below minimum float allowed");\n      if (void 0 !== e.max && t > e.max) throw new Error("Provided value cannot be sanitized, value is greater than maximum float allowed");\n      return t;\n    }, t.prototype.sanitizeString = function (t, e) {\n      if (t = String(t), void 0 !== e.minLength && t.length < e.minLength) throw new Error("Provided value cannot be sanitized, string length is below minimum allowed");\n      return void 0 !== e.maxLength && t.length > e.maxLength && (console.warn("Value was truncated during sanitation"), t = t.substr(0, e.maxLength)), t;\n    }, t.prototype.sanitizeDateTime = function (t, e, n) {\n      if (moment(t, e.format).isValid()) return n ? moment(t).utc().format("YYYY-MM-DD hh:mm:ss") : void 0 === e.utc || e.utc ? moment.utc(t) : moment(t);\n      throw new Error("Provided value (" + t + ") cannot be sanitized for field (" + e.field + "), is not a valid date");\n    }, t.prototype.sanitizeBoolean = function (t, e) {\n      if (!1 === t || !0 === t) return t;\n\n      if ("string" == typeof t) {\n        if ("false" === t.toLowerCase().trim()) return !1;\n        if ("true" === t.toLowerCase().trim()) return !0;\n      }\n\n      if (0 === parseInt(t)) return !1;\n      if (1 === parseInt(t)) return !0;\n      throw new Error("Provided value cannot be santized, is not a valid boolean");\n    }, t.prototype.sanitizeObject = function (t, e, n) {\n      if (void 0 === e.schema) throw new Error("Provided value cannot be santized, no reference schema provided for field type of object");\n      return null === e.schema ? t : null === t ? null : this.sanitize(t, e.schema(), n);\n    }, t.prototype.sanitizeArray = function (t, e, n) {\n      if (void 0 === e.schema || null === e.schema || !1 === e.schema) return t;\n      if (void 0 === t.length) return [];\n      var r = this;\n      return t.map(function (t) {\n        return r.sanitize(t, e.schema(), n);\n      });\n    }, t.prototype.getDispatcher = function () {\n      return r.service(d.SERVICE_ID);\n    }, t;\n  }();\n\n  window.Store = f;\n\n  var p = function (t) {\n    function e() {\n      t.apply(this, arguments);\n    }\n\n    return n(e, t), e.prototype.throttle = function (t, e, n) {\n      var r;\n      return function () {\n        var o = this,\n            i = arguments,\n            a = function a() {\n          r = null, n || t.apply(o, i);\n        },\n            s = n && !r;\n\n        clearTimeout(r), r = setTimeout(a, e), s && t.apply(o, i);\n      };\n    }, e.prototype.get = function (t, e) {\n      return this.doAjaxCall("GET", {\n        url: this.buildUrl(t, e),\n        dataType: "json"\n      });\n    }, e.prototype.post = function (t, e) {\n      return this.doAjaxCall("POST", {\n        url: this.buildUrl(t, e, !1),\n        data: JSON.stringify(e),\n        dataType: "json"\n      });\n    }, e.prototype.put = function (t, e) {\n      return this.doAjaxCall("PUT", {\n        url: this.buildUrl(t, e, !1),\n        data: JSON.stringify(e),\n        dataType: "json"\n      });\n    }, e.prototype["delete"] = function (t, e) {\n      return this.doAjaxCall("DELETE", {\n        url: this.buildUrl(t, e),\n        dataType: "json"\n      });\n    }, e.prototype.buildUrl = function (t, e, n) {\n      for (var r in void 0 === n && (n = !0), e) {\n        -1 === t.indexOf("{" + r + "}") ? !1 !== n && (-1 !== t.indexOf("?") ? t += "&" : t += "?", t += r + "=" + e[r]) : t = t.replace("{" + r + "}", e[r]);\n      }\n\n      return t;\n    }, e.prototype.doAjaxCall = function (t, e) {\n      var n = window.jQuery.fn.jquery.split("."),\n          r = n[0],\n          o = n[1];\n      return 1 == r && o < 9 ? (e.type = t, jQuery.ajax(e)) : (e.method = t, jQuery.ajax(e));\n    }, e.SERVICE_ID = "beef.service.api", e;\n  }(s);\n\n  window.ApiService = p;\n\n  var d = function (t) {\n    function e() {\n      t.apply(this, arguments), this.maxIterations = 10, this.callbacks = [];\n    }\n\n    return n(e, t), e.prototype.register = function (t, e) {\n      var n = this.callbacks.length;\n      return this.callbacks.push(new u(t, e, n)), n;\n    }, e.prototype.dispatch = function (t, e) {\n      for (var n = new c(t, e), r = [], o = 0, i = 0; o < this.maxIterations && r.length < this.callbacks.length;) {\n        i >= this.callbacks.length && (i = 0, o++);\n        var a = this.callbacks[i];\n        r.filter(function (t) {\n          return -1 !== a.dependencies.indexOf(t);\n        }).length === a.dependencies.length && (a.func(n), r.push(a.dispatchId), i++);\n      }\n\n      o >= this.maxIterations && console.warn("Hit max dispatcher iterations, check dependencies of callbacks");\n    }, e.SERVICE_ID = "beef.service.dispatcher", e;\n  }(s);\n\n  window.Dispatcher = d;\n\n  var h = function () {\n    function t() {}\n\n    return t.prototype.onRouteFinished = function () {}, t.prototype.routes = function (t) {\n      return this.routingConfig = new l(t), this;\n    }, t.prototype.route = function (t, e) {\n      if (this.routingConfig.isRoute(t) || (t = "/"), this.routingConfig.isRoute(t)) {\n        var n = this.routingConfig.callRoute(t, e);\n        return this.activeRoute = t, this.onRouteFinished(), n;\n      }\n\n      return null;\n    }, t.prototype.doRouting = function (t) {\n      void 0 === t && (t = null);\n      var e = "";\n\n      for (var n in this.routingConfig.routes) {\n        e = n, (t = null !== t ? t : window.location.hash).indexOf("?") >= 0 && (t = t.substring(0, t.indexOf("?")));\n        var r = n.match(/\\{[a-z\\_\\-\\+]+\\}/gi),\n            o = {};\n\n        if (null !== r) {\n          var i = n.split("/"),\n              a = t.split("/");\n          if ((a = a.splice(1, a.length - 1)).length !== i.length) continue;\n          var s = 0,\n              u = !1;\n          if (a.forEach(function (t) {\n            i[s].match(/\\{[a-z\\_\\-\\+]+\\}/gi) || t !== i[s] && (u = !0), s++;\n          }), u) continue;\n          e = "", i.forEach(function (t, n) {\n            n > 0 && (e += "/"), e += a[n], n > 0 && (o[t.replace(/[\\{\\}]/gi, "")] = a[n]);\n          });\n        }\n\n        e = e.replace("+", "\\\\+");\n        var c = new RegExp("^#/" + e + "$", "gi");\n        if (null !== t.match(c)) return this.activeRoute === n && o === this.routeData ? this.lastResponse : (this.routeData = o, this.activeRoute = n, this.lastResponse = this.route(n, o));\n      }\n\n      return this.lastResponse = this.route("/", {});\n    }, t.SERVICE_ID = "beef.service.routing", t;\n  }();\n\n  window.RoutingService = h, r.setup(function () {\n    r.service(p.SERVICE_ID, new p()), r.service(d.SERVICE_ID, new d()), r.service(h.SERVICE_ID, new h());\n  });\n}, function (t, e, n) {\n  "use strict";\n\n  Object.defineProperty(e, "__esModule", {\n    value: !0\n  });\n\n  var r = n(58),\n      o = n(29),\n      i = function () {\n    function t() {}\n\n    return t.prototype.throttle = function (t, e, n) {\n      var r;\n      return function () {\n        var o = this,\n            i = arguments,\n            a = function a() {\n          r = null, n || t.apply(o, i);\n        },\n            s = n && !r;\n\n        clearTimeout(r), r = setTimeout(a, e), s && t.apply(o, i);\n      };\n    }, t.prototype.get = function (t, e, n) {\n      return void 0 === n && (n = null), r(this._buildConfig({\n        url: this._buildUrl(t, e),\n        method: "get"\n      }, n));\n    }, t.prototype.post = function (t, e, n) {\n      return void 0 === n && (n = null), r(this._buildConfig({\n        url: this._buildUrl(t, e, !1),\n        method: "post",\n        data: JSON.stringify(e),\n        contentType: "application/json"\n      }, n));\n    }, t.prototype.put = function (t, e, n) {\n      return void 0 === n && (n = null), r(this._buildConfig({\n        url: this._buildUrl(t, e, !1),\n        method: "put",\n        data: JSON.stringify(e),\n        contentType: "application/json"\n      }, n));\n    }, t.prototype["delete"] = function (t, e, n) {\n      return void 0 === n && (n = null), r(this._buildConfig({\n        url: this._buildUrl(t, e),\n        method: "delete"\n      }, n));\n    }, t.prototype._buildUrl = function (t, e, n) {\n      for (var r in void 0 === n && (n = !0), e) {\n        -1 === t.indexOf("{" + r + "}") ? !1 !== n && (-1 !== t.indexOf("?") ? t += "&" : t += "?", t += r + "=" + e[r]) : t = t.replace("{" + r + "}", e[r]);\n      }\n\n      return t;\n    }, t.prototype._buildConfig = function (t, e) {\n      return void 0 === e && (e = {}), null === e ? t : o(!0, {}, t, e);\n    }, t;\n  }();\n\n  e.ApiServiceClass = i;\n  var a = new i();\n  e.ApiService = a;\n}, function (module, exports, __webpack_require__) {\n  var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__, definition;\n  /*!\n    * Reqwest! A general purpose XHR connection manager\n    * license MIT (c) Dustin Diaz 2015\n    * https://github.com/ded/reqwest\n    */\n\n\n  definition = function definition() {\n    var context = this,\n        XHR2;\n    if ("window" in context) var doc = document,\n        byTag = "getElementsByTagName",\n        head = doc[byTag]("head")[0];else try {\n      XHR2 = __webpack_require__(59);\n    } catch (t) {\n      throw new Error("Peer dependency `xhr2` required! Please npm install xhr2");\n    }\n\n    var httpsRe = /^http/,\n        protocolRe = /(^\\w+):\\/\\//,\n        twoHundo = /^(20\\d|1223)$/,\n        readyState = "readyState",\n        contentType = "Content-Type",\n        requestedWith = "X-Requested-With",\n        uniqid = 0,\n        callbackPrefix = "reqwest_" + +new Date(),\n        lastValue,\n        xmlHttpRequest = "XMLHttpRequest",\n        xDomainRequest = "XDomainRequest",\n        noop = function noop() {},\n        isArray = "function" == typeof Array.isArray ? Array.isArray : function (t) {\n      return t instanceof Array;\n    },\n        defaultHeaders = {\n      contentType: "application/x-www-form-urlencoded",\n      requestedWith: xmlHttpRequest,\n      accept: {\n        "*": "text/javascript, text/html, application/xml, text/xml, */*",\n        xml: "application/xml, text/xml",\n        html: "text/html",\n        text: "text/plain",\n        json: "application/json, text/javascript",\n        js: "application/javascript, text/javascript"\n      }\n    },\n        xhr = function xhr(t) {\n      if (!0 === t.crossOrigin) {\n        var e = context[xmlHttpRequest] ? new XMLHttpRequest() : null;\n        if (e && "withCredentials" in e) return e;\n        if (context[xDomainRequest]) return new XDomainRequest();\n        throw new Error("Browser does not support cross-origin requests");\n      }\n\n      return context[xmlHttpRequest] ? new XMLHttpRequest() : XHR2 ? new XHR2() : new ActiveXObject("Microsoft.XMLHTTP");\n    },\n        globalSetupOptions = {\n      dataFilter: function dataFilter(t) {\n        return t;\n      }\n    };\n\n    function succeed(t) {\n      var e = protocolRe.exec(t.url);\n      return e = e && e[1] || context.location.protocol, httpsRe.test(e) ? twoHundo.test(t.request.status) : !!t.request.response;\n    }\n\n    function handleReadyState(t, e, n) {\n      return function () {\n        return t._aborted ? n(t.request) : t._timedOut ? n(t.request, "Request is aborted: timeout") : void (t.request && 4 == t.request[readyState] && (t.request.onreadystatechange = noop, succeed(t) ? e(t.request) : n(t.request)));\n      };\n    }\n\n    function setHeaders(t, e) {\n      var n,\n          r = e.headers || {};\n      r.Accept = r.Accept || defaultHeaders.accept[e.type] || defaultHeaders.accept["*"];\n      var o = "undefined" != typeof FormData && e.data instanceof FormData;\n\n      for (n in e.crossOrigin || r[requestedWith] || (r[requestedWith] = defaultHeaders.requestedWith), r[contentType] || o || (r[contentType] = e.contentType || defaultHeaders.contentType), r) {\n        r.hasOwnProperty(n) && "setRequestHeader" in t && t.setRequestHeader(n, r[n]);\n      }\n    }\n\n    function setCredentials(t, e) {\n      void 0 !== e.withCredentials && void 0 !== t.withCredentials && (t.withCredentials = !!e.withCredentials);\n    }\n\n    function generalCallback(t) {\n      lastValue = t;\n    }\n\n    function urlappend(t, e) {\n      return t + (/\\?/.test(t) ? "&" : "?") + e;\n    }\n\n    function handleJsonp(t, e, n, r) {\n      var o = uniqid++,\n          i = t.jsonpCallback || "callback",\n          a = t.jsonpCallbackName || reqwest.getcallbackPrefix(o),\n          s = new RegExp("((^|\\\\?|&)" + i + ")=([^&]+)"),\n          u = r.match(s),\n          c = doc.createElement("script"),\n          l = 0,\n          f = -1 !== navigator.userAgent.indexOf("MSIE 10.0");\n      return u ? "?" === u[3] ? r = r.replace(s, "$1=" + a) : a = u[3] : r = urlappend(r, i + "=" + a), context[a] = generalCallback, c.type = "text/javascript", c.src = r, c.async = !0, void 0 === c.onreadystatechange || f || (c.htmlFor = c.id = "_reqwest_" + o), c.onload = c.onreadystatechange = function () {\n        if (c[readyState] && "complete" !== c[readyState] && "loaded" !== c[readyState] || l) return !1;\n        c.onload = c.onreadystatechange = null, c.onclick && c.onclick(), e(lastValue), lastValue = void 0, head.removeChild(c), l = 1;\n      }, head.appendChild(c), {\n        abort: function abort() {\n          c.onload = c.onreadystatechange = null, n({}, "Request is aborted: timeout", {}), lastValue = void 0, head.removeChild(c), l = 1;\n        }\n      };\n    }\n\n    function getRequest(t, e) {\n      var n,\n          r = this.o,\n          o = (r.method || "GET").toUpperCase(),\n          i = "string" == typeof r ? r : r.url,\n          a = !1 !== r.processData && r.data && "string" != typeof r.data ? reqwest.toQueryString(r.data) : r.data || null,\n          s = !1;\n      return "jsonp" != r.type && "GET" != o || !a || (i = urlappend(i, a), a = null), "jsonp" == r.type ? handleJsonp(r, t, e, i) : ((n = r.xhr && r.xhr(r) || xhr(r)).open(o, i, !1 !== r.async), setHeaders(n, r), setCredentials(n, r), context[xDomainRequest] && n instanceof context[xDomainRequest] ? (n.onload = t, n.onerror = e, n.onprogress = function () {}, s = !0) : n.onreadystatechange = handleReadyState(this, t, e), r.before && r.before(n), s ? setTimeout(function () {\n        n.send(a);\n      }, 200) : n.send(a), n);\n    }\n\n    function Reqwest(t, e) {\n      this.o = t, this.fn = e, init.apply(this, arguments);\n    }\n\n    function setType(t) {\n      if (null !== t) return t.match("json") ? "json" : t.match("javascript") ? "js" : t.match("text") ? "html" : t.match("xml") ? "xml" : void 0;\n    }\n\n    function init(o, fn) {\n      this.url = "string" == typeof o ? o : o.url, this.timeout = null, this._fulfilled = !1, this._successHandler = function () {}, this._fulfillmentHandlers = [], this._errorHandlers = [], this._completeHandlers = [], this._erred = !1, this._responseArgs = {};\n      var self = this;\n\n      function complete(t) {\n        for (o.timeout && clearTimeout(self.timeout), self.timeout = null; self._completeHandlers.length > 0;) {\n          self._completeHandlers.shift()(t);\n        }\n      }\n\n      function success(resp) {\n        var type = o.type || resp && setType(resp.getResponseHeader("Content-Type"));\n        resp = "jsonp" !== type ? self.request : resp;\n        var filteredResponse = globalSetupOptions.dataFilter(resp.responseText, type),\n            r = filteredResponse;\n\n        try {\n          resp.responseText = r;\n        } catch (t) {}\n\n        if (r) switch (type) {\n          case "json":\n            try {\n              resp = context.JSON ? context.JSON.parse(r) : eval("(" + r + ")");\n            } catch (t) {\n              return error(resp, "Could not parse JSON in response", t);\n            }\n\n            break;\n\n          case "js":\n            resp = eval(r);\n            break;\n\n          case "html":\n            resp = r;\n            break;\n\n          case "xml":\n            resp = resp.responseXML && resp.responseXML.parseError && resp.responseXML.parseError.errorCode && resp.responseXML.parseError.reason ? null : resp.responseXML;\n        }\n\n        for (self._responseArgs.resp = resp, self._fulfilled = !0, fn(resp), self._successHandler(resp); self._fulfillmentHandlers.length > 0;) {\n          resp = self._fulfillmentHandlers.shift()(resp);\n        }\n\n        complete(resp);\n      }\n\n      function timedOut() {\n        self._timedOut = !0, self.request.abort();\n      }\n\n      function error(t, e, n) {\n        for (t = self.request, self._responseArgs.resp = t, self._responseArgs.msg = e, self._responseArgs.t = n, self._erred = !0; self._errorHandlers.length > 0;) {\n          self._errorHandlers.shift()(t, e, n);\n        }\n\n        complete(t);\n      }\n\n      fn = fn || function () {}, o.timeout && (this.timeout = setTimeout(function () {\n        timedOut();\n      }, o.timeout)), o.success && (this._successHandler = function () {\n        o.success.apply(o, arguments);\n      }), o.error && this._errorHandlers.push(function () {\n        o.error.apply(o, arguments);\n      }), o.complete && this._completeHandlers.push(function () {\n        o.complete.apply(o, arguments);\n      }), this.request = getRequest.call(this, success, error);\n    }\n\n    function reqwest(t, e) {\n      return new Reqwest(t, e);\n    }\n\n    function normalize(t) {\n      return t ? t.replace(/\\r?\\n/g, "\\r\\n") : "";\n    }\n\n    function serial(t, e) {\n      var n,\n          r,\n          o,\n          i,\n          a = t.name,\n          s = t.tagName.toLowerCase(),\n          u = function u(t) {\n        t && !t.disabled && e(a, normalize(t.attributes.value && t.attributes.value.specified ? t.value : t.text));\n      };\n\n      if (!t.disabled && a) switch (s) {\n        case "input":\n          /reset|button|image|file/i.test(t.type) || (n = /checkbox/i.test(t.type), r = /radio/i.test(t.type), o = t.value, (!n && !r || t.checked) && e(a, normalize(n && "" === o ? "on" : o)));\n          break;\n\n        case "textarea":\n          e(a, normalize(t.value));\n          break;\n\n        case "select":\n          if ("select-one" === t.type.toLowerCase()) u(t.selectedIndex >= 0 ? t.options[t.selectedIndex] : null);else for (i = 0; t.length && i < t.length; i++) {\n            t.options[i].selected && u(t.options[i]);\n          }\n      }\n    }\n\n    function eachFormElement() {\n      var t,\n          e,\n          n = this,\n          r = function r(t, e) {\n        var r, o, i;\n\n        for (r = 0; r < e.length; r++) {\n          for (i = t[byTag](e[r]), o = 0; o < i.length; o++) {\n            serial(i[o], n);\n          }\n        }\n      };\n\n      for (e = 0; e < arguments.length; e++) {\n        t = arguments[e], /input|select|textarea/i.test(t.tagName) && serial(t, n), r(t, ["input", "select", "textarea"]);\n      }\n    }\n\n    function serializeQueryString() {\n      return reqwest.toQueryString(reqwest.serializeArray.apply(null, arguments));\n    }\n\n    function serializeHash() {\n      var t = {};\n      return eachFormElement.apply(function (e, n) {\n        e in t ? (t[e] && !isArray(t[e]) && (t[e] = [t[e]]), t[e].push(n)) : t[e] = n;\n      }, arguments), t;\n    }\n\n    function buildParams(t, e, n, r) {\n      var o,\n          i,\n          a,\n          s = /\\[\\]$/;\n      if (isArray(e)) for (i = 0; e && i < e.length; i++) {\n        a = e[i], n || s.test(t) ? r(t, a) : buildParams(t + "[" + ("object" == _typeof(a) ? i : "") + "]", a, n, r);\n      } else if (e && "[object Object]" === e.toString()) for (o in e) {\n        buildParams(t + "[" + o + "]", e[o], n, r);\n      } else r(t, e);\n    }\n\n    return Reqwest.prototype = {\n      abort: function abort() {\n        this._aborted = !0, this.request.abort();\n      },\n      retry: function retry() {\n        init.call(this, this.o, this.fn);\n      },\n      then: function then(t, e) {\n        return t = t || function () {}, e = e || function () {}, this._fulfilled ? this._responseArgs.resp = t(this._responseArgs.resp) : this._erred ? e(this._responseArgs.resp, this._responseArgs.msg, this._responseArgs.t) : (this._fulfillmentHandlers.push(t), this._errorHandlers.push(e)), this;\n      },\n      always: function always(t) {\n        return this._fulfilled || this._erred ? t(this._responseArgs.resp) : this._completeHandlers.push(t), this;\n      },\n      fail: function fail(t) {\n        return this._erred ? t(this._responseArgs.resp, this._responseArgs.msg, this._responseArgs.t) : this._errorHandlers.push(t), this;\n      },\n      "catch": function _catch(t) {\n        return this.fail(t);\n      }\n    }, reqwest.serializeArray = function () {\n      var t = [];\n      return eachFormElement.apply(function (e, n) {\n        t.push({\n          name: e,\n          value: n\n        });\n      }, arguments), t;\n    }, reqwest.serialize = function () {\n      if (0 === arguments.length) return "";\n      var t,\n          e = Array.prototype.slice.call(arguments, 0);\n      return (t = e.pop()) && t.nodeType && e.push(t) && (t = null), t && (t = t.type), ("map" == t ? serializeHash : "array" == t ? reqwest.serializeArray : serializeQueryString).apply(null, e);\n    }, reqwest.toQueryString = function (t, e) {\n      var n,\n          r,\n          o = e || !1,\n          i = [],\n          a = encodeURIComponent,\n          s = function s(t, e) {\n        e = "function" == typeof e ? e() : null == e ? "" : e, i[i.length] = a(t) + "=" + a(e);\n      };\n\n      if (isArray(t)) for (r = 0; t && r < t.length; r++) {\n        s(t[r].name, t[r].value);\n      } else for (n in t) {\n        t.hasOwnProperty(n) && buildParams(n, t[n], o, s);\n      }\n      return i.join("&").replace(/%20/g, "+");\n    }, reqwest.getcallbackPrefix = function () {\n      return callbackPrefix;\n    }, reqwest.compat = function (t, e) {\n      return t && (t.type && (t.method = t.type) && delete t.type, t.dataType && (t.type = t.dataType), t.jsonpCallback && (t.jsonpCallbackName = t.jsonpCallback) && delete t.jsonpCallback, t.jsonp && (t.jsonpCallback = t.jsonp)), new Reqwest(t, e);\n    }, reqwest.ajaxSetup = function (t) {\n      for (var e in t = t || {}) {\n        globalSetupOptions[e] = t[e];\n      }\n    }, reqwest;\n  }, module.exports ? module.exports = definition() : void 0 === (__WEBPACK_AMD_DEFINE_RESULT__ = "function" == typeof (__WEBPACK_AMD_DEFINE_FACTORY__ = definition) ? __WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module) : __WEBPACK_AMD_DEFINE_FACTORY__) || (module.exports = __WEBPACK_AMD_DEFINE_RESULT__);\n}, function (t, e) {}, function (t, e, n) {\n  "use strict";\n\n  Object.defineProperty(e, "__esModule", {\n    value: !0\n  });\n\n  var r = function r(t, e) {\n    switch (e.type) {\n      case "int":\n      case "integer":\n        return parseInt(t);\n\n      case "float":\n        return parseFloat(t);\n\n      case "string":\n        return "" + t;\n\n      case "bool":\n      case "boolean":\n        return void 0 !== t && (!0 === t || "string" == typeof t && "yes" === t.toLowerCase() || 1 === t || "1" === t);\n    }\n  };\n\n  e.sanitize = function (t) {\n    return function (e, n, o) {\n      var i = e[n];\n\n      o.value = function (n) {\n        var o = n;\n\n        for (var a in o) {\n          void 0 !== t[a] && (o[a] = r(o[a], t[a]));\n        }\n\n        return i.apply(e, [o]);\n      };\n    };\n  };\n}, function (t, e, n) {\n  "use strict";\n\n  Object.defineProperty(e, "__esModule", {\n    value: !0\n  });\n\n  var r = n(30),\n      o = function () {\n    function t() {}\n\n    return t.prototype.onRouteFinished = function () {}, t.prototype.routes = function (t) {\n      return this.routingConfig = new r.RoutingConfig(t), this;\n    }, t.prototype.route = function (t, e) {\n      if (this.routingConfig.isRoute(t) || (t = "/"), this.routingConfig.isRoute(t)) {\n        var n = this.routingConfig.callRoute(t, e);\n        return this.activeRoute = t, this.onRouteFinished(), n;\n      }\n\n      return null;\n    }, t.prototype.handleRequest = function (t, e, n, r) {\n      if (this.routingConfig.isRoute(t) || (t = "default:/"), this.routingConfig.isRoute(t)) {\n        n = this.routingConfig.handleRequest(t, e, n, r);\n        return this.activeRoute = t, this.onRouteFinished(), n;\n      }\n\n      return null;\n    }, t.prototype.doRouting = function (t, e, n) {\n      void 0 === t && (t = null), void 0 === e && (e = null), void 0 === n && (n = null);\n      var r = "";\n\n      for (var o in this.routingConfig.routes) {\n        r = o;\n        var i = t || window.location.hash;\n        i.indexOf("?") >= 0 && (i = i.substring(0, i.indexOf("?")));\n        var a = o.match(/\\{[a-z\\_\\-\\+]+\\}/gi),\n            s = {};\n\n        if (null !== a) {\n          var u = o.split("/"),\n              c = i.split("/");\n          if (0 === u[0].length && (u = u.splice(1, u.length - 1)), 0 === c[0].length && (c = c.splice(1, c.length - 1)), c.length !== u.length) continue;\n          var l = 0,\n              f = !1;\n          if (c.forEach(function (t) {\n            u[l].match(/\\{[a-z\\_\\-\\+]+\\}/gi) || t !== u[l] && (f = !0), l++;\n          }), f) continue;\n          r = "", u.forEach(function (t, e) {\n            e > 0 && (r += "/"), r += c[e], e > 0 && (s[t.replace(/[\\{\\}]/gi, "")] = c[e]);\n          });\n        }\n\n        r = r.replace("+", "\\\\+");\n        var p = new RegExp("^[#/]*" + r + "$", "gi");\n\n        if (null !== i.match(p)) {\n          if (this.activeRoute === o && s === this.routeData) return;\n          return this.routeData = s, this.activeRoute = o, e ? this.handleRequest(o, e, n, s) : this.route(o, s);\n        }\n      }\n\n      return e ? this.handleRequest("default:/", e, n, {}) : this.route("/", {});\n    }, t;\n  }();\n\n  e.RoutingServiceClass = o;\n  var i = new o();\n  e.RoutingService = i;\n}, function (t, e, n) {\n  var r = n(16),\n      o = n(4),\n      i = n(35),\n      a = n(6),\n      s = n(9),\n      u = n(10),\n      c = Object.prototype.hasOwnProperty,\n      l = i(function (t, e) {\n    if (s(e) || a(e)) o(e, u(e), t);else for (var n in e) {\n      c.call(e, n) && r(t, n, e[n]);\n    }\n  });\n  t.exports = l;\n}, function (t, e, n) {\n  var r = n(18),\n      o = n(67),\n      i = n(1),\n      a = n(34),\n      s = /^\\[object .+?Constructor\\]$/,\n      u = Function.prototype,\n      c = Object.prototype,\n      l = u.toString,\n      f = c.hasOwnProperty,\n      p = RegExp("^" + l.call(f).replace(/[\\\\^$.*+?()[\\]{}|]/g, "\\\\$&").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, "$1.*?") + "$");\n\n  t.exports = function (t) {\n    return !(!i(t) || o(t)) && (r(t) ? p : s).test(a(t));\n  };\n}, function (t, e) {\n  var n;\n\n  n = function () {\n    return this;\n  }();\n\n  try {\n    n = n || new Function("return this")();\n  } catch (t) {\n    "object" == (typeof window === "undefined" ? "undefined" : _typeof(window)) && (n = window);\n  }\n\n  t.exports = n;\n}, function (t, e, n) {\n  var r = n(19),\n      o = Object.prototype,\n      i = o.hasOwnProperty,\n      a = o.toString,\n      s = r ? r.toStringTag : void 0;\n\n  t.exports = function (t) {\n    var e = i.call(t, s),\n        n = t[s];\n\n    try {\n      t[s] = void 0;\n      var r = !0;\n    } catch (t) {}\n\n    var o = a.call(t);\n    return r && (e ? t[s] = n : delete t[s]), o;\n  };\n}, function (t, e) {\n  var n = Object.prototype.toString;\n\n  t.exports = function (t) {\n    return n.call(t);\n  };\n}, function (t, e, n) {\n  var r,\n      o = n(68),\n      i = (r = /[^.]+$/.exec(o && o.keys && o.keys.IE_PROTO || "")) ? "Symbol(src)_1." + r : "";\n\n  t.exports = function (t) {\n    return !!i && i in t;\n  };\n}, function (t, e, n) {\n  var r = n(0)["__core-js_shared__"];\n  t.exports = r;\n}, function (t, e) {\n  t.exports = function (t, e) {\n    return null == t ? void 0 : t[e];\n  };\n}, function (t, e, n) {\n  var r = n(36),\n      o = n(71),\n      i = n(73);\n\n  t.exports = function (t, e) {\n    return i(o(t, e, r), t + "");\n  };\n}, function (t, e, n) {\n  var r = n(72),\n      o = Math.max;\n\n  t.exports = function (t, e, n) {\n    return e = o(void 0 === e ? t.length - 1 : e, 0), function () {\n      for (var i = arguments, a = -1, s = o(i.length - e, 0), u = Array(s); ++a < s;) {\n        u[a] = i[e + a];\n      }\n\n      a = -1;\n\n      for (var c = Array(e + 1); ++a < e;) {\n        c[a] = i[a];\n      }\n\n      return c[e] = n(u), r(t, this, c);\n    };\n  };\n}, function (t, e) {\n  t.exports = function (t, e, n) {\n    switch (n.length) {\n      case 0:\n        return t.call(e);\n\n      case 1:\n        return t.call(e, n[0]);\n\n      case 2:\n        return t.call(e, n[0], n[1]);\n\n      case 3:\n        return t.call(e, n[0], n[1], n[2]);\n    }\n\n    return t.apply(e, n);\n  };\n}, function (t, e, n) {\n  var r = n(74),\n      o = n(76)(r);\n  t.exports = o;\n}, function (t, e, n) {\n  var r = n(75),\n      o = n(32),\n      i = n(36),\n      a = o ? function (t, e) {\n    return o(t, "toString", {\n      configurable: !0,\n      enumerable: !1,\n      value: r(e),\n      writable: !0\n    });\n  } : i;\n  t.exports = a;\n}, function (t, e) {\n  t.exports = function (t) {\n    return function () {\n      return t;\n    };\n  };\n}, function (t, e) {\n  var n = 800,\n      r = 16,\n      o = Date.now;\n\n  t.exports = function (t) {\n    var e = 0,\n        i = 0;\n    return function () {\n      var a = o(),\n          s = r - (a - i);\n\n      if (i = a, s > 0) {\n        if (++e >= n) return arguments[0];\n      } else e = 0;\n\n      return t.apply(void 0, arguments);\n    };\n  };\n}, function (t, e, n) {\n  var r = n(8),\n      o = n(6),\n      i = n(38),\n      a = n(1);\n\n  t.exports = function (t, e, n) {\n    if (!a(n)) return !1;\n\n    var s = _typeof(e);\n\n    return !!("number" == s ? o(n) && i(e, n.length) : "string" == s && e in n) && r(n[e], t);\n  };\n}, function (t, e) {\n  t.exports = function (t, e) {\n    for (var n = -1, r = Array(t); ++n < t;) {\n      r[n] = e(n);\n    }\n\n    return r;\n  };\n}, function (t, e, n) {\n  var r = n(5),\n      o = n(3),\n      i = "[object Arguments]";\n\n  t.exports = function (t) {\n    return o(t) && r(t) == i;\n  };\n}, function (t, e) {\n  t.exports = function () {\n    return !1;\n  };\n}, function (t, e, n) {\n  var r = n(5),\n      o = n(37),\n      i = n(3),\n      a = {};\n  a["[object Float32Array]"] = a["[object Float64Array]"] = a["[object Int8Array]"] = a["[object Int16Array]"] = a["[object Int32Array]"] = a["[object Uint8Array]"] = a["[object Uint8ClampedArray]"] = a["[object Uint16Array]"] = a["[object Uint32Array]"] = !0, a["[object Arguments]"] = a["[object Array]"] = a["[object ArrayBuffer]"] = a["[object Boolean]"] = a["[object DataView]"] = a["[object Date]"] = a["[object Error]"] = a["[object Function]"] = a["[object Map]"] = a["[object Number]"] = a["[object Object]"] = a["[object RegExp]"] = a["[object Set]"] = a["[object String]"] = a["[object WeakMap]"] = !1, t.exports = function (t) {\n    return i(t) && o(t.length) && !!a[r(t)];\n  };\n}, function (t, e, n) {\n  var r = n(9),\n      o = n(83),\n      i = Object.prototype.hasOwnProperty;\n\n  t.exports = function (t) {\n    if (!r(t)) return o(t);\n    var e = [];\n\n    for (var n in Object(t)) {\n      i.call(t, n) && "constructor" != n && e.push(n);\n    }\n\n    return e;\n  };\n}, function (t, e, n) {\n  var r = n(42)(Object.keys, Object);\n  t.exports = r;\n}, function (t, e, n) {\n  var r = n(85),\n      o = 1,\n      i = 4;\n\n  t.exports = function (t, e) {\n    return r(t, o | i, e = "function" == typeof e ? e : void 0);\n  };\n}, function (t, e, n) {\n  var r = n(43),\n      o = n(109),\n      i = n(16),\n      a = n(110),\n      s = n(111),\n      u = n(44),\n      c = n(45),\n      l = n(114),\n      f = n(116),\n      p = n(117),\n      d = n(118),\n      h = n(27),\n      v = n(123),\n      y = n(124),\n      b = n(51),\n      g = n(11),\n      x = n(20),\n      m = n(130),\n      _ = n(1),\n      w = n(132),\n      j = n(10),\n      A = n(7),\n      O = 1,\n      S = 2,\n      R = 4,\n      z = "[object Arguments]",\n      C = "[object Function]",\n      E = "[object GeneratorFunction]",\n      P = "[object Object]",\n      I = {};\n\n  I[z] = I["[object Array]"] = I["[object ArrayBuffer]"] = I["[object DataView]"] = I["[object Boolean]"] = I["[object Date]"] = I["[object Float32Array]"] = I["[object Float64Array]"] = I["[object Int8Array]"] = I["[object Int16Array]"] = I["[object Int32Array]"] = I["[object Map]"] = I["[object Number]"] = I[P] = I["[object RegExp]"] = I["[object Set]"] = I["[object String]"] = I["[object Symbol]"] = I["[object Uint8Array]"] = I["[object Uint8ClampedArray]"] = I["[object Uint16Array]"] = I["[object Uint32Array]"] = !0, I["[object Error]"] = I[C] = I["[object WeakMap]"] = !1, t.exports = function t(e, n, D, k, q, T) {\n    var F,\n        M = n & O,\n        H = n & S,\n        L = n & R;\n    if (D && (F = q ? D(e, k, q, T) : D(e)), void 0 !== F) return F;\n    if (!_(e)) return e;\n    var U = g(e);\n\n    if (U) {\n      if (F = v(e), !M) return c(e, F);\n    } else {\n      var N = h(e),\n          V = N == C || N == E;\n      if (x(e)) return u(e, M);\n\n      if (N == P || N == z || V && !q) {\n        if (F = H || V ? {} : b(e), !M) return H ? f(e, s(F, e)) : l(e, a(F, e));\n      } else {\n        if (!I[N]) return q ? e : {};\n        F = y(e, N, M);\n      }\n    }\n\n    T || (T = new r());\n    var B = T.get(e);\n    if (B) return B;\n    T.set(e, F), w(e) ? e.forEach(function (r) {\n      F.add(t(r, n, D, r, e, T));\n    }) : m(e) && e.forEach(function (r, o) {\n      F.set(o, t(r, n, D, o, e, T));\n    });\n    var Q = U ? void 0 : (L ? H ? d : p : H ? A : j)(e);\n    return o(Q || e, function (r, o) {\n      Q && (r = e[o = r]), i(F, o, t(r, n, D, o, e, T));\n    }), F;\n  };\n}, function (t, e) {\n  t.exports = function () {\n    this.__data__ = [], this.size = 0;\n  };\n}, function (t, e, n) {\n  var r = n(13),\n      o = Array.prototype.splice;\n\n  t.exports = function (t) {\n    var e = this.__data__,\n        n = r(e, t);\n    return !(n < 0) && (n == e.length - 1 ? e.pop() : o.call(e, n, 1), --this.size, !0);\n  };\n}, function (t, e, n) {\n  var r = n(13);\n\n  t.exports = function (t) {\n    var e = this.__data__,\n        n = r(e, t);\n    return n < 0 ? void 0 : e[n][1];\n  };\n}, function (t, e, n) {\n  var r = n(13);\n\n  t.exports = function (t) {\n    return r(this.__data__, t) > -1;\n  };\n}, function (t, e, n) {\n  var r = n(13);\n\n  t.exports = function (t, e) {\n    var n = this.__data__,\n        o = r(n, t);\n    return o < 0 ? (++this.size, n.push([t, e])) : n[o][1] = e, this;\n  };\n}, function (t, e, n) {\n  var r = n(12);\n\n  t.exports = function () {\n    this.__data__ = new r(), this.size = 0;\n  };\n}, function (t, e) {\n  t.exports = function (t) {\n    var e = this.__data__,\n        n = e["delete"](t);\n    return this.size = e.size, n;\n  };\n}, function (t, e) {\n  t.exports = function (t) {\n    return this.__data__.get(t);\n  };\n}, function (t, e) {\n  t.exports = function (t) {\n    return this.__data__.has(t);\n  };\n}, function (t, e, n) {\n  var r = n(12),\n      o = n(24),\n      i = n(96),\n      a = 200;\n\n  t.exports = function (t, e) {\n    var n = this.__data__;\n\n    if (n instanceof r) {\n      var s = n.__data__;\n      if (!o || s.length < a - 1) return s.push([t, e]), this.size = ++n.size, this;\n      n = this.__data__ = new i(s);\n    }\n\n    return n.set(t, e), this.size = n.size, this;\n  };\n}, function (t, e, n) {\n  var r = n(97),\n      o = n(104),\n      i = n(106),\n      a = n(107),\n      s = n(108);\n\n  function u(t) {\n    var e = -1,\n        n = null == t ? 0 : t.length;\n\n    for (this.clear(); ++e < n;) {\n      var r = t[e];\n      this.set(r[0], r[1]);\n    }\n  }\n\n  u.prototype.clear = r, u.prototype["delete"] = o, u.prototype.get = i, u.prototype.has = a, u.prototype.set = s, t.exports = u;\n}, function (t, e, n) {\n  var r = n(98),\n      o = n(12),\n      i = n(24);\n\n  t.exports = function () {\n    this.size = 0, this.__data__ = {\n      hash: new r(),\n      map: new (i || o)(),\n      string: new r()\n    };\n  };\n}, function (t, e, n) {\n  var r = n(99),\n      o = n(100),\n      i = n(101),\n      a = n(102),\n      s = n(103);\n\n  function u(t) {\n    var e = -1,\n        n = null == t ? 0 : t.length;\n\n    for (this.clear(); ++e < n;) {\n      var r = t[e];\n      this.set(r[0], r[1]);\n    }\n  }\n\n  u.prototype.clear = r, u.prototype["delete"] = o, u.prototype.get = i, u.prototype.has = a, u.prototype.set = s, t.exports = u;\n}, function (t, e, n) {\n  var r = n(14);\n\n  t.exports = function () {\n    this.__data__ = r ? r(null) : {}, this.size = 0;\n  };\n}, function (t, e) {\n  t.exports = function (t) {\n    var e = this.has(t) && delete this.__data__[t];\n    return this.size -= e ? 1 : 0, e;\n  };\n}, function (t, e, n) {\n  var r = n(14),\n      o = "__lodash_hash_undefined__",\n      i = Object.prototype.hasOwnProperty;\n\n  t.exports = function (t) {\n    var e = this.__data__;\n\n    if (r) {\n      var n = e[t];\n      return n === o ? void 0 : n;\n    }\n\n    return i.call(e, t) ? e[t] : void 0;\n  };\n}, function (t, e, n) {\n  var r = n(14),\n      o = Object.prototype.hasOwnProperty;\n\n  t.exports = function (t) {\n    var e = this.__data__;\n    return r ? void 0 !== e[t] : o.call(e, t);\n  };\n}, function (t, e, n) {\n  var r = n(14),\n      o = "__lodash_hash_undefined__";\n\n  t.exports = function (t, e) {\n    var n = this.__data__;\n    return this.size += this.has(t) ? 0 : 1, n[t] = r && void 0 === e ? o : e, this;\n  };\n}, function (t, e, n) {\n  var r = n(15);\n\n  t.exports = function (t) {\n    var e = r(this, t)["delete"](t);\n    return this.size -= e ? 1 : 0, e;\n  };\n}, function (t, e) {\n  t.exports = function (t) {\n    var e = _typeof(t);\n\n    return "string" == e || "number" == e || "symbol" == e || "boolean" == e ? "__proto__" !== t : null === t;\n  };\n}, function (t, e, n) {\n  var r = n(15);\n\n  t.exports = function (t) {\n    return r(this, t).get(t);\n  };\n}, function (t, e, n) {\n  var r = n(15);\n\n  t.exports = function (t) {\n    return r(this, t).has(t);\n  };\n}, function (t, e, n) {\n  var r = n(15);\n\n  t.exports = function (t, e) {\n    var n = r(this, t),\n        o = n.size;\n    return n.set(t, e), this.size += n.size == o ? 0 : 1, this;\n  };\n}, function (t, e) {\n  t.exports = function (t, e) {\n    for (var n = -1, r = null == t ? 0 : t.length; ++n < r && !1 !== e(t[n], n, t);) {\n      ;\n    }\n\n    return t;\n  };\n}, function (t, e, n) {\n  var r = n(4),\n      o = n(10);\n\n  t.exports = function (t, e) {\n    return t && r(e, o(e), t);\n  };\n}, function (t, e, n) {\n  var r = n(4),\n      o = n(7);\n\n  t.exports = function (t, e) {\n    return t && r(e, o(e), t);\n  };\n}, function (t, e, n) {\n  var r = n(1),\n      o = n(9),\n      i = n(113),\n      a = Object.prototype.hasOwnProperty;\n\n  t.exports = function (t) {\n    if (!r(t)) return i(t);\n    var e = o(t),\n        n = [];\n\n    for (var s in t) {\n      ("constructor" != s || !e && a.call(t, s)) && n.push(s);\n    }\n\n    return n;\n  };\n}, function (t, e) {\n  t.exports = function (t) {\n    var e = [];\n    if (null != t) for (var n in Object(t)) {\n      e.push(n);\n    }\n    return e;\n  };\n}, function (t, e, n) {\n  var r = n(4),\n      o = n(25);\n\n  t.exports = function (t, e) {\n    return r(t, o(t), e);\n  };\n}, function (t, e) {\n  t.exports = function (t, e) {\n    for (var n = -1, r = null == t ? 0 : t.length, o = 0, i = []; ++n < r;) {\n      var a = t[n];\n      e(a, n, t) && (i[o++] = a);\n    }\n\n    return i;\n  };\n}, function (t, e, n) {\n  var r = n(4),\n      o = n(47);\n\n  t.exports = function (t, e) {\n    return r(t, o(t), e);\n  };\n}, function (t, e, n) {\n  var r = n(49),\n      o = n(25),\n      i = n(10);\n\n  t.exports = function (t) {\n    return r(t, i, o);\n  };\n}, function (t, e, n) {\n  var r = n(49),\n      o = n(47),\n      i = n(7);\n\n  t.exports = function (t) {\n    return r(t, i, o);\n  };\n}, function (t, e, n) {\n  var r = n(2)(n(0), "DataView");\n  t.exports = r;\n}, function (t, e, n) {\n  var r = n(2)(n(0), "Promise");\n  t.exports = r;\n}, function (t, e, n) {\n  var r = n(2)(n(0), "Set");\n  t.exports = r;\n}, function (t, e, n) {\n  var r = n(2)(n(0), "WeakMap");\n  t.exports = r;\n}, function (t, e) {\n  var n = Object.prototype.hasOwnProperty;\n\n  t.exports = function (t) {\n    var e = t.length,\n        r = new t.constructor(e);\n    return e && "string" == typeof t[0] && n.call(t, "index") && (r.index = t.index, r.input = t.input), r;\n  };\n}, function (t, e, n) {\n  var r = n(28),\n      o = n(126),\n      i = n(127),\n      a = n(128),\n      s = n(50),\n      u = "[object Boolean]",\n      c = "[object Date]",\n      l = "[object Map]",\n      f = "[object Number]",\n      p = "[object RegExp]",\n      d = "[object Set]",\n      h = "[object String]",\n      v = "[object Symbol]",\n      y = "[object ArrayBuffer]",\n      b = "[object DataView]",\n      g = "[object Float32Array]",\n      x = "[object Float64Array]",\n      m = "[object Int8Array]",\n      _ = "[object Int16Array]",\n      w = "[object Int32Array]",\n      j = "[object Uint8Array]",\n      A = "[object Uint8ClampedArray]",\n      O = "[object Uint16Array]",\n      S = "[object Uint32Array]";\n\n  t.exports = function (t, e, n) {\n    var R = t.constructor;\n\n    switch (e) {\n      case y:\n        return r(t);\n\n      case u:\n      case c:\n        return new R(+t);\n\n      case b:\n        return o(t, n);\n\n      case g:\n      case x:\n      case m:\n      case _:\n      case w:\n      case j:\n      case A:\n      case O:\n      case S:\n        return s(t, n);\n\n      case l:\n        return new R();\n\n      case f:\n      case h:\n        return new R(t);\n\n      case p:\n        return i(t);\n\n      case d:\n        return new R();\n\n      case v:\n        return a(t);\n    }\n  };\n}, function (t, e, n) {\n  var r = n(0).Uint8Array;\n  t.exports = r;\n}, function (t, e, n) {\n  var r = n(28);\n\n  t.exports = function (t, e) {\n    var n = e ? r(t.buffer) : t.buffer;\n    return new t.constructor(n, t.byteOffset, t.byteLength);\n  };\n}, function (t, e) {\n  var n = /\\w*$/;\n\n  t.exports = function (t) {\n    var e = new t.constructor(t.source, n.exec(t));\n    return e.lastIndex = t.lastIndex, e;\n  };\n}, function (t, e, n) {\n  var r = n(19),\n      o = r ? r.prototype : void 0,\n      i = o ? o.valueOf : void 0;\n\n  t.exports = function (t) {\n    return i ? Object(i.call(t)) : {};\n  };\n}, function (t, e, n) {\n  var r = n(1),\n      o = Object.create,\n      i = function () {\n    function t() {}\n\n    return function (e) {\n      if (!r(e)) return {};\n      if (o) return o(e);\n      t.prototype = e;\n      var n = new t();\n      return t.prototype = void 0, n;\n    };\n  }();\n\n  t.exports = i;\n}, function (t, e, n) {\n  var r = n(131),\n      o = n(22),\n      i = n(23),\n      a = i && i.isMap,\n      s = a ? o(a) : r;\n  t.exports = s;\n}, function (t, e, n) {\n  var r = n(27),\n      o = n(3),\n      i = "[object Map]";\n\n  t.exports = function (t) {\n    return o(t) && r(t) == i;\n  };\n}, function (t, e, n) {\n  var r = n(133),\n      o = n(22),\n      i = n(23),\n      a = i && i.isSet,\n      s = a ? o(a) : r;\n  t.exports = s;\n}, function (t, e, n) {\n  var r = n(27),\n      o = n(3),\n      i = "[object Set]";\n\n  t.exports = function (t) {\n    return o(t) && r(t) == i;\n  };\n}, function (t, e, n) {\n  var r = n(135),\n      o = n(35)(function (t, e, n) {\n    r(t, e, n);\n  });\n  t.exports = o;\n}, function (t, e, n) {\n  var r = n(43),\n      o = n(52),\n      i = n(136),\n      a = n(138),\n      s = n(1),\n      u = n(7),\n      c = n(53);\n\n  t.exports = function t(e, n, l, f, p) {\n    e !== n && i(n, function (i, u) {\n      if (p || (p = new r()), s(i)) a(e, n, u, l, t, f, p);else {\n        var d = f ? f(c(e, u), i, u + "", e, n, p) : void 0;\n        void 0 === d && (d = i), o(e, u, d);\n      }\n    }, u);\n  };\n}, function (t, e, n) {\n  var r = n(137)();\n  t.exports = r;\n}, function (t, e) {\n  t.exports = function (t) {\n    return function (e, n, r) {\n      for (var o = -1, i = Object(e), a = r(e), s = a.length; s--;) {\n        var u = a[t ? s : ++o];\n        if (!1 === n(i[u], u, i)) break;\n      }\n\n      return e;\n    };\n  };\n}, function (t, e, n) {\n  var r = n(52),\n      o = n(44),\n      i = n(50),\n      a = n(45),\n      s = n(51),\n      u = n(40),\n      c = n(11),\n      l = n(139),\n      f = n(20),\n      p = n(18),\n      d = n(1),\n      h = n(140),\n      v = n(41),\n      y = n(53),\n      b = n(141);\n\n  t.exports = function (t, e, n, g, x, m, _) {\n    var w = y(t, n),\n        j = y(e, n),\n        A = _.get(j);\n\n    if (A) r(t, n, A);else {\n      var O = m ? m(w, j, n + "", t, e, _) : void 0,\n          S = void 0 === O;\n\n      if (S) {\n        var R = c(j),\n            z = !R && f(j),\n            C = !R && !z && v(j);\n        O = j, R || z || C ? c(w) ? O = w : l(w) ? O = a(w) : z ? (S = !1, O = o(j, !0)) : C ? (S = !1, O = i(j, !0)) : O = [] : h(j) || u(j) ? (O = w, u(w) ? O = b(w) : d(w) && !p(w) || (O = s(j))) : S = !1;\n      }\n\n      S && (_.set(j, O), x(O, j, g, m, _), _["delete"](j)), r(t, n, O);\n    }\n  };\n}, function (t, e, n) {\n  var r = n(6),\n      o = n(3);\n\n  t.exports = function (t) {\n    return o(t) && r(t);\n  };\n}, function (t, e, n) {\n  var r = n(5),\n      o = n(26),\n      i = n(3),\n      a = "[object Object]",\n      s = Function.prototype,\n      u = Object.prototype,\n      c = s.toString,\n      l = u.hasOwnProperty,\n      f = c.call(Object);\n\n  t.exports = function (t) {\n    if (!i(t) || r(t) != a) return !1;\n    var e = o(t);\n    if (null === e) return !0;\n    var n = l.call(e, "constructor") && e.constructor;\n    return "function" == typeof n && n instanceof n && c.call(n) == f;\n  };\n}, function (t, e, n) {\n  var r = n(4),\n      o = n(7);\n\n  t.exports = function (t) {\n    return r(t, o(t));\n  };\n}, function (t, e, n) {\n  "use strict";\n\n  Object.defineProperty(e, "__esModule", {\n    value: !0\n  });\n  var r = n(31);\n  e.Schema = {\n    "int": function int(t) {\n      return void 0 === t && (t = null), o.bind(null, r["default"]["int"].bind(null, t));\n    },\n    string: function string(t) {\n      return void 0 === t && (t = null), o.bind(null, r["default"].string.bind(null, t));\n    },\n    "double": function double(t) {\n      return void 0 === t && (t = null), o.bind(null, r["default"]["double"].bind(null, t));\n    },\n    bool: function bool(t) {\n      return void 0 === t && (t = null), o.bind(null, r["default"].bool.bind(null, t));\n    },\n    "float": function float(t) {\n      return void 0 === t && (t = null), o.bind(null, r["default"]["float"].bind(null, t));\n    },\n    array: function array(t) {\n      return void 0 === t && (t = null), o.bind(null, r["default"].array.bind(null, t));\n    },\n    object: function object(t) {\n      return void 0 === t && (t = null), o.bind(null, r["default"].object.bind(null, t));\n    },\n    datetime: function datetime(t) {\n      return void 0 === t && (t = null), o.bind(null, r["default"].datetime.bind(null, t));\n    },\n    callback: function callback(t) {\n      return void 0 === t && (t = null), o.bind(null, r["default"].callback.bind(null, t));\n    },\n    custom: function custom(t, e) {\n      return void 0 === e && (e = null), o.bind(null, r["default"].customType.bind(null, t, e));\n    },\n    uuid: function uuid(t) {\n      return void 0 === t && (t = {}), t.initial = function () {\n        return i();\n      }, o.bind(null, r["default"].string.bind(null, t));\n    }\n  };\n\n  var o = function o(t, e, n, r) {\n    e.constructor.schema[n] = t();\n  },\n      i = function i() {\n    return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function (t) {\n      var e = 16 * Math.random() | 0;\n      return ("x" == t ? e : 3 & e | 8).toString(16);\n    });\n  };\n}, function (t, e, n) {\n  "use strict";\n\n  Object.defineProperty(e, "__esModule", {\n    value: !0\n  });\n\n  var r = function () {\n    function t() {\n      this.actions = {}, this.define = this.define.bind(this), this.dispatch = this.dispatch.bind(this), this.register = this.register.bind(this), this.debug = !1;\n    }\n\n    return t.prototype.setDebug = function (t) {\n      return this.debug = t, this;\n    }, t.prototype.define = function (t, e) {\n      "string" != typeof t && console.error("actionName is not a valid string", t), "function" != typeof e && console.error("Must pass valid callback for action: ", e), void 0 !== this.actions[t] && console.warn("Action with name " + t + " was already defined, and is now being overwritten"), this.actions[t] = {\n        cb: e,\n        stores: []\n      };\n\n      var n = function n() {\n        this.dispatch(t, arguments);\n      };\n\n      return (n = n.bind(this)).toString = function () {\n        return t;\n      }, n.original_argument_length = e.length, n;\n    }, t.prototype.dispatch = function (t, e, n) {\n      void 0 === this.actions[t] && console.warn("Attempting to call non registered action: " + t), this._debug("ACTION.DISPATCH: " + t, e);\n      var r = this.actions[t].cb.apply(null, e);\n      this.actions[t].stores.forEach(function (e) {\n        var o = e.store,\n            i = e.cb;\n        o.stateChange(t, i(r, n));\n      });\n    }, t.prototype.register = function (t, e) {\n      for (var n in t) {\n        void 0 !== this.actions[n] ? (this._debug(n + " registered for ", e), this.actions[n].stores.push({\n          store: e,\n          cb: t[n]\n        })) : console.warn("Store attempting to register missing action: " + n);\n      }\n    }, t.prototype._debug = function () {\n      for (var t = [], e = 0; e < arguments.length; e++) {\n        t[e] = arguments[e];\n      }\n\n      this.debug && console.debug.apply(null, arguments);\n    }, t;\n  }();\n\n  e.ActionsClass = r;\n  var o = new r();\n  e["default"] = o;\n}, function (t, e, n) {\n  "use strict";\n\n  Object.defineProperty(e, "__esModule", {\n    value: !0\n  });\n\n  var r = function r(t) {\n    if (void 0 === t && (t = null), t && "object" == _typeof(t)) for (var e in t) {\n      this[e] = t[e];\n    }\n  };\n\n  e["default"] = r;\n}]);'},9345:n=>{n.exports='"format global";\n"deps angular";\n"deps moment";\n\n!function () {\n  "use strict";\n\n  function a(a, b) {\n    return a.module("angularMoment", []).constant("angularMomentConfig", {\n      preprocess: null,\n      timezone: "",\n      format: null,\n      statefulFilters: !0\n    }).constant("moment", b).constant("amTimeAgoConfig", {\n      withoutSuffix: !1,\n      serverTime: null,\n      titleFormat: null\n    }).directive("amTimeAgo", ["$window", "moment", "amMoment", "amTimeAgoConfig", "angularMomentConfig", function (b, c, d, e, f) {\n      return function (g, h, i) {\n        function j() {\n          var a;\n\n          if (e.serverTime) {\n            var b = new Date().getTime(),\n                d = b - t + e.serverTime;\n            a = c(d);\n          } else a = c();\n\n          return a;\n        }\n\n        function k() {\n          p && (b.clearTimeout(p), p = null);\n        }\n\n        function l(a) {\n          h.text(a.from(j(), r)), s && !h.attr("title") && h.attr("title", a.local().format(s));\n          var c = Math.abs(j().diff(a, "minute")),\n              d = 3600;\n          1 > c ? d = 1 : 60 > c ? d = 30 : 180 > c && (d = 300), p = b.setTimeout(function () {\n            l(a);\n          }, 1e3 * d);\n        }\n\n        function m(a) {\n          w && h.attr("datetime", a);\n        }\n\n        function n() {\n          if (k(), o) {\n            var a = d.preprocessDate(o, u, q);\n            l(a), m(a.toISOString());\n          }\n        }\n\n        var o,\n            p = null,\n            q = f.format,\n            r = e.withoutSuffix,\n            s = e.titleFormat,\n            t = new Date().getTime(),\n            u = f.preprocess,\n            v = i.amTimeAgo,\n            w = "TIME" === h[0].nodeName.toUpperCase();\n        g.$watch(v, function (a) {\n          return "undefined" == typeof a || null === a || "" === a ? (k(), void (o && (h.text(""), m(""), o = null))) : (o = a, void n());\n        }), a.isDefined(i.amWithoutSuffix) && g.$watch(i.amWithoutSuffix, function (a) {\n          "boolean" == typeof a ? (r = a, n()) : r = e.withoutSuffix;\n        }), i.$observe("amFormat", function (a) {\n          "undefined" != typeof a && (q = a, n());\n        }), i.$observe("amPreprocess", function (a) {\n          u = a, n();\n        }), g.$on("$destroy", function () {\n          k();\n        }), g.$on("amMoment:localeChanged", function () {\n          n();\n        });\n      };\n    }]).service("amMoment", ["moment", "$rootScope", "$log", "angularMomentConfig", function (b, c, d, e) {\n      this.preprocessors = {\n        utc: b.utc,\n        unix: b.unix\n      }, this.changeLocale = function (d, e) {\n        var f = b.locale(d, e);\n        return a.isDefined(d) && c.$broadcast("amMoment:localeChanged"), f;\n      }, this.changeTimezone = function (a) {\n        e.timezone = a, c.$broadcast("amMoment:timezoneChanged");\n      }, this.preprocessDate = function (c, f, g) {\n        return a.isUndefined(f) && (f = e.preprocess), this.preprocessors[f] ? this.preprocessors[f](c, g) : (f && d.warn("angular-moment: Ignoring unsupported value for preprocess: " + f), !isNaN(parseFloat(c)) && isFinite(c) ? b(parseInt(c, 10)) : b(c, g));\n      }, this.applyTimezone = function (a) {\n        var b = e.timezone;\n        return a && b && (a.tz ? a = a.tz(b) : d.warn("angular-moment: timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js?")), a;\n      };\n    }]).filter("amCalendar", ["moment", "amMoment", "angularMomentConfig", function (a, b, c) {\n      function d(c, d) {\n        if ("undefined" == typeof c || null === c) return "";\n        c = b.preprocessDate(c, d);\n        var e = a(c);\n        return e.isValid() ? b.applyTimezone(e).calendar() : "";\n      }\n\n      return d.$stateful = c.statefulFilters, d;\n    }]).filter("amDifference", ["moment", "amMoment", "angularMomentConfig", function (a, b, c) {\n      function d(c, d, e, f, g, h) {\n        if ("undefined" == typeof c || null === c) return "";\n        c = b.preprocessDate(c, g);\n        var i = a(c);\n        if (!i.isValid()) return "";\n        var j;\n        if ("undefined" == typeof d || null === d) j = a();else if (d = b.preprocessDate(d, h), j = a(d), !j.isValid()) return "";\n        return b.applyTimezone(i).diff(b.applyTimezone(j), e, f);\n      }\n\n      return d.$stateful = c.statefulFilters, d;\n    }]).filter("amDateFormat", ["moment", "amMoment", "angularMomentConfig", function (a, b, c) {\n      function d(c, d, e) {\n        if ("undefined" == typeof c || null === c) return "";\n        c = b.preprocessDate(c, e);\n        var f = a(c);\n        return f.isValid() ? b.applyTimezone(f).format(d) : "";\n      }\n\n      return d.$stateful = c.statefulFilters, d;\n    }]).filter("amDurationFormat", ["moment", "angularMomentConfig", function (a, b) {\n      function c(b, c, d) {\n        return "undefined" == typeof b || null === b ? "" : a.duration(b, c).humanize(d);\n      }\n\n      return c.$stateful = b.statefulFilters, c;\n    }]).filter("amTimeAgo", ["moment", "amMoment", "angularMomentConfig", function (a, b, c) {\n      function d(c, d, e) {\n        if ("undefined" == typeof c || null === c) return "";\n        c = b.preprocessDate(c, d);\n        var f = a(c);\n        return f.isValid() ? b.applyTimezone(f).fromNow(e) : "";\n      }\n\n      return d.$stateful = c.statefulFilters, d;\n    }]);\n  }\n\n  "function" == typeof define && define.amd ? define(["angular", "moment"], a) : "undefined" != typeof module && module && module.exports ? (a(angular, require("moment")), module.exports = "angularMoment") : a(angular, window.moment);\n}();'},45162:n=>{n.exports="// By Luis Perez\n// From blog post: http://www.simplygoodcode.com/2014/04/angularjs-getting-around-ngapp-limitations-with-ngmodule/\n(function () {\n  function initNgModules(element) {\n    var elements = [element],\n        moduleElements = [],\n        modules = [],\n        names = ['ng:module', 'ng-module', 'x-ng-module', 'data-ng-module', 'ng:modules', 'ng-modules', 'x-ng-modules', 'data-ng-modules'],\n        NG_MODULE_CLASS_REGEXP = /\\sng[:\\-]module[s](:\\s*([\\w\\d_]+);?)?\\s/;\n\n    function append(element) {\n      element && elements.push(element);\n    }\n\n    for (var i = 0; i < names.length; i++) {\n      var name = names[i];\n      append(document.getElementById(name));\n      name = name.replace(':', '\\\\:');\n\n      if (element.querySelectorAll) {\n        var elements2;\n        elements2 = element.querySelectorAll('.' + name);\n\n        for (var j = 0; j < elements2.length; j++) {\n          append(elements2[j]);\n        }\n\n        elements2 = element.querySelectorAll('.' + name + '\\\\:');\n\n        for (var j = 0; j < elements2.length; j++) {\n          append(elements2[j]);\n        }\n\n        elements2 = element.querySelectorAll('[' + name + ']');\n\n        for (var j = 0; j < elements2.length; j++) {\n          append(elements2[j]);\n        }\n      }\n    }\n\n    for (var i = 0; i < elements.length; i++) {\n      var element = elements[i];\n      var className = ' ' + element.className + ' ';\n      var match = NG_MODULE_CLASS_REGEXP.exec(className);\n\n      if (match) {\n        moduleElements.push(element);\n        modules.push((match[2] || '').replace(/\\s+/g, ','));\n      } else {\n        if (element.attributes) {\n          for (var j = 0; j < element.attributes.length; j++) {\n            var attr = element.attributes[j];\n\n            if (names.indexOf(attr.name) != -1) {\n              moduleElements.push(element);\n              modules.push(attr.value);\n            }\n          }\n        }\n      }\n    }\n\n    for (var i = 0; i < moduleElements.length; i++) {\n      var moduleElement = moduleElements[i];\n      var module = modules[i].replace(/ /g, '').split(\",\");\n      angular.bootstrap(moduleElement, module);\n    }\n  }\n\n  angular.element(document).ready(function () {\n    initNgModules(document);\n  });\n})();"},58753:n=>{n.exports='/*!\n * enquire.js v2.1.0 - Awesome Media Queries in JavaScript\n * Copyright (c) 2014 Nick Williams - http://wicky.nillia.ms/enquire.js\n * License: MIT (http://www.opensource.org/licenses/mit-license.php)\n */\n!function (a, b, c) {\n  var d = window.matchMedia;\n  "undefined" != typeof module && module.exports ? module.exports = c(d) : "function" == typeof define && define.amd ? define(function () {\n    return b[a] = c(d);\n  }) : b[a] = c(d);\n}("enquire", this, function (a) {\n  "use strict";\n\n  function b(a, b) {\n    var c,\n        d = 0,\n        e = a.length;\n\n    for (d; e > d && (c = b(a[d], d), c !== !1); d++) {\n      ;\n    }\n  }\n\n  function c(a) {\n    return "[object Array]" === Object.prototype.toString.apply(a);\n  }\n\n  function d(a) {\n    return "function" == typeof a;\n  }\n\n  function e(a) {\n    this.options = a, !a.deferSetup && this.setup();\n  }\n\n  function f(b, c) {\n    this.query = b, this.isUnconditional = c, this.handlers = [], this.mql = a(b);\n    var d = this;\n    this.listener = function (a) {\n      d.mql = a, d.assess();\n    }, this.mql.addListener(this.listener);\n  }\n\n  function g() {\n    if (!a) throw new Error("matchMedia not present, legacy browsers require a polyfill");\n    this.queries = {}, this.browserIsIncapable = !a("only all").matches;\n  }\n\n  return e.prototype = {\n    setup: function setup() {\n      this.options.setup && this.options.setup(), this.initialised = !0;\n    },\n    on: function on() {\n      !this.initialised && this.setup(), this.options.match && this.options.match();\n    },\n    off: function off() {\n      this.options.unmatch && this.options.unmatch();\n    },\n    destroy: function destroy() {\n      this.options.destroy ? this.options.destroy() : this.off();\n    },\n    equals: function equals(a) {\n      return this.options === a || this.options.match === a;\n    }\n  }, f.prototype = {\n    addHandler: function addHandler(a) {\n      var b = new e(a);\n      this.handlers.push(b), this.matches() && b.on();\n    },\n    removeHandler: function removeHandler(a) {\n      var c = this.handlers;\n      b(c, function (b, d) {\n        return b.equals(a) ? (b.destroy(), !c.splice(d, 1)) : void 0;\n      });\n    },\n    matches: function matches() {\n      return this.mql.matches || this.isUnconditional;\n    },\n    clear: function clear() {\n      b(this.handlers, function (a) {\n        a.destroy();\n      }), this.mql.removeListener(this.listener), this.handlers.length = 0;\n    },\n    assess: function assess() {\n      var a = this.matches() ? "on" : "off";\n      b(this.handlers, function (b) {\n        b[a]();\n      });\n    }\n  }, g.prototype = {\n    register: function register(a, e, g) {\n      var h = this.queries,\n          i = g && this.browserIsIncapable;\n      return h[a] || (h[a] = new f(a, i)), d(e) && (e = {\n        match: e\n      }), c(e) || (e = [e]), b(e, function (b) {\n        h[a].addHandler(b);\n      }), this;\n    },\n    unregister: function unregister(a, b) {\n      var c = this.queries[a];\n      return c && (b ? c.removeHandler(b) : (c.clear(), delete this.queries[a])), this;\n    }\n  }, new g();\n});'},50036:n=>{n.exports='/*!\n * typeahead.js 0.10.2\n * https://github.com/twitter/typeahead.js\n * Copyright 2013-2014 Twitter, Inc. and other contributors; Licensed MIT\n */\n(function ($) {\n  var _ = {\n    isMsie: function isMsie() {\n      return /(msie|trident)/i.test(navigator.userAgent) ? navigator.userAgent.match(/(msie |rv:)(\\d+(.\\d+)?)/i)[2] : false;\n    },\n    isBlankString: function isBlankString(str) {\n      return !str || /^\\s*$/.test(str);\n    },\n    escapeRegExChars: function escapeRegExChars(str) {\n      return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, "\\\\$&");\n    },\n    isString: function isString(obj) {\n      return typeof obj === "string";\n    },\n    isNumber: function isNumber(obj) {\n      return typeof obj === "number";\n    },\n    isArray: $.isArray,\n    isFunction: $.isFunction,\n    isObject: $.isPlainObject,\n    isUndefined: function isUndefined(obj) {\n      return typeof obj === "undefined";\n    },\n    bind: $.proxy,\n    each: function each(collection, cb) {\n      $.each(collection, reverseArgs);\n\n      function reverseArgs(index, value) {\n        return cb(value, index);\n      }\n    },\n    map: $.map,\n    filter: $.grep,\n    every: function every(obj, test) {\n      var result = true;\n\n      if (!obj) {\n        return result;\n      }\n\n      $.each(obj, function (key, val) {\n        if (!(result = test.call(null, val, key, obj))) {\n          return false;\n        }\n      });\n      return !!result;\n    },\n    some: function some(obj, test) {\n      var result = false;\n\n      if (!obj) {\n        return result;\n      }\n\n      $.each(obj, function (key, val) {\n        if (result = test.call(null, val, key, obj)) {\n          return false;\n        }\n      });\n      return !!result;\n    },\n    mixin: $.extend,\n    getUniqueId: function () {\n      var counter = 0;\n      return function () {\n        return counter++;\n      };\n    }(),\n    templatify: function templatify(obj) {\n      return $.isFunction(obj) ? obj : template;\n\n      function template() {\n        return String(obj);\n      }\n    },\n    defer: function defer(fn) {\n      setTimeout(fn, 0);\n    },\n    debounce: function debounce(func, wait, immediate) {\n      var timeout, result;\n      return function () {\n        var context = this,\n            args = arguments,\n            later,\n            callNow;\n\n        later = function later() {\n          timeout = null;\n\n          if (!immediate) {\n            result = func.apply(context, args);\n          }\n        };\n\n        callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n\n        if (callNow) {\n          result = func.apply(context, args);\n        }\n\n        return result;\n      };\n    },\n    throttle: function throttle(func, wait) {\n      var context, args, timeout, result, previous, later;\n      previous = 0;\n\n      later = function later() {\n        previous = new Date();\n        timeout = null;\n        result = func.apply(context, args);\n      };\n\n      return function () {\n        var now = new Date(),\n            remaining = wait - (now - previous);\n        context = this;\n        args = arguments;\n\n        if (remaining <= 0) {\n          clearTimeout(timeout);\n          timeout = null;\n          previous = now;\n          result = func.apply(context, args);\n        } else if (!timeout) {\n          timeout = setTimeout(later, remaining);\n        }\n\n        return result;\n      };\n    },\n    noop: function noop() {}\n  };\n  var VERSION = "0.10.2";\n\n  var tokenizers = function (root) {\n    return {\n      nonword: nonword,\n      whitespace: whitespace,\n      obj: {\n        nonword: getObjTokenizer(nonword),\n        whitespace: getObjTokenizer(whitespace)\n      }\n    };\n\n    function whitespace(s) {\n      return s.split(/\\s+/);\n    }\n\n    function nonword(s) {\n      return s.split(/\\W+/);\n    }\n\n    function getObjTokenizer(tokenizer) {\n      return function setKey(key) {\n        return function tokenize(o) {\n          return tokenizer(o[key]);\n        };\n      };\n    }\n  }();\n\n  var LruCache = function () {\n    function LruCache(maxSize) {\n      this.maxSize = maxSize || 100;\n      this.size = 0;\n      this.hash = {};\n      this.list = new List();\n    }\n\n    _.mixin(LruCache.prototype, {\n      set: function set(key, val) {\n        var tailItem = this.list.tail,\n            node;\n\n        if (this.size >= this.maxSize) {\n          this.list.remove(tailItem);\n          delete this.hash[tailItem.key];\n        }\n\n        if (node = this.hash[key]) {\n          node.val = val;\n          this.list.moveToFront(node);\n        } else {\n          node = new Node(key, val);\n          this.list.add(node);\n          this.hash[key] = node;\n          this.size++;\n        }\n      },\n      get: function get(key) {\n        var node = this.hash[key];\n\n        if (node) {\n          this.list.moveToFront(node);\n          return node.val;\n        }\n      }\n    });\n\n    function List() {\n      this.head = this.tail = null;\n    }\n\n    _.mixin(List.prototype, {\n      add: function add(node) {\n        if (this.head) {\n          node.next = this.head;\n          this.head.prev = node;\n        }\n\n        this.head = node;\n        this.tail = this.tail || node;\n      },\n      remove: function remove(node) {\n        node.prev ? node.prev.next = node.next : this.head = node.next;\n        node.next ? node.next.prev = node.prev : this.tail = node.prev;\n      },\n      moveToFront: function moveToFront(node) {\n        this.remove(node);\n        this.add(node);\n      }\n    });\n\n    function Node(key, val) {\n      this.key = key;\n      this.val = val;\n      this.prev = this.next = null;\n    }\n\n    return LruCache;\n  }();\n\n  var PersistentStorage = function () {\n    var ls, methods;\n\n    try {\n      ls = window.localStorage;\n      ls.setItem("~~~", "!");\n      ls.removeItem("~~~");\n    } catch (err) {\n      ls = null;\n    }\n\n    function PersistentStorage(namespace) {\n      this.prefix = ["__", namespace, "__"].join("");\n      this.ttlKey = "__ttl__";\n      this.keyMatcher = new RegExp("^" + this.prefix);\n    }\n\n    if (ls && window.JSON) {\n      methods = {\n        _prefix: function _prefix(key) {\n          return this.prefix + key;\n        },\n        _ttlKey: function _ttlKey(key) {\n          return this._prefix(key) + this.ttlKey;\n        },\n        get: function get(key) {\n          if (this.isExpired(key)) {\n            this.remove(key);\n          }\n\n          return decode(ls.getItem(this._prefix(key)));\n        },\n        set: function set(key, val, ttl) {\n          if (_.isNumber(ttl)) {\n            ls.setItem(this._ttlKey(key), encode(now() + ttl));\n          } else {\n            ls.removeItem(this._ttlKey(key));\n          }\n\n          return ls.setItem(this._prefix(key), encode(val));\n        },\n        remove: function remove(key) {\n          ls.removeItem(this._ttlKey(key));\n          ls.removeItem(this._prefix(key));\n          return this;\n        },\n        clear: function clear() {\n          var i,\n              key,\n              keys = [],\n              len = ls.length;\n\n          for (i = 0; i < len; i++) {\n            if ((key = ls.key(i)).match(this.keyMatcher)) {\n              keys.push(key.replace(this.keyMatcher, ""));\n            }\n          }\n\n          for (i = keys.length; i--;) {\n            this.remove(keys[i]);\n          }\n\n          return this;\n        },\n        isExpired: function isExpired(key) {\n          var ttl = decode(ls.getItem(this._ttlKey(key)));\n          return _.isNumber(ttl) && now() > ttl ? true : false;\n        }\n      };\n    } else {\n      methods = {\n        get: _.noop,\n        set: _.noop,\n        remove: _.noop,\n        clear: _.noop,\n        isExpired: _.noop\n      };\n    }\n\n    _.mixin(PersistentStorage.prototype, methods);\n\n    return PersistentStorage;\n\n    function now() {\n      return new Date().getTime();\n    }\n\n    function encode(val) {\n      return JSON.stringify(_.isUndefined(val) ? null : val);\n    }\n\n    function decode(val) {\n      return JSON.parse(val);\n    }\n  }();\n\n  var Transport = function () {\n    var pendingRequestsCount = 0,\n        pendingRequests = {},\n        maxPendingRequests = 6,\n        requestCache = new LruCache(10);\n\n    function Transport(o) {\n      o = o || {};\n      this._send = o.transport ? callbackToDeferred(o.transport) : $.ajax;\n      this._get = o.rateLimiter ? o.rateLimiter(this._get) : this._get;\n    }\n\n    Transport.setMaxPendingRequests = function setMaxPendingRequests(num) {\n      maxPendingRequests = num;\n    };\n\n    Transport.resetCache = function clearCache() {\n      requestCache = new LruCache(10);\n    };\n\n    _.mixin(Transport.prototype, {\n      _get: function _get(url, o, cb) {\n        var that = this,\n            jqXhr;\n\n        if (jqXhr = pendingRequests[url]) {\n          jqXhr.done(done).fail(fail);\n        } else if (pendingRequestsCount < maxPendingRequests) {\n          pendingRequestsCount++;\n          pendingRequests[url] = this._send(url, o).done(done).fail(fail).always(always);\n        } else {\n          this.onDeckRequestArgs = [].slice.call(arguments, 0);\n        }\n\n        function done(resp) {\n          cb && cb(null, resp);\n          requestCache.set(url, resp);\n        }\n\n        function fail() {\n          cb && cb(true);\n        }\n\n        function always() {\n          pendingRequestsCount--;\n          delete pendingRequests[url];\n\n          if (that.onDeckRequestArgs) {\n            that._get.apply(that, that.onDeckRequestArgs);\n\n            that.onDeckRequestArgs = null;\n          }\n        }\n      },\n      get: function get(url, o, cb) {\n        var resp;\n\n        if (_.isFunction(o)) {\n          cb = o;\n          o = {};\n        }\n\n        if (resp = requestCache.get(url)) {\n          _.defer(function () {\n            cb && cb(null, resp);\n          });\n        } else {\n          this._get(url, o, cb);\n        }\n\n        return !!resp;\n      }\n    });\n\n    return Transport;\n\n    function callbackToDeferred(fn) {\n      return function customSendWrapper(url, o) {\n        var deferred = $.Deferred();\n        fn(url, o, onSuccess, onError);\n        return deferred;\n\n        function onSuccess(resp) {\n          _.defer(function () {\n            deferred.resolve(resp);\n          });\n        }\n\n        function onError(err) {\n          _.defer(function () {\n            deferred.reject(err);\n          });\n        }\n      };\n    }\n  }();\n\n  var SearchIndex = function () {\n    function SearchIndex(o) {\n      o = o || {};\n\n      if (!o.datumTokenizer || !o.queryTokenizer) {\n        $.error("datumTokenizer and queryTokenizer are both required");\n      }\n\n      this.datumTokenizer = o.datumTokenizer;\n      this.queryTokenizer = o.queryTokenizer;\n      this.reset();\n    }\n\n    _.mixin(SearchIndex.prototype, {\n      bootstrap: function bootstrap(o) {\n        this.datums = o.datums;\n        this.trie = o.trie;\n      },\n      add: function add(data) {\n        var that = this;\n        data = _.isArray(data) ? data : [data];\n\n        _.each(data, function (datum) {\n          var id, tokens;\n          id = that.datums.push(datum) - 1;\n          tokens = normalizeTokens(that.datumTokenizer(datum));\n\n          _.each(tokens, function (token) {\n            var node, chars, ch;\n            node = that.trie;\n            chars = token.split("");\n\n            while (ch = chars.shift()) {\n              node = node.children[ch] || (node.children[ch] = newNode());\n              node.ids.push(id);\n            }\n          });\n        });\n      },\n      get: function get(query) {\n        var that = this,\n            tokens,\n            matches;\n        tokens = normalizeTokens(this.queryTokenizer(query));\n\n        _.each(tokens, function (token) {\n          var node, chars, ch, ids;\n\n          if (matches && matches.length === 0) {\n            return false;\n          }\n\n          node = that.trie;\n          chars = token.split("");\n\n          while (node && (ch = chars.shift())) {\n            node = node.children[ch];\n          }\n\n          if (node && chars.length === 0) {\n            ids = node.ids.slice(0);\n            matches = matches ? getIntersection(matches, ids) : ids;\n          } else {\n            matches = [];\n            return false;\n          }\n        });\n\n        return matches ? _.map(unique(matches), function (id) {\n          return that.datums[id];\n        }) : [];\n      },\n      reset: function reset() {\n        this.datums = [];\n        this.trie = newNode();\n      },\n      serialize: function serialize() {\n        return {\n          datums: this.datums,\n          trie: this.trie\n        };\n      }\n    });\n\n    return SearchIndex;\n\n    function normalizeTokens(tokens) {\n      tokens = _.filter(tokens, function (token) {\n        return !!token;\n      });\n      tokens = _.map(tokens, function (token) {\n        return token.toLowerCase();\n      });\n      return tokens;\n    }\n\n    function newNode() {\n      return {\n        ids: [],\n        children: {}\n      };\n    }\n\n    function unique(array) {\n      var seen = {},\n          uniques = [];\n\n      for (var i = 0; i < array.length; i++) {\n        if (!seen[array[i]]) {\n          seen[array[i]] = true;\n          uniques.push(array[i]);\n        }\n      }\n\n      return uniques;\n    }\n\n    function getIntersection(arrayA, arrayB) {\n      var ai = 0,\n          bi = 0,\n          intersection = [];\n      arrayA = arrayA.sort(compare);\n      arrayB = arrayB.sort(compare);\n\n      while (ai < arrayA.length && bi < arrayB.length) {\n        if (arrayA[ai] < arrayB[bi]) {\n          ai++;\n        } else if (arrayA[ai] > arrayB[bi]) {\n          bi++;\n        } else {\n          intersection.push(arrayA[ai]);\n          ai++;\n          bi++;\n        }\n      }\n\n      return intersection;\n\n      function compare(a, b) {\n        return a - b;\n      }\n    }\n  }();\n\n  var oParser = function () {\n    return {\n      local: getLocal,\n      prefetch: getPrefetch,\n      remote: getRemote\n    };\n\n    function getLocal(o) {\n      return o.local || null;\n    }\n\n    function getPrefetch(o) {\n      var prefetch, defaults;\n      defaults = {\n        url: null,\n        thumbprint: "",\n        ttl: 24 * 60 * 60 * 1e3,\n        filter: null,\n        ajax: {}\n      };\n\n      if (prefetch = o.prefetch || null) {\n        prefetch = _.isString(prefetch) ? {\n          url: prefetch\n        } : prefetch;\n        prefetch = _.mixin(defaults, prefetch);\n        prefetch.thumbprint = VERSION + prefetch.thumbprint;\n        prefetch.ajax.type = prefetch.ajax.type || "GET";\n        prefetch.ajax.dataType = prefetch.ajax.dataType || "json";\n        !prefetch.url && $.error("prefetch requires url to be set");\n      }\n\n      return prefetch;\n    }\n\n    function getRemote(o) {\n      var remote, defaults;\n      defaults = {\n        url: null,\n        wildcard: "%QUERY",\n        replace: null,\n        rateLimitBy: "debounce",\n        rateLimitWait: 300,\n        send: null,\n        filter: null,\n        ajax: {}\n      };\n\n      if (remote = o.remote || null) {\n        remote = _.isString(remote) ? {\n          url: remote\n        } : remote;\n        remote = _.mixin(defaults, remote);\n        remote.rateLimiter = /^throttle$/i.test(remote.rateLimitBy) ? byThrottle(remote.rateLimitWait) : byDebounce(remote.rateLimitWait);\n        remote.ajax.type = remote.ajax.type || "GET";\n        remote.ajax.dataType = remote.ajax.dataType || "json";\n        delete remote.rateLimitBy;\n        delete remote.rateLimitWait;\n        !remote.url && $.error("remote requires url to be set");\n      }\n\n      return remote;\n\n      function byDebounce(wait) {\n        return function (fn) {\n          return _.debounce(fn, wait);\n        };\n      }\n\n      function byThrottle(wait) {\n        return function (fn) {\n          return _.throttle(fn, wait);\n        };\n      }\n    }\n  }();\n\n  (function (root) {\n    var old, keys;\n    old = root.Bloodhound;\n    keys = {\n      data: "data",\n      protocol: "protocol",\n      thumbprint: "thumbprint"\n    };\n    root.Bloodhound = Bloodhound;\n\n    function Bloodhound(o) {\n      if (!o || !o.local && !o.prefetch && !o.remote) {\n        $.error("one of local, prefetch, or remote is required");\n      }\n\n      this.limit = o.limit || 5;\n      this.sorter = getSorter(o.sorter);\n      this.dupDetector = o.dupDetector || ignoreDuplicates;\n      this.local = oParser.local(o);\n      this.prefetch = oParser.prefetch(o);\n      this.remote = oParser.remote(o);\n      this.cacheKey = this.prefetch ? this.prefetch.cacheKey || this.prefetch.url : null;\n      this.index = new SearchIndex({\n        datumTokenizer: o.datumTokenizer,\n        queryTokenizer: o.queryTokenizer\n      });\n      this.storage = this.cacheKey ? new PersistentStorage(this.cacheKey) : null;\n    }\n\n    Bloodhound.noConflict = function noConflict() {\n      root.Bloodhound = old;\n      return Bloodhound;\n    };\n\n    Bloodhound.tokenizers = tokenizers;\n\n    _.mixin(Bloodhound.prototype, {\n      _loadPrefetch: function loadPrefetch(o) {\n        var that = this,\n            serialized,\n            deferred;\n\n        if (serialized = this._readFromStorage(o.thumbprint)) {\n          this.index.bootstrap(serialized);\n          deferred = $.Deferred().resolve();\n        } else {\n          deferred = $.ajax(o.url, o.ajax).done(handlePrefetchResponse);\n        }\n\n        return deferred;\n\n        function handlePrefetchResponse(resp) {\n          that.clear();\n          that.add(o.filter ? o.filter(resp) : resp);\n\n          that._saveToStorage(that.index.serialize(), o.thumbprint, o.ttl);\n        }\n      },\n      _getFromRemote: function getFromRemote(query, cb) {\n        var that = this,\n            url,\n            uriEncodedQuery;\n        query = query || "";\n        uriEncodedQuery = encodeURIComponent(query);\n        url = this.remote.replace ? this.remote.replace(this.remote.url, query) : this.remote.url.replace(this.remote.wildcard, uriEncodedQuery);\n        return this.transport.get(url, this.remote.ajax, handleRemoteResponse);\n\n        function handleRemoteResponse(err, resp) {\n          err ? cb([]) : cb(that.remote.filter ? that.remote.filter(resp) : resp);\n        }\n      },\n      _saveToStorage: function saveToStorage(data, thumbprint, ttl) {\n        if (this.storage) {\n          this.storage.set(keys.data, data, ttl);\n          this.storage.set(keys.protocol, location.protocol, ttl);\n          this.storage.set(keys.thumbprint, thumbprint, ttl);\n        }\n      },\n      _readFromStorage: function readFromStorage(thumbprint) {\n        var stored = {},\n            isExpired;\n\n        if (this.storage) {\n          stored.data = this.storage.get(keys.data);\n          stored.protocol = this.storage.get(keys.protocol);\n          stored.thumbprint = this.storage.get(keys.thumbprint);\n        }\n\n        isExpired = stored.thumbprint !== thumbprint || stored.protocol !== location.protocol;\n        return stored.data && !isExpired ? stored.data : null;\n      },\n      _initialize: function initialize() {\n        var that = this,\n            local = this.local,\n            deferred;\n        deferred = this.prefetch ? this._loadPrefetch(this.prefetch) : $.Deferred().resolve();\n        local && deferred.done(addLocalToIndex);\n        this.transport = this.remote ? new Transport(this.remote) : null;\n        return this.initPromise = deferred.promise();\n\n        function addLocalToIndex() {\n          that.add(_.isFunction(local) ? local() : local);\n        }\n      },\n      initialize: function initialize(force) {\n        return !this.initPromise || force ? this._initialize() : this.initPromise;\n      },\n      add: function add(data) {\n        this.index.add(data);\n      },\n      get: function get(query, cb) {\n        var that = this,\n            matches = [],\n            cacheHit = false;\n        matches = this.index.get(query);\n        matches = this.sorter(matches).slice(0, this.limit);\n\n        if (matches.length < this.limit && this.transport) {\n          cacheHit = this._getFromRemote(query, returnRemoteMatches);\n        }\n\n        if (!cacheHit) {\n          (matches.length > 0 || !this.transport) && cb && cb(matches);\n        }\n\n        function returnRemoteMatches(remoteMatches) {\n          var matchesWithBackfill = matches.slice(0);\n\n          _.each(remoteMatches, function (remoteMatch) {\n            var isDuplicate;\n            isDuplicate = _.some(matchesWithBackfill, function (match) {\n              return that.dupDetector(remoteMatch, match);\n            });\n            !isDuplicate && matchesWithBackfill.push(remoteMatch);\n            return matchesWithBackfill.length < that.limit;\n          });\n\n          cb && cb(that.sorter(matchesWithBackfill));\n        }\n      },\n      clear: function clear() {\n        this.index.reset();\n      },\n      clearPrefetchCache: function clearPrefetchCache() {\n        this.storage && this.storage.clear();\n      },\n      clearRemoteCache: function clearRemoteCache() {\n        this.transport && Transport.resetCache();\n      },\n      ttAdapter: function ttAdapter() {\n        return _.bind(this.get, this);\n      }\n    });\n\n    return Bloodhound;\n\n    function getSorter(sortFn) {\n      return _.isFunction(sortFn) ? sort : noSort;\n\n      function sort(array) {\n        return array.sort(sortFn);\n      }\n\n      function noSort(array) {\n        return array;\n      }\n    }\n\n    function ignoreDuplicates() {\n      return false;\n    }\n  })(this);\n\n  var html = {\n    wrapper: \'<span class="twitter-typeahead"></span>\',\n    dropdown: \'<span class="tt-dropdown-menu"></span>\',\n    dataset: \'<div class="tt-dataset-%CLASS%"></div>\',\n    suggestions: \'<span class="tt-suggestions"></span>\',\n    suggestion: \'<div class="tt-suggestion"></div>\'\n  };\n  var css = {\n    wrapper: {\n      position: "relative",\n      display: "inline-block"\n    },\n    hint: {\n      position: "absolute",\n      top: "0",\n      left: "0",\n      borderColor: "transparent",\n      boxShadow: "none"\n    },\n    input: {\n      position: "relative",\n      verticalAlign: "top",\n      backgroundColor: "transparent"\n    },\n    inputWithNoHint: {\n      position: "relative",\n      verticalAlign: "top"\n    },\n    dropdown: {\n      position: "absolute",\n      top: "100%",\n      left: "0",\n      zIndex: "9999",\n      display: "none"\n    },\n    suggestions: {\n      display: "block"\n    },\n    suggestion: {\n      whiteSpace: "nowrap",\n      cursor: "pointer"\n    },\n    suggestionChild: {\n      whiteSpace: "normal"\n    },\n    ltr: {\n      left: "0",\n      right: "auto"\n    },\n    rtl: {\n      left: "auto",\n      right: " 0"\n    }\n  };\n\n  if (_.isMsie()) {\n    _.mixin(css.input, {\n      backgroundImage: "url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"\n    });\n  }\n\n  if (_.isMsie() && _.isMsie() <= 7) {\n    _.mixin(css.input, {\n      marginTop: "-1px"\n    });\n  }\n\n  var EventBus = function () {\n    var namespace = "typeahead:";\n\n    function EventBus(o) {\n      if (!o || !o.el) {\n        $.error("EventBus initialized without el");\n      }\n\n      this.$el = $(o.el);\n    }\n\n    _.mixin(EventBus.prototype, {\n      trigger: function trigger(type) {\n        var args = [].slice.call(arguments, 1);\n        this.$el.trigger(namespace + type, args);\n      }\n    });\n\n    return EventBus;\n  }();\n\n  var EventEmitter = function () {\n    var splitter = /\\s+/,\n        nextTick = getNextTick();\n    return {\n      onSync: onSync,\n      onAsync: onAsync,\n      off: off,\n      trigger: trigger\n    };\n\n    function on(method, types, cb, context) {\n      var type;\n\n      if (!cb) {\n        return this;\n      }\n\n      types = types.split(splitter);\n      cb = context ? bindContext(cb, context) : cb;\n      this._callbacks = this._callbacks || {};\n\n      while (type = types.shift()) {\n        this._callbacks[type] = this._callbacks[type] || {\n          sync: [],\n          async: []\n        };\n\n        this._callbacks[type][method].push(cb);\n      }\n\n      return this;\n    }\n\n    function onAsync(types, cb, context) {\n      return on.call(this, "async", types, cb, context);\n    }\n\n    function onSync(types, cb, context) {\n      return on.call(this, "sync", types, cb, context);\n    }\n\n    function off(types) {\n      var type;\n\n      if (!this._callbacks) {\n        return this;\n      }\n\n      types = types.split(splitter);\n\n      while (type = types.shift()) {\n        delete this._callbacks[type];\n      }\n\n      return this;\n    }\n\n    function trigger(types) {\n      var type, callbacks, args, syncFlush, asyncFlush;\n\n      if (!this._callbacks) {\n        return this;\n      }\n\n      types = types.split(splitter);\n      args = [].slice.call(arguments, 1);\n\n      while ((type = types.shift()) && (callbacks = this._callbacks[type])) {\n        syncFlush = getFlush(callbacks.sync, this, [type].concat(args));\n        asyncFlush = getFlush(callbacks.async, this, [type].concat(args));\n        syncFlush() && nextTick(asyncFlush);\n      }\n\n      return this;\n    }\n\n    function getFlush(callbacks, context, args) {\n      return flush;\n\n      function flush() {\n        var cancelled;\n\n        for (var i = 0; !cancelled && i < callbacks.length; i += 1) {\n          cancelled = callbacks[i].apply(context, args) === false;\n        }\n\n        return !cancelled;\n      }\n    }\n\n    function getNextTick() {\n      var nextTickFn;\n\n      if (window.setImmediate) {\n        nextTickFn = function nextTickSetImmediate(fn) {\n          setImmediate(function () {\n            fn();\n          });\n        };\n      } else {\n        nextTickFn = function nextTickSetTimeout(fn) {\n          setTimeout(function () {\n            fn();\n          }, 0);\n        };\n      }\n\n      return nextTickFn;\n    }\n\n    function bindContext(fn, context) {\n      return fn.bind ? fn.bind(context) : function () {\n        fn.apply(context, [].slice.call(arguments, 0));\n      };\n    }\n  }();\n\n  var highlight = function (doc) {\n    var defaults = {\n      node: null,\n      pattern: null,\n      tagName: "strong",\n      className: null,\n      wordsOnly: false,\n      caseSensitive: false\n    };\n    return function hightlight(o) {\n      var regex;\n      o = _.mixin({}, defaults, o);\n\n      if (!o.node || !o.pattern) {\n        return;\n      }\n\n      o.pattern = _.isArray(o.pattern) ? o.pattern : [o.pattern];\n      regex = getRegex(o.pattern, o.caseSensitive, o.wordsOnly);\n      traverse(o.node, hightlightTextNode);\n\n      function hightlightTextNode(textNode) {\n        var match, patternNode;\n\n        if (match = regex.exec(textNode.data)) {\n          wrapperNode = doc.createElement(o.tagName);\n          o.className && (wrapperNode.className = o.className);\n          patternNode = textNode.splitText(match.index);\n          patternNode.splitText(match[0].length);\n          wrapperNode.appendChild(patternNode.cloneNode(true));\n          textNode.parentNode.replaceChild(wrapperNode, patternNode);\n        }\n\n        return !!match;\n      }\n\n      function traverse(el, hightlightTextNode) {\n        var childNode,\n            TEXT_NODE_TYPE = 3;\n\n        for (var i = 0; i < el.childNodes.length; i++) {\n          childNode = el.childNodes[i];\n\n          if (childNode.nodeType === TEXT_NODE_TYPE) {\n            i += hightlightTextNode(childNode) ? 1 : 0;\n          } else {\n            traverse(childNode, hightlightTextNode);\n          }\n        }\n      }\n    };\n\n    function getRegex(patterns, caseSensitive, wordsOnly) {\n      var escapedPatterns = [],\n          regexStr;\n\n      for (var i = 0; i < patterns.length; i++) {\n        escapedPatterns.push(_.escapeRegExChars(patterns[i]));\n      }\n\n      regexStr = wordsOnly ? "\\\\b(" + escapedPatterns.join("|") + ")\\\\b" : "(" + escapedPatterns.join("|") + ")";\n      return caseSensitive ? new RegExp(regexStr) : new RegExp(regexStr, "i");\n    }\n  }(window.document);\n\n  var Input = function () {\n    var specialKeyCodeMap;\n    specialKeyCodeMap = {\n      9: "tab",\n      27: "esc",\n      37: "left",\n      39: "right",\n      13: "enter",\n      38: "up",\n      40: "down"\n    };\n\n    function Input(o) {\n      var that = this,\n          onBlur,\n          onFocus,\n          onKeydown,\n          onInput;\n      o = o || {};\n\n      if (!o.input) {\n        $.error("input is missing");\n      }\n\n      onBlur = _.bind(this._onBlur, this);\n      onFocus = _.bind(this._onFocus, this);\n      onKeydown = _.bind(this._onKeydown, this);\n      onInput = _.bind(this._onInput, this);\n      this.$hint = $(o.hint);\n      this.$input = $(o.input).on("blur.tt", onBlur).on("focus.tt", onFocus).on("keydown.tt", onKeydown);\n\n      if (this.$hint.length === 0) {\n        this.setHint = this.getHint = this.clearHint = this.clearHintIfInvalid = _.noop;\n      }\n\n      if (!_.isMsie()) {\n        this.$input.on("input.tt", onInput);\n      } else {\n        this.$input.on("keydown.tt keypress.tt cut.tt paste.tt", function ($e) {\n          if (specialKeyCodeMap[$e.which || $e.keyCode]) {\n            return;\n          }\n\n          _.defer(_.bind(that._onInput, that, $e));\n        });\n      }\n\n      this.query = this.$input.val();\n      this.$overflowHelper = buildOverflowHelper(this.$input);\n    }\n\n    Input.normalizeQuery = function (str) {\n      return (str || "").replace(/^\\s*/g, "").replace(/\\s{2,}/g, " ");\n    };\n\n    _.mixin(Input.prototype, EventEmitter, {\n      _onBlur: function onBlur() {\n        this.resetInputValue();\n        this.trigger("blurred");\n      },\n      _onFocus: function onFocus() {\n        this.trigger("focused");\n      },\n      _onKeydown: function onKeydown($e) {\n        var keyName = specialKeyCodeMap[$e.which || $e.keyCode];\n\n        this._managePreventDefault(keyName, $e);\n\n        if (keyName && this._shouldTrigger(keyName, $e)) {\n          this.trigger(keyName + "Keyed", $e);\n        }\n      },\n      _onInput: function onInput() {\n        this._checkInputValue();\n      },\n      _managePreventDefault: function managePreventDefault(keyName, $e) {\n        var preventDefault, hintValue, inputValue;\n\n        switch (keyName) {\n          case "tab":\n            hintValue = this.getHint();\n            inputValue = this.getInputValue();\n            preventDefault = hintValue && hintValue !== inputValue && !withModifier($e);\n            break;\n\n          case "up":\n          case "down":\n            preventDefault = !withModifier($e);\n            break;\n\n          default:\n            preventDefault = false;\n        }\n\n        preventDefault && $e.preventDefault();\n      },\n      _shouldTrigger: function shouldTrigger(keyName, $e) {\n        var trigger;\n\n        switch (keyName) {\n          case "tab":\n            trigger = !withModifier($e);\n            break;\n\n          default:\n            trigger = true;\n        }\n\n        return trigger;\n      },\n      _checkInputValue: function checkInputValue() {\n        var inputValue, areEquivalent, hasDifferentWhitespace;\n        inputValue = this.getInputValue();\n        areEquivalent = areQueriesEquivalent(inputValue, this.query);\n        hasDifferentWhitespace = areEquivalent ? this.query.length !== inputValue.length : false;\n\n        if (!areEquivalent) {\n          this.trigger("queryChanged", this.query = inputValue);\n        } else if (hasDifferentWhitespace) {\n          this.trigger("whitespaceChanged", this.query);\n        }\n      },\n      focus: function focus() {\n        this.$input.focus();\n      },\n      blur: function blur() {\n        this.$input.blur();\n      },\n      getQuery: function getQuery() {\n        return this.query;\n      },\n      setQuery: function setQuery(query) {\n        this.query = query;\n      },\n      getInputValue: function getInputValue() {\n        return this.$input.val();\n      },\n      setInputValue: function setInputValue(value, silent) {\n        this.$input.val(value);\n        silent ? this.clearHint() : this._checkInputValue();\n      },\n      resetInputValue: function resetInputValue() {\n        this.setInputValue(this.query, true);\n      },\n      getHint: function getHint() {\n        return this.$hint.val();\n      },\n      setHint: function setHint(value) {\n        this.$hint.val(value);\n      },\n      clearHint: function clearHint() {\n        this.setHint("");\n      },\n      clearHintIfInvalid: function clearHintIfInvalid() {\n        var val, hint, valIsPrefixOfHint, isValid;\n        val = this.getInputValue();\n        hint = this.getHint();\n        valIsPrefixOfHint = val !== hint && hint.indexOf(val) === 0;\n        isValid = val !== "" && valIsPrefixOfHint && !this.hasOverflow();\n        !isValid && this.clearHint();\n      },\n      getLanguageDirection: function getLanguageDirection() {\n        return (this.$input.css("direction") || "ltr").toLowerCase();\n      },\n      hasOverflow: function hasOverflow() {\n        var constraint = this.$input.width() - 2;\n        this.$overflowHelper.text(this.getInputValue());\n        return this.$overflowHelper.width() >= constraint;\n      },\n      isCursorAtEnd: function isCursorAtEnd() {\n        var valueLength, selectionStart, range;\n        valueLength = this.$input.val().length;\n        selectionStart = this.$input[0].selectionStart;\n\n        if (_.isNumber(selectionStart)) {\n          return selectionStart === valueLength;\n        } else if (document.selection) {\n          range = document.selection.createRange();\n          range.moveStart("character", -valueLength);\n          return valueLength === range.text.length;\n        }\n\n        return true;\n      },\n      destroy: function destroy() {\n        this.$hint.off(".tt");\n        this.$input.off(".tt");\n        this.$hint = this.$input = this.$overflowHelper = null;\n      }\n    });\n\n    return Input;\n\n    function buildOverflowHelper($input) {\n      return $(\'<pre aria-hidden="true"></pre>\').css({\n        position: "absolute",\n        visibility: "hidden",\n        whiteSpace: "pre",\n        textIndent: $input.css("text-indent"),\n        textRendering: $input.css("text-rendering"),\n        textTransform: $input.css("text-transform")\n      }).insertAfter($input);\n    }\n\n    function areQueriesEquivalent(a, b) {\n      return Input.normalizeQuery(a) === Input.normalizeQuery(b);\n    }\n\n    function withModifier($e) {\n      return $e.altKey || $e.ctrlKey || $e.metaKey || $e.shiftKey;\n    }\n  }();\n\n  var Dataset = function () {\n    var datasetKey = "ttDataset",\n        valueKey = "ttValue",\n        datumKey = "ttDatum";\n\n    function Dataset(o) {\n      o = o || {};\n      o.templates = o.templates || {};\n\n      if (!o.source) {\n        $.error("missing source");\n      }\n\n      if (o.name && !isValidName(o.name)) {\n        $.error("invalid dataset name: " + o.name);\n      }\n\n      this.query = null;\n      this.highlight = !!o.highlight;\n      this.name = o.name || _.getUniqueId();\n      this.source = o.source;\n      this.displayFn = getDisplayFn(o.display || o.displayKey);\n      this.templates = getTemplates(o.templates, this.displayFn);\n      this.$el = $(html.dataset.replace("%CLASS%", this.name));\n    }\n\n    Dataset.extractDatasetName = function extractDatasetName(el) {\n      return $(el).data(datasetKey);\n    };\n\n    Dataset.extractValue = function extractDatum(el) {\n      return $(el).data(valueKey);\n    };\n\n    Dataset.extractDatum = function extractDatum(el) {\n      return $(el).data(datumKey);\n    };\n\n    _.mixin(Dataset.prototype, EventEmitter, {\n      _render: function render(query, suggestions) {\n        if (!this.$el) {\n          return;\n        }\n\n        var that = this,\n            hasSuggestions;\n        this.$el.empty();\n        hasSuggestions = suggestions && suggestions.length;\n\n        if (!hasSuggestions && this.templates.empty) {\n          this.$el.html(getEmptyHtml()).prepend(that.templates.header ? getHeaderHtml() : null).append(that.templates.footer ? getFooterHtml() : null);\n        } else if (hasSuggestions) {\n          this.$el.html(getSuggestionsHtml()).prepend(that.templates.header ? getHeaderHtml() : null).append(that.templates.footer ? getFooterHtml() : null);\n        }\n\n        this.trigger("rendered");\n\n        function getEmptyHtml() {\n          return that.templates.empty({\n            query: query,\n            isEmpty: true\n          });\n        }\n\n        function getSuggestionsHtml() {\n          var $suggestions, nodes;\n          $suggestions = $(html.suggestions).css(css.suggestions);\n          nodes = _.map(suggestions, getSuggestionNode);\n          $suggestions.append.apply($suggestions, nodes);\n          that.highlight && highlight({\n            node: $suggestions[0],\n            pattern: query\n          });\n          return $suggestions;\n\n          function getSuggestionNode(suggestion) {\n            var $el;\n            $el = $(html.suggestion).append(that.templates.suggestion(suggestion)).data(datasetKey, that.name).data(valueKey, that.displayFn(suggestion)).data(datumKey, suggestion);\n            $el.children().each(function () {\n              $(this).css(css.suggestionChild);\n            });\n            return $el;\n          }\n        }\n\n        function getHeaderHtml() {\n          return that.templates.header({\n            query: query,\n            isEmpty: !hasSuggestions\n          });\n        }\n\n        function getFooterHtml() {\n          return that.templates.footer({\n            query: query,\n            isEmpty: !hasSuggestions\n          });\n        }\n      },\n      getRoot: function getRoot() {\n        return this.$el;\n      },\n      update: function update(query) {\n        var that = this;\n        this.query = query;\n        this.canceled = false;\n        this.source(query, render);\n\n        function render(suggestions) {\n          if (!that.canceled && query === that.query) {\n            that._render(query, suggestions);\n          }\n        }\n      },\n      cancel: function cancel() {\n        this.canceled = true;\n      },\n      clear: function clear() {\n        this.cancel();\n        this.$el.empty();\n        this.trigger("rendered");\n      },\n      isEmpty: function isEmpty() {\n        return this.$el.is(":empty");\n      },\n      destroy: function destroy() {\n        this.$el = null;\n      }\n    });\n\n    return Dataset;\n\n    function getDisplayFn(display) {\n      display = display || "value";\n      return _.isFunction(display) ? display : displayFn;\n\n      function displayFn(obj) {\n        return obj[display];\n      }\n    }\n\n    function getTemplates(templates, displayFn) {\n      return {\n        empty: templates.empty && _.templatify(templates.empty),\n        header: templates.header && _.templatify(templates.header),\n        footer: templates.footer && _.templatify(templates.footer),\n        suggestion: templates.suggestion || suggestionTemplate\n      };\n\n      function suggestionTemplate(context) {\n        return "<p>" + displayFn(context) + "</p>";\n      }\n    }\n\n    function isValidName(str) {\n      return /^[_a-zA-Z0-9-]+$/.test(str);\n    }\n  }();\n\n  var Dropdown = function () {\n    function Dropdown(o) {\n      var that = this,\n          onSuggestionClick,\n          onSuggestionMouseEnter,\n          onSuggestionMouseLeave;\n      o = o || {};\n\n      if (!o.menu) {\n        $.error("menu is required");\n      }\n\n      this.isOpen = false;\n      this.isEmpty = true;\n      this.datasets = _.map(o.datasets, initializeDataset);\n      onSuggestionClick = _.bind(this._onSuggestionClick, this);\n      onSuggestionMouseEnter = _.bind(this._onSuggestionMouseEnter, this);\n      onSuggestionMouseLeave = _.bind(this._onSuggestionMouseLeave, this);\n      this.$menu = $(o.menu).on("click.tt", ".tt-suggestion", onSuggestionClick).on("mouseenter.tt", ".tt-suggestion", onSuggestionMouseEnter).on("mouseleave.tt", ".tt-suggestion", onSuggestionMouseLeave);\n\n      _.each(this.datasets, function (dataset) {\n        that.$menu.append(dataset.getRoot());\n        dataset.onSync("rendered", that._onRendered, that);\n      });\n    }\n\n    _.mixin(Dropdown.prototype, EventEmitter, {\n      _onSuggestionClick: function onSuggestionClick($e) {\n        this.trigger("suggestionClicked", $($e.currentTarget));\n      },\n      _onSuggestionMouseEnter: function onSuggestionMouseEnter($e) {\n        this._removeCursor();\n\n        this._setCursor($($e.currentTarget), true);\n      },\n      _onSuggestionMouseLeave: function onSuggestionMouseLeave() {\n        this._removeCursor();\n      },\n      _onRendered: function onRendered() {\n        this.isEmpty = _.every(this.datasets, isDatasetEmpty);\n        this.isEmpty ? this._hide() : this.isOpen && this._show();\n        this.trigger("datasetRendered");\n\n        function isDatasetEmpty(dataset) {\n          return dataset.isEmpty();\n        }\n      },\n      _hide: function _hide() {\n        this.$menu.hide();\n      },\n      _show: function _show() {\n        this.$menu.css("display", "block");\n      },\n      _getSuggestions: function getSuggestions() {\n        return this.$menu.find(".tt-suggestion");\n      },\n      _getCursor: function getCursor() {\n        return this.$menu.find(".tt-cursor").first();\n      },\n      _setCursor: function setCursor($el, silent) {\n        $el.first().addClass("tt-cursor");\n        !silent && this.trigger("cursorMoved");\n      },\n      _removeCursor: function removeCursor() {\n        this._getCursor().removeClass("tt-cursor");\n      },\n      _moveCursor: function moveCursor(increment) {\n        var $suggestions, $oldCursor, newCursorIndex, $newCursor;\n\n        if (!this.isOpen) {\n          return;\n        }\n\n        $oldCursor = this._getCursor();\n        $suggestions = this._getSuggestions();\n\n        this._removeCursor();\n\n        newCursorIndex = $suggestions.index($oldCursor) + increment;\n        newCursorIndex = (newCursorIndex + 1) % ($suggestions.length + 1) - 1;\n\n        if (newCursorIndex === -1) {\n          this.trigger("cursorRemoved");\n          return;\n        } else if (newCursorIndex < -1) {\n          newCursorIndex = $suggestions.length - 1;\n        }\n\n        this._setCursor($newCursor = $suggestions.eq(newCursorIndex));\n\n        this._ensureVisible($newCursor);\n      },\n      _ensureVisible: function ensureVisible($el) {\n        var elTop, elBottom, menuScrollTop, menuHeight;\n        elTop = $el.position().top;\n        elBottom = elTop + $el.outerHeight(true);\n        menuScrollTop = this.$menu.scrollTop();\n        menuHeight = this.$menu.height() + parseInt(this.$menu.css("paddingTop"), 10) + parseInt(this.$menu.css("paddingBottom"), 10);\n\n        if (elTop < 0) {\n          this.$menu.scrollTop(menuScrollTop + elTop);\n        } else if (menuHeight < elBottom) {\n          this.$menu.scrollTop(menuScrollTop + (elBottom - menuHeight));\n        }\n      },\n      close: function close() {\n        if (this.isOpen) {\n          this.isOpen = false;\n\n          this._removeCursor();\n\n          this._hide();\n\n          this.trigger("closed");\n        }\n      },\n      open: function open() {\n        if (!this.isOpen) {\n          this.isOpen = true;\n          !this.isEmpty && this._show();\n          this.trigger("opened");\n        }\n      },\n      setLanguageDirection: function setLanguageDirection(dir) {\n        this.$menu.css(dir === "ltr" ? css.ltr : css.rtl);\n      },\n      moveCursorUp: function moveCursorUp() {\n        this._moveCursor(-1);\n      },\n      moveCursorDown: function moveCursorDown() {\n        this._moveCursor(+1);\n      },\n      getDatumForSuggestion: function getDatumForSuggestion($el) {\n        var datum = null;\n\n        if ($el.length) {\n          datum = {\n            raw: Dataset.extractDatum($el),\n            value: Dataset.extractValue($el),\n            datasetName: Dataset.extractDatasetName($el)\n          };\n        }\n\n        return datum;\n      },\n      getDatumForCursor: function getDatumForCursor() {\n        return this.getDatumForSuggestion(this._getCursor().first());\n      },\n      getDatumForTopSuggestion: function getDatumForTopSuggestion() {\n        return this.getDatumForSuggestion(this._getSuggestions().first());\n      },\n      update: function update(query) {\n        _.each(this.datasets, updateDataset);\n\n        function updateDataset(dataset) {\n          dataset.update(query);\n        }\n      },\n      empty: function empty() {\n        _.each(this.datasets, clearDataset);\n\n        this.isEmpty = true;\n\n        function clearDataset(dataset) {\n          dataset.clear();\n        }\n      },\n      isVisible: function isVisible() {\n        return this.isOpen && !this.isEmpty;\n      },\n      destroy: function destroy() {\n        this.$menu.off(".tt");\n        this.$menu = null;\n\n        _.each(this.datasets, destroyDataset);\n\n        function destroyDataset(dataset) {\n          dataset.destroy();\n        }\n      }\n    });\n\n    return Dropdown;\n\n    function initializeDataset(oDataset) {\n      return new Dataset(oDataset);\n    }\n  }();\n\n  var Typeahead = function () {\n    var attrsKey = "ttAttrs";\n\n    function Typeahead(o) {\n      var $menu, $input, $hint;\n      o = o || {};\n\n      if (!o.input) {\n        $.error("missing input");\n      }\n\n      this.isActivated = false;\n      this.autoselect = !!o.autoselect;\n      this.minLength = _.isNumber(o.minLength) ? o.minLength : 1;\n      this.$node = buildDomStructure(o.input, o.withHint);\n      $menu = this.$node.find(".tt-dropdown-menu");\n      $input = this.$node.find(".tt-input");\n      $hint = this.$node.find(".tt-hint");\n      $input.on("blur.tt", function ($e) {\n        var active, isActive, hasActive;\n        active = document.activeElement;\n        isActive = $menu.is(active);\n        hasActive = $menu.has(active).length > 0;\n\n        if (_.isMsie() && (isActive || hasActive)) {\n          $e.preventDefault();\n          $e.stopImmediatePropagation();\n\n          _.defer(function () {\n            $input.focus();\n          });\n        }\n      });\n      $menu.on("mousedown.tt", function ($e) {\n        $e.preventDefault();\n      });\n      this.eventBus = o.eventBus || new EventBus({\n        el: $input\n      });\n      this.dropdown = new Dropdown({\n        menu: $menu,\n        datasets: o.datasets\n      }).onSync("suggestionClicked", this._onSuggestionClicked, this).onSync("cursorMoved", this._onCursorMoved, this).onSync("cursorRemoved", this._onCursorRemoved, this).onSync("opened", this._onOpened, this).onSync("closed", this._onClosed, this).onAsync("datasetRendered", this._onDatasetRendered, this);\n      this.input = new Input({\n        input: $input,\n        hint: $hint\n      }).onSync("focused", this._onFocused, this).onSync("blurred", this._onBlurred, this).onSync("enterKeyed", this._onEnterKeyed, this).onSync("tabKeyed", this._onTabKeyed, this).onSync("escKeyed", this._onEscKeyed, this).onSync("upKeyed", this._onUpKeyed, this).onSync("downKeyed", this._onDownKeyed, this).onSync("leftKeyed", this._onLeftKeyed, this).onSync("rightKeyed", this._onRightKeyed, this).onSync("queryChanged", this._onQueryChanged, this).onSync("whitespaceChanged", this._onWhitespaceChanged, this);\n\n      this._setLanguageDirection();\n    }\n\n    _.mixin(Typeahead.prototype, {\n      _onSuggestionClicked: function onSuggestionClicked(type, $el) {\n        var datum;\n\n        if (datum = this.dropdown.getDatumForSuggestion($el)) {\n          this._select(datum);\n        }\n      },\n      _onCursorMoved: function onCursorMoved() {\n        var datum = this.dropdown.getDatumForCursor();\n        this.input.setInputValue(datum.value, true);\n        this.eventBus.trigger("cursorchanged", datum.raw, datum.datasetName);\n      },\n      _onCursorRemoved: function onCursorRemoved() {\n        this.input.resetInputValue();\n\n        this._updateHint();\n      },\n      _onDatasetRendered: function onDatasetRendered() {\n        this._updateHint();\n      },\n      _onOpened: function onOpened() {\n        this._updateHint();\n\n        this.eventBus.trigger("opened");\n      },\n      _onClosed: function onClosed() {\n        this.input.clearHint();\n        this.eventBus.trigger("closed");\n      },\n      _onFocused: function onFocused() {\n        this.isActivated = true;\n        this.dropdown.open();\n      },\n      _onBlurred: function onBlurred() {\n        this.isActivated = false;\n        this.dropdown.empty();\n        this.dropdown.close();\n      },\n      _onEnterKeyed: function onEnterKeyed(type, $e) {\n        var cursorDatum, topSuggestionDatum;\n        cursorDatum = this.dropdown.getDatumForCursor();\n        topSuggestionDatum = this.dropdown.getDatumForTopSuggestion();\n\n        if (cursorDatum) {\n          this._select(cursorDatum);\n\n          $e.preventDefault();\n        } else if (this.autoselect && topSuggestionDatum) {\n          this._select(topSuggestionDatum);\n\n          $e.preventDefault();\n        }\n      },\n      _onTabKeyed: function onTabKeyed(type, $e) {\n        var datum;\n\n        if (datum = this.dropdown.getDatumForCursor()) {\n          this._select(datum);\n\n          $e.preventDefault();\n        } else {\n          this._autocomplete(true);\n        }\n      },\n      _onEscKeyed: function onEscKeyed() {\n        this.dropdown.close();\n        this.input.resetInputValue();\n      },\n      _onUpKeyed: function onUpKeyed() {\n        var query = this.input.getQuery();\n        this.dropdown.isEmpty && query.length >= this.minLength ? this.dropdown.update(query) : this.dropdown.moveCursorUp();\n        this.dropdown.open();\n      },\n      _onDownKeyed: function onDownKeyed() {\n        var query = this.input.getQuery();\n        this.dropdown.isEmpty && query.length >= this.minLength ? this.dropdown.update(query) : this.dropdown.moveCursorDown();\n        this.dropdown.open();\n      },\n      _onLeftKeyed: function onLeftKeyed() {\n        this.dir === "rtl" && this._autocomplete();\n      },\n      _onRightKeyed: function onRightKeyed() {\n        this.dir === "ltr" && this._autocomplete();\n      },\n      _onQueryChanged: function onQueryChanged(e, query) {\n        this.input.clearHintIfInvalid();\n        query.length >= this.minLength ? this.dropdown.update(query) : this.dropdown.empty();\n        this.dropdown.open();\n\n        this._setLanguageDirection();\n      },\n      _onWhitespaceChanged: function onWhitespaceChanged() {\n        this._updateHint();\n\n        this.dropdown.open();\n      },\n      _setLanguageDirection: function setLanguageDirection() {\n        var dir;\n\n        if (this.dir !== (dir = this.input.getLanguageDirection())) {\n          this.dir = dir;\n          this.$node.css("direction", dir);\n          this.dropdown.setLanguageDirection(dir);\n        }\n      },\n      _updateHint: function updateHint() {\n        var datum, val, query, escapedQuery, frontMatchRegEx, match;\n        datum = this.dropdown.getDatumForTopSuggestion();\n\n        if (datum && this.dropdown.isVisible() && !this.input.hasOverflow()) {\n          val = this.input.getInputValue();\n          query = Input.normalizeQuery(val);\n          escapedQuery = _.escapeRegExChars(query);\n          frontMatchRegEx = new RegExp("^(?:" + escapedQuery + ")(.+$)", "i");\n          match = frontMatchRegEx.exec(datum.value);\n          match ? this.input.setHint(val + match[1]) : this.input.clearHint();\n        } else {\n          this.input.clearHint();\n        }\n      },\n      _autocomplete: function autocomplete(laxCursor) {\n        var hint, query, isCursorAtEnd, datum;\n        hint = this.input.getHint();\n        query = this.input.getQuery();\n        isCursorAtEnd = laxCursor || this.input.isCursorAtEnd();\n\n        if (hint && query !== hint && isCursorAtEnd) {\n          datum = this.dropdown.getDatumForTopSuggestion();\n          datum && this.input.setInputValue(datum.value);\n          this.eventBus.trigger("autocompleted", datum.raw, datum.datasetName);\n        }\n      },\n      _select: function select(datum) {\n        this.input.setQuery(datum.value);\n        this.input.setInputValue(datum.value, true);\n\n        this._setLanguageDirection();\n\n        this.eventBus.trigger("selected", datum.raw, datum.datasetName);\n        this.dropdown.close();\n\n        _.defer(_.bind(this.dropdown.empty, this.dropdown));\n      },\n      open: function open() {\n        this.dropdown.open();\n      },\n      close: function close() {\n        this.dropdown.close();\n      },\n      setVal: function setVal(val) {\n        if (this.isActivated) {\n          this.input.setInputValue(val);\n        } else {\n          this.input.setQuery(val);\n          this.input.setInputValue(val, true);\n        }\n\n        this._setLanguageDirection();\n      },\n      getVal: function getVal() {\n        return this.input.getQuery();\n      },\n      destroy: function destroy() {\n        this.input.destroy();\n        this.dropdown.destroy();\n        destroyDomStructure(this.$node);\n        this.$node = null;\n      }\n    });\n\n    return Typeahead;\n\n    function buildDomStructure(input, withHint) {\n      var $input, $wrapper, $dropdown, $hint;\n      $input = $(input);\n      $wrapper = $(html.wrapper).css(css.wrapper);\n      $dropdown = $(html.dropdown).css(css.dropdown);\n      $hint = $input.clone().css(css.hint).css(getBackgroundStyles($input));\n      $hint.val("").removeData().addClass("tt-hint").removeAttr("id name placeholder").prop("disabled", true).attr({\n        autocomplete: "off",\n        spellcheck: "false"\n      });\n      $input.data(attrsKey, {\n        dir: $input.attr("dir"),\n        autocomplete: $input.attr("autocomplete"),\n        spellcheck: $input.attr("spellcheck"),\n        style: $input.attr("style")\n      });\n      $input.addClass("tt-input").attr({\n        autocomplete: "off",\n        spellcheck: false\n      }).css(withHint ? css.input : css.inputWithNoHint);\n\n      try {\n        !$input.attr("dir") && $input.attr("dir", "auto");\n      } catch (e) {}\n\n      return $input.wrap($wrapper).parent().prepend(withHint ? $hint : null).append($dropdown);\n    }\n\n    function getBackgroundStyles($el) {\n      return {\n        backgroundAttachment: $el.css("background-attachment"),\n        backgroundClip: $el.css("background-clip"),\n        backgroundColor: $el.css("background-color"),\n        backgroundImage: $el.css("background-image"),\n        backgroundOrigin: $el.css("background-origin"),\n        backgroundPosition: $el.css("background-position"),\n        backgroundRepeat: $el.css("background-repeat"),\n        backgroundSize: $el.css("background-size")\n      };\n    }\n\n    function destroyDomStructure($node) {\n      var $input = $node.find(".tt-input");\n\n      _.each($input.data(attrsKey), function (val, key) {\n        _.isUndefined(val) ? $input.removeAttr(key) : $input.attr(key, val);\n      });\n\n      $input.detach().removeData(attrsKey).removeClass("tt-input").insertAfter($node);\n      $node.remove();\n    }\n  }();\n\n  (function () {\n    var old, typeaheadKey, methods;\n    old = $.fn.typeahead;\n    typeaheadKey = "ttTypeahead";\n    methods = {\n      initialize: function initialize(o, datasets) {\n        datasets = _.isArray(datasets) ? datasets : [].slice.call(arguments, 1);\n        o = o || {};\n        return this.each(attach);\n\n        function attach() {\n          var $input = $(this),\n              eventBus,\n              typeahead;\n\n          _.each(datasets, function (d) {\n            d.highlight = !!o.highlight;\n          });\n\n          typeahead = new Typeahead({\n            input: $input,\n            eventBus: eventBus = new EventBus({\n              el: $input\n            }),\n            withHint: _.isUndefined(o.hint) ? true : !!o.hint,\n            minLength: o.minLength,\n            autoselect: o.autoselect,\n            datasets: datasets\n          });\n          $input.data(typeaheadKey, typeahead);\n        }\n      },\n      open: function open() {\n        return this.each(openTypeahead);\n\n        function openTypeahead() {\n          var $input = $(this),\n              typeahead;\n\n          if (typeahead = $input.data(typeaheadKey)) {\n            typeahead.open();\n          }\n        }\n      },\n      close: function close() {\n        return this.each(closeTypeahead);\n\n        function closeTypeahead() {\n          var $input = $(this),\n              typeahead;\n\n          if (typeahead = $input.data(typeaheadKey)) {\n            typeahead.close();\n          }\n        }\n      },\n      val: function val(newVal) {\n        return !arguments.length ? getVal(this.first()) : this.each(setVal);\n\n        function setVal() {\n          var $input = $(this),\n              typeahead;\n\n          if (typeahead = $input.data(typeaheadKey)) {\n            typeahead.setVal(newVal);\n          }\n        }\n\n        function getVal($input) {\n          var typeahead, query;\n\n          if (typeahead = $input.data(typeaheadKey)) {\n            query = typeahead.getVal();\n          }\n\n          return query;\n        }\n      },\n      destroy: function destroy() {\n        return this.each(unattach);\n\n        function unattach() {\n          var $input = $(this),\n              typeahead;\n\n          if (typeahead = $input.data(typeaheadKey)) {\n            typeahead.destroy();\n            $input.removeData(typeaheadKey);\n          }\n        }\n      }\n    };\n\n    $.fn.typeahead = function (method) {\n      if (methods[method]) {\n        return methods[method].apply(this, [].slice.call(arguments, 1));\n      } else {\n        return methods.initialize.apply(this, arguments);\n      }\n    };\n\n    $.fn.typeahead.noConflict = function noConflict() {\n      $.fn.typeahead = old;\n      return this;\n    };\n  })();\n})(window.jQuery);'},40775:n=>{n.exports='/*! LAB.js (LABjs :: Loading And Blocking JavaScript)\n    v2.0.3 (c) Kyle Simpson\n    MIT License\n*/\n(function (o) {\n  var K = o.$LAB,\n      y = "UseLocalXHR",\n      z = "AlwaysPreserveOrder",\n      u = "AllowDuplicates",\n      A = "CacheBust",\n      B = "BasePath",\n      C = /^[^?#]*\\//.exec(location.href)[0],\n      D = /^\\w+\\:\\/\\/\\/?[^\\/]+/.exec(C)[0],\n      i = document.head || document.getElementsByTagName("head"),\n      L = o.opera && Object.prototype.toString.call(o.opera) == "[object Opera]" || "MozAppearance" in document.documentElement.style,\n      q = document.createElement("script"),\n      E = typeof q.preload == "boolean",\n      r = E || q.readyState && q.readyState == "uninitialized",\n      F = !r && q.async === true,\n      M = !r && !F && !L;\n\n  function G(a) {\n    return Object.prototype.toString.call(a) == "[object Function]";\n  }\n\n  function H(a) {\n    return Object.prototype.toString.call(a) == "[object Array]";\n  }\n\n  function N(a, c) {\n    var b = /^\\w+\\:\\/\\//;\n\n    if (/^\\/\\/\\/?/.test(a)) {\n      a = location.protocol + a;\n    } else if (!b.test(a) && a.charAt(0) != "/") {\n      a = (c || "") + a;\n    }\n\n    return b.test(a) ? a : (a.charAt(0) == "/" ? D : C) + a;\n  }\n\n  function s(a, c) {\n    for (var b in a) {\n      if (a.hasOwnProperty(b)) {\n        c[b] = a[b];\n      }\n    }\n\n    return c;\n  }\n\n  function O(a) {\n    var c = false;\n\n    for (var b = 0; b < a.scripts.length; b++) {\n      if (a.scripts[b].ready && a.scripts[b].exec_trigger) {\n        c = true;\n        a.scripts[b].exec_trigger();\n        a.scripts[b].exec_trigger = null;\n      }\n    }\n\n    return c;\n  }\n\n  function t(a, c, b, d) {\n    a.onload = a.onreadystatechange = function () {\n      if (a.readyState && a.readyState != "complete" && a.readyState != "loaded" || c[b]) return;\n      a.onload = a.onreadystatechange = null;\n      d();\n    };\n  }\n\n  function I(a) {\n    a.ready = a.finished = true;\n\n    for (var c = 0; c < a.finished_listeners.length; c++) {\n      a.finished_listeners[c]();\n    }\n\n    a.ready_listeners = [];\n    a.finished_listeners = [];\n  }\n\n  function P(d, f, e, g, h) {\n    setTimeout(function () {\n      var a,\n          c = f.real_src,\n          b;\n\n      if ("item" in i) {\n        if (!i[0]) {\n          setTimeout(arguments.callee, 25);\n          return;\n        }\n\n        i = i[0];\n      }\n\n      a = document.createElement("script");\n      if (f.type) a.type = f.type;\n      if (f.charset) a.charset = f.charset;\n\n      if (h) {\n        if (r) {\n          e.elem = a;\n\n          if (E) {\n            a.preload = true;\n            a.onpreload = g;\n          } else {\n            a.onreadystatechange = function () {\n              if (a.readyState == "loaded") g();\n            };\n          }\n\n          a.src = c;\n        } else if (h && c.indexOf(D) == 0 && d[y]) {\n          b = new XMLHttpRequest();\n\n          b.onreadystatechange = function () {\n            if (b.readyState == 4) {\n              b.onreadystatechange = function () {};\n\n              e.text = b.responseText + "\\n//@ sourceURL=" + c;\n              g();\n            }\n          };\n\n          b.open("GET", c);\n          b.send();\n        } else {\n          a.type = "text/cache-script";\n          t(a, e, "ready", function () {\n            i.removeChild(a);\n            g();\n          });\n          a.src = c;\n          i.insertBefore(a, i.firstChild);\n        }\n      } else if (F) {\n        a.async = false;\n        t(a, e, "finished", g);\n        a.src = c;\n        i.insertBefore(a, i.firstChild);\n      } else {\n        t(a, e, "finished", g);\n        a.src = c;\n        i.insertBefore(a, i.firstChild);\n      }\n    }, 0);\n  }\n\n  function J() {\n    var l = {},\n        Q = r || M,\n        n = [],\n        p = {},\n        m;\n    l[y] = true;\n    l[z] = false;\n    l[u] = false;\n    l[A] = false;\n    l[B] = "";\n\n    function R(a, c, b) {\n      var d;\n\n      function f() {\n        if (d != null) {\n          d = null;\n          I(b);\n        }\n      }\n\n      if (p[c.src].finished) return;\n      if (!a[u]) p[c.src].finished = true;\n      d = b.elem || document.createElement("script");\n      if (c.type) d.type = c.type;\n      if (c.charset) d.charset = c.charset;\n      t(d, b, "finished", f);\n\n      if (b.elem) {\n        b.elem = null;\n      } else if (b.text) {\n        d.onload = d.onreadystatechange = null;\n        d.text = b.text;\n      } else {\n        d.src = c.real_src;\n      }\n\n      i.insertBefore(d, i.firstChild);\n\n      if (b.text) {\n        f();\n      }\n    }\n\n    function S(c, b, d, f) {\n      var e,\n          g,\n          h = function h() {\n        b.ready_cb(b, function () {\n          R(c, b, e);\n        });\n      },\n          j = function j() {\n        b.finished_cb(b, d);\n      };\n\n      b.src = N(b.src, c[B]);\n      b.real_src = b.src + (c[A] ? (/\\?.*$/.test(b.src) ? "&_" : "?_") + ~~(Math.random() * 1E9) + "=" : "");\n      if (!p[b.src]) p[b.src] = {\n        items: [],\n        finished: false\n      };\n      g = p[b.src].items;\n\n      if (c[u] || g.length == 0) {\n        e = g[g.length] = {\n          ready: false,\n          finished: false,\n          ready_listeners: [h],\n          finished_listeners: [j]\n        };\n        P(c, b, e, f ? function () {\n          e.ready = true;\n\n          for (var a = 0; a < e.ready_listeners.length; a++) {\n            e.ready_listeners[a]();\n          }\n\n          e.ready_listeners = [];\n        } : function () {\n          I(e);\n        }, f);\n      } else {\n        e = g[0];\n\n        if (e.finished) {\n          j();\n        } else {\n          e.finished_listeners.push(j);\n        }\n      }\n    }\n\n    function v() {\n      var e,\n          g = s(l, {}),\n          h = [],\n          j = 0,\n          w = false,\n          k;\n\n      function T(a, c) {\n        a.ready = true;\n        a.exec_trigger = c;\n        x();\n      }\n\n      function U(a, c) {\n        a.ready = a.finished = true;\n        a.exec_trigger = null;\n\n        for (var b = 0; b < c.scripts.length; b++) {\n          if (!c.scripts[b].finished) return;\n        }\n\n        c.finished = true;\n        x();\n      }\n\n      function x() {\n        while (j < h.length) {\n          if (G(h[j])) {\n            try {\n              h[j++]();\n            } catch (err) {}\n\n            continue;\n          } else if (!h[j].finished) {\n            if (O(h[j])) continue;\n            break;\n          }\n\n          j++;\n        }\n\n        if (j == h.length) {\n          w = false;\n          k = false;\n        }\n      }\n\n      function V() {\n        if (!k || !k.scripts) {\n          h.push(k = {\n            scripts: [],\n            finished: true\n          });\n        }\n      }\n\n      e = {\n        script: function script() {\n          for (var f = 0; f < arguments.length; f++) {\n            (function (a, c) {\n              var b;\n\n              if (!H(a)) {\n                c = [a];\n              }\n\n              for (var d = 0; d < c.length; d++) {\n                V();\n                a = c[d];\n                if (G(a)) a = a();\n                if (!a) continue;\n\n                if (H(a)) {\n                  b = [].slice.call(a);\n                  b.unshift(d, 1);\n                  [].splice.apply(c, b);\n                  d--;\n                  continue;\n                }\n\n                if (typeof a == "string") a = {\n                  src: a\n                };\n                a = s(a, {\n                  ready: false,\n                  ready_cb: T,\n                  finished: false,\n                  finished_cb: U\n                });\n                k.finished = false;\n                k.scripts.push(a);\n                S(g, a, k, Q && w);\n                w = true;\n                if (g[z]) e.wait();\n              }\n            })(arguments[f], arguments[f]);\n          }\n\n          return e;\n        },\n        wait: function wait() {\n          if (arguments.length > 0) {\n            for (var a = 0; a < arguments.length; a++) {\n              h.push(arguments[a]);\n            }\n\n            k = h[h.length - 1];\n          } else k = false;\n\n          x();\n          return e;\n        }\n      };\n      return {\n        script: e.script,\n        wait: e.wait,\n        setOptions: function setOptions(a) {\n          s(a, g);\n          return e;\n        }\n      };\n    }\n\n    m = {\n      setGlobalDefaults: function setGlobalDefaults(a) {\n        s(a, l);\n        return m;\n      },\n      setOptions: function setOptions() {\n        return v().setOptions.apply(null, arguments);\n      },\n      script: function script() {\n        return v().script.apply(null, arguments);\n      },\n      wait: function wait() {\n        return v().wait.apply(null, arguments);\n      },\n      queueScript: function queueScript() {\n        n[n.length] = {\n          type: "script",\n          args: [].slice.call(arguments)\n        };\n        return m;\n      },\n      queueWait: function queueWait() {\n        n[n.length] = {\n          type: "wait",\n          args: [].slice.call(arguments)\n        };\n        return m;\n      },\n      runQueue: function runQueue() {\n        var a = m,\n            c = n.length,\n            b = c,\n            d;\n\n        for (; --b >= 0;) {\n          d = n.shift();\n          a = a[d.type].apply(null, d.args);\n        }\n\n        return a;\n      },\n      noConflict: function noConflict() {\n        o.$LAB = K;\n        return m;\n      },\n      sandbox: function sandbox() {\n        return J();\n      }\n    };\n    return m;\n  }\n\n  o.$LAB = J();\n\n  (function (a, c, _b) {\n    if (document.readyState == null && document[a]) {\n      document.readyState = "loading";\n      document[a](c, _b = function b() {\n        document.removeEventListener(c, _b, false);\n        document.readyState = "complete";\n      }, false);\n    }\n  })("addEventListener", "DOMContentLoaded");\n})(this);'},52884:n=>{n.exports="/* MediaMatch v.2.0.2 - Testing css media queries in Javascript. Authors & copyright (c) 2013: WebLinc, David Knight. */\nwindow.matchMedia || (window.matchMedia = function (win) {\n  'use strict'; // Internal globals\n\n  var _doc = win.document,\n      _viewport = _doc.documentElement,\n      _queries = [],\n      _queryID = 0,\n      _type = '',\n      _features = {},\n      // only screen\n  // only screen and\n  // not screen\n  // not screen and\n  // screen\n  // screen and\n  _typeExpr = /\\s*(only|not)?\\s*(screen|print|[a-z\\-]+)\\s*(and)?\\s*/i,\n      // (-vendor-min-width: 300px)\n  // (min-width: 300px)\n  // (width: 300px)\n  // (width)\n  // (orientation: portrait|landscape)\n  _mediaExpr = /^\\s*\\(\\s*(-[a-z]+-)?(min-|max-)?([a-z\\-]+)\\s*(:?\\s*([0-9]+(\\.[0-9]+)?|portrait|landscape)(px|em|dppx|dpcm|rem|%|in|cm|mm|ex|pt|pc|\\/([0-9]+(\\.[0-9]+)?))?)?\\s*\\)\\s*$/,\n      _timer = 0,\n      // Helper methods\n\n  /*\n      _matches\n   */\n  _matches = function _matches(media) {\n    // screen and (min-width: 400px), screen and (max-width: 500px)\n    var mql = media.indexOf(',') !== -1 && media.split(',') || [media],\n        mqIndex = mql.length - 1,\n        mqLength = mqIndex,\n        mq = null,\n        // not screen, screen\n    negateType = null,\n        negateTypeFound = '',\n        negateTypeIndex = 0,\n        negate = false,\n        type = '',\n        // (min-width: 400px), (min-width)\n    exprListStr = '',\n        exprList = null,\n        exprIndex = 0,\n        exprLength = 0,\n        expr = null,\n        prefix = '',\n        length = '',\n        unit = '',\n        value = '',\n        feature = '',\n        match = false;\n\n    if (media === '') {\n      return true;\n    }\n\n    do {\n      mq = mql[mqLength - mqIndex];\n      negate = false;\n      negateType = mq.match(_typeExpr);\n\n      if (negateType) {\n        negateTypeFound = negateType[0];\n        negateTypeIndex = negateType.index;\n      }\n\n      if (!negateType || mq.substring(0, negateTypeIndex).indexOf('(') === -1 && (negateTypeIndex || !negateType[3] && negateTypeFound !== negateType.input)) {\n        match = false;\n        continue;\n      }\n\n      exprListStr = mq;\n      negate = negateType[1] === 'not';\n\n      if (!negateTypeIndex) {\n        type = negateType[2];\n        exprListStr = mq.substring(negateTypeFound.length);\n      } // Test media type\n      // Test type against this device or if 'all' or empty ''\n\n\n      match = type === _type || type === 'all' || type === '';\n      exprList = exprListStr.indexOf(' and ') !== -1 && exprListStr.split(' and ') || [exprListStr];\n      exprIndex = exprList.length - 1;\n      exprLength = exprIndex;\n\n      if (match && exprIndex >= 0 && exprListStr !== '') {\n        do {\n          expr = exprList[exprIndex].match(_mediaExpr);\n\n          if (!expr || !_features[expr[3]]) {\n            match = false;\n            break;\n          }\n\n          prefix = expr[2];\n          length = expr[5];\n          value = length;\n          unit = expr[7];\n          feature = _features[expr[3]]; // Convert unit types\n\n          if (unit) {\n            if (unit === 'px') {\n              // If unit is px\n              value = Number(length);\n            } else if (unit === 'em' || unit === 'rem') {\n              // Convert relative length unit to pixels\n              // Assumed base font size is 16px\n              value = 16 * length;\n            } else if (expr[8]) {\n              // Convert aspect ratio to decimal\n              value = (length / expr[8]).toFixed(2);\n            } else if (unit === 'dppx') {\n              // Convert resolution dppx unit to pixels\n              value = length * 96;\n            } else if (unit === 'dpcm') {\n              // Convert resolution dpcm unit to pixels\n              value = length * 0.3937;\n            } else {\n              // default\n              value = Number(length);\n            }\n          } // Test for prefix min or max\n          // Test value against feature\n\n\n          if (prefix === 'min-' && value) {\n            match = feature >= value;\n          } else if (prefix === 'max-' && value) {\n            match = feature <= value;\n          } else if (value) {\n            match = feature === value;\n          } else {\n            match = !!feature;\n          } // If 'match' is false, break loop\n          // Continue main loop through query list\n\n\n          if (!match) {\n            break;\n          }\n        } while (exprIndex--);\n      } // If match is true, break loop\n      // Once matched, no need to check other queries\n\n\n      if (match) {\n        break;\n      }\n    } while (mqIndex--);\n\n    return negate ? !match : match;\n  },\n\n  /*\n      _setFeature\n   */\n  _setFeature = function _setFeature() {\n    // Sets properties of '_features' that change on resize and/or orientation.\n    var w = win.innerWidth || _viewport.clientWidth,\n        h = win.innerHeight || _viewport.clientHeight,\n        dw = win.screen.width,\n        dh = win.screen.height,\n        c = win.screen.colorDepth,\n        x = win.devicePixelRatio;\n    _features.width = w;\n    _features.height = h;\n    _features['aspect-ratio'] = (w / h).toFixed(2);\n    _features['device-width'] = dw;\n    _features['device-height'] = dh;\n    _features['device-aspect-ratio'] = (dw / dh).toFixed(2);\n    _features.color = c;\n    _features['color-index'] = Math.pow(2, c);\n    _features.orientation = h >= w ? 'portrait' : 'landscape';\n    _features.resolution = x && x * 96 || win.screen.deviceXDPI || 96;\n    _features['device-pixel-ratio'] = x || 1;\n  },\n\n  /*\n      _watch\n   */\n  _watch = function _watch() {\n    clearTimeout(_timer);\n    _timer = setTimeout(function () {\n      var query = null,\n          qIndex = _queryID - 1,\n          qLength = qIndex,\n          match = false;\n\n      if (qIndex >= 0) {\n        _setFeature();\n\n        do {\n          query = _queries[qLength - qIndex];\n\n          if (query) {\n            match = _matches(query.mql.media);\n\n            if (match && !query.mql.matches || !match && query.mql.matches) {\n              query.mql.matches = match;\n\n              if (query.listeners) {\n                for (var i = 0, il = query.listeners.length; i < il; i++) {\n                  if (query.listeners[i]) {\n                    query.listeners[i].call(win, query.mql);\n                  }\n                }\n              }\n            }\n          }\n        } while (qIndex--);\n      }\n    }, 10);\n  },\n\n  /*\n      _init\n   */\n  _init = function _init() {\n    var head = _doc.getElementsByTagName('head')[0],\n        style = _doc.createElement('style'),\n        info = null,\n        typeList = ['screen', 'print', 'speech', 'projection', 'handheld', 'tv', 'braille', 'embossed', 'tty'],\n        typeIndex = 0,\n        typeLength = typeList.length,\n        cssText = '#mediamatchjs { position: relative; z-index: 0; }',\n        eventPrefix = '',\n        addEvent = win.addEventListener || (eventPrefix = 'on') && win.attachEvent;\n\n    style.type = 'text/css';\n    style.id = 'mediamatchjs';\n    head.appendChild(style); // Must be placed after style is inserted into the DOM for IE\n\n    info = win.getComputedStyle && win.getComputedStyle(style) || style.currentStyle; // Create media blocks to test for media type\n\n    for (; typeIndex < typeLength; typeIndex++) {\n      cssText += '@media ' + typeList[typeIndex] + ' { #mediamatchjs { position: relative; z-index: ' + typeIndex + ' } }';\n    } // Add rules to style element\n\n\n    if (style.styleSheet) {\n      style.styleSheet.cssText = cssText;\n    } else {\n      style.textContent = cssText;\n    } // Get media type\n\n\n    _type = typeList[info.zIndex * 1 || 0];\n    head.removeChild(style);\n\n    _setFeature(); // Set up listeners\n\n\n    addEvent(eventPrefix + 'resize', _watch);\n    addEvent(eventPrefix + 'orientationchange', _watch);\n  };\n\n  _init();\n  /*\n      A list of parsed media queries, ex. screen and (max-width: 400px), screen and (max-width: 800px)\n  */\n\n\n  return function (media) {\n    var id = _queryID,\n        mql = {\n      matches: false,\n      media: media,\n      addListener: function addListener(listener) {\n        _queries[id].listeners || (_queries[id].listeners = []);\n        listener && _queries[id].listeners.push(listener);\n      },\n      removeListener: function removeListener(listener) {\n        var query = _queries[id],\n            i = 0,\n            il = 0;\n\n        if (!query) {\n          return;\n        }\n\n        il = query.listeners.length;\n\n        for (; i < il; i++) {\n          if (query.listeners[i] === listener) {\n            query.listeners.splice(i, 1);\n          }\n        }\n      }\n    };\n\n    if (media === '') {\n      mql.matches = true;\n      return mql;\n    }\n\n    mql.matches = _matches(media);\n    _queryID = _queries.push({\n      mql: mql,\n      listeners: null\n    });\n    return mql;\n  };\n}(window));"},77416:n=>{n.exports='function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }\n\n//2.29.4\n!function (e, t) {\n  "object" == (typeof exports === "undefined" ? "undefined" : _typeof(exports)) && "undefined" != typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define(t) : e.moment = t();\n}(this, function () {\n  "use strict";\n\n  var H;\n\n  function f() {\n    return H.apply(null, arguments);\n  }\n\n  function a(e) {\n    return e instanceof Array || "[object Array]" === Object.prototype.toString.call(e);\n  }\n\n  function F(e) {\n    return null != e && "[object Object]" === Object.prototype.toString.call(e);\n  }\n\n  function c(e, t) {\n    return Object.prototype.hasOwnProperty.call(e, t);\n  }\n\n  function L(e) {\n    if (Object.getOwnPropertyNames) return 0 === Object.getOwnPropertyNames(e).length;\n\n    for (var t in e) {\n      if (c(e, t)) return;\n    }\n\n    return 1;\n  }\n\n  function o(e) {\n    return void 0 === e;\n  }\n\n  function u(e) {\n    return "number" == typeof e || "[object Number]" === Object.prototype.toString.call(e);\n  }\n\n  function V(e) {\n    return e instanceof Date || "[object Date]" === Object.prototype.toString.call(e);\n  }\n\n  function G(e, t) {\n    for (var n = [], s = e.length, i = 0; i < s; ++i) {\n      n.push(t(e[i], i));\n    }\n\n    return n;\n  }\n\n  function E(e, t) {\n    for (var n in t) {\n      c(t, n) && (e[n] = t[n]);\n    }\n\n    return c(t, "toString") && (e.toString = t.toString), c(t, "valueOf") && (e.valueOf = t.valueOf), e;\n  }\n\n  function l(e, t, n, s) {\n    return Pt(e, t, n, s, !0).utc();\n  }\n\n  function m(e) {\n    return null == e._pf && (e._pf = {\n      empty: !1,\n      unusedTokens: [],\n      unusedInput: [],\n      overflow: -2,\n      charsLeftOver: 0,\n      nullInput: !1,\n      invalidEra: null,\n      invalidMonth: null,\n      invalidFormat: !1,\n      userInvalidated: !1,\n      iso: !1,\n      parsedDateParts: [],\n      era: null,\n      meridiem: null,\n      rfc2822: !1,\n      weekdayMismatch: !1\n    }), e._pf;\n  }\n\n  function A(e) {\n    if (null == e._isValid) {\n      var t = m(e),\n          n = j.call(t.parsedDateParts, function (e) {\n        return null != e;\n      }),\n          n = !isNaN(e._d.getTime()) && t.overflow < 0 && !t.empty && !t.invalidEra && !t.invalidMonth && !t.invalidWeekday && !t.weekdayMismatch && !t.nullInput && !t.invalidFormat && !t.userInvalidated && (!t.meridiem || t.meridiem && n);\n      if (e._strict && (n = n && 0 === t.charsLeftOver && 0 === t.unusedTokens.length && void 0 === t.bigHour), null != Object.isFrozen && Object.isFrozen(e)) return n;\n      e._isValid = n;\n    }\n\n    return e._isValid;\n  }\n\n  function I(e) {\n    var t = l(NaN);\n    return null != e ? E(m(t), e) : m(t).userInvalidated = !0, t;\n  }\n\n  var j = Array.prototype.some || function (e) {\n    for (var t = Object(this), n = t.length >>> 0, s = 0; s < n; s++) {\n      if (s in t && e.call(this, t[s], s, t)) return !0;\n    }\n\n    return !1;\n  },\n      Z = f.momentProperties = [],\n      z = !1;\n\n  function $(e, t) {\n    var n,\n        s,\n        i,\n        r = Z.length;\n    if (o(t._isAMomentObject) || (e._isAMomentObject = t._isAMomentObject), o(t._i) || (e._i = t._i), o(t._f) || (e._f = t._f), o(t._l) || (e._l = t._l), o(t._strict) || (e._strict = t._strict), o(t._tzm) || (e._tzm = t._tzm), o(t._isUTC) || (e._isUTC = t._isUTC), o(t._offset) || (e._offset = t._offset), o(t._pf) || (e._pf = m(t)), o(t._locale) || (e._locale = t._locale), 0 < r) for (n = 0; n < r; n++) {\n      o(i = t[s = Z[n]]) || (e[s] = i);\n    }\n    return e;\n  }\n\n  function q(e) {\n    $(this, e), this._d = new Date(null != e._d ? e._d.getTime() : NaN), this.isValid() || (this._d = new Date(NaN)), !1 === z && (z = !0, f.updateOffset(this), z = !1);\n  }\n\n  function h(e) {\n    return e instanceof q || null != e && null != e._isAMomentObject;\n  }\n\n  function B(e) {\n    !1 === f.suppressDeprecationWarnings && "undefined" != typeof console && console.warn && console.warn("Deprecation warning: " + e);\n  }\n\n  function e(r, a) {\n    var o = !0;\n    return E(function () {\n      if (null != f.deprecationHandler && f.deprecationHandler(null, r), o) {\n        for (var e, t, n = [], s = arguments.length, i = 0; i < s; i++) {\n          if (e = "", "object" == _typeof(arguments[i])) {\n            for (t in e += "\\n[" + i + "] ", arguments[0]) {\n              c(arguments[0], t) && (e += t + ": " + arguments[0][t] + ", ");\n            }\n\n            e = e.slice(0, -2);\n          } else e = arguments[i];\n\n          n.push(e);\n        }\n\n        B(r + "\\nArguments: " + Array.prototype.slice.call(n).join("") + "\\n" + new Error().stack), o = !1;\n      }\n\n      return a.apply(this, arguments);\n    }, a);\n  }\n\n  var J = {};\n\n  function Q(e, t) {\n    null != f.deprecationHandler && f.deprecationHandler(e, t), J[e] || (B(t), J[e] = !0);\n  }\n\n  function d(e) {\n    return "undefined" != typeof Function && e instanceof Function || "[object Function]" === Object.prototype.toString.call(e);\n  }\n\n  function X(e, t) {\n    var n,\n        s = E({}, e);\n\n    for (n in t) {\n      c(t, n) && (F(e[n]) && F(t[n]) ? (s[n] = {}, E(s[n], e[n]), E(s[n], t[n])) : null != t[n] ? s[n] = t[n] : delete s[n]);\n    }\n\n    for (n in e) {\n      c(e, n) && !c(t, n) && F(e[n]) && (s[n] = E({}, s[n]));\n    }\n\n    return s;\n  }\n\n  function K(e) {\n    null != e && this.set(e);\n  }\n\n  f.suppressDeprecationWarnings = !1, f.deprecationHandler = null;\n\n  var ee = Object.keys || function (e) {\n    var t,\n        n = [];\n\n    for (t in e) {\n      c(e, t) && n.push(t);\n    }\n\n    return n;\n  };\n\n  function r(e, t, n) {\n    var s = "" + Math.abs(e);\n    return (0 <= e ? n ? "+" : "" : "-") + Math.pow(10, Math.max(0, t - s.length)).toString().substr(1) + s;\n  }\n\n  var te = /(\\[[^\\[]*\\])|(\\\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,\n      ne = /(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g,\n      se = {},\n      ie = {};\n\n  function s(e, t, n, s) {\n    var i = "string" == typeof s ? function () {\n      return this[s]();\n    } : s;\n    e && (ie[e] = i), t && (ie[t[0]] = function () {\n      return r(i.apply(this, arguments), t[1], t[2]);\n    }), n && (ie[n] = function () {\n      return this.localeData().ordinal(i.apply(this, arguments), e);\n    });\n  }\n\n  function re(e, t) {\n    return e.isValid() ? (t = ae(t, e.localeData()), se[t] = se[t] || function (s) {\n      for (var e, i = s.match(te), t = 0, r = i.length; t < r; t++) {\n        ie[i[t]] ? i[t] = ie[i[t]] : i[t] = (e = i[t]).match(/\\[[\\s\\S]/) ? e.replace(/^\\[|\\]$/g, "") : e.replace(/\\\\/g, "");\n      }\n\n      return function (e) {\n        for (var t = "", n = 0; n < r; n++) {\n          t += d(i[n]) ? i[n].call(e, s) : i[n];\n        }\n\n        return t;\n      };\n    }(t), se[t](e)) : e.localeData().invalidDate();\n  }\n\n  function ae(e, t) {\n    var n = 5;\n\n    function s(e) {\n      return t.longDateFormat(e) || e;\n    }\n\n    for (ne.lastIndex = 0; 0 <= n && ne.test(e);) {\n      e = e.replace(ne, s), ne.lastIndex = 0, --n;\n    }\n\n    return e;\n  }\n\n  var oe = {};\n\n  function t(e, t) {\n    var n = e.toLowerCase();\n    oe[n] = oe[n + "s"] = oe[t] = e;\n  }\n\n  function _(e) {\n    return "string" == typeof e ? oe[e] || oe[e.toLowerCase()] : void 0;\n  }\n\n  function ue(e) {\n    var t,\n        n,\n        s = {};\n\n    for (n in e) {\n      c(e, n) && (t = _(n)) && (s[t] = e[n]);\n    }\n\n    return s;\n  }\n\n  var le = {};\n\n  function n(e, t) {\n    le[e] = t;\n  }\n\n  function he(e) {\n    return e % 4 == 0 && e % 100 != 0 || e % 400 == 0;\n  }\n\n  function y(e) {\n    return e < 0 ? Math.ceil(e) || 0 : Math.floor(e);\n  }\n\n  function g(e) {\n    var e = +e,\n        t = 0;\n    return t = 0 != e && isFinite(e) ? y(e) : t;\n  }\n\n  function de(t, n) {\n    return function (e) {\n      return null != e ? (fe(this, t, e), f.updateOffset(this, n), this) : ce(this, t);\n    };\n  }\n\n  function ce(e, t) {\n    return e.isValid() ? e._d["get" + (e._isUTC ? "UTC" : "") + t]() : NaN;\n  }\n\n  function fe(e, t, n) {\n    e.isValid() && !isNaN(n) && ("FullYear" === t && he(e.year()) && 1 === e.month() && 29 === e.date() ? (n = g(n), e._d["set" + (e._isUTC ? "UTC" : "") + t](n, e.month(), We(n, e.month()))) : e._d["set" + (e._isUTC ? "UTC" : "") + t](n));\n  }\n\n  var i = /\\d/,\n      w = /\\d\\d/,\n      me = /\\d{3}/,\n      _e = /\\d{4}/,\n      ye = /[+-]?\\d{6}/,\n      p = /\\d\\d?/,\n      ge = /\\d\\d\\d\\d?/,\n      we = /\\d\\d\\d\\d\\d\\d?/,\n      pe = /\\d{1,3}/,\n      ve = /\\d{1,4}/,\n      ke = /[+-]?\\d{1,6}/,\n      Me = /\\d+/,\n      De = /[+-]?\\d+/,\n      Se = /Z|[+-]\\d\\d:?\\d\\d/gi,\n      Ye = /Z|[+-]\\d\\d(?::?\\d\\d)?/gi,\n      v = /[0-9]{0,256}[\'a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFF07\\uFF10-\\uFFEF]{1,256}|[\\u0600-\\u06FF\\/]{1,256}(\\s*?[\\u0600-\\u06FF]{1,256}){1,2}/i;\n\n  function k(e, n, s) {\n    be[e] = d(n) ? n : function (e, t) {\n      return e && s ? s : n;\n    };\n  }\n\n  function Oe(e, t) {\n    return c(be, e) ? be[e](t._strict, t._locale) : new RegExp(M(e.replace("\\\\", "").replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g, function (e, t, n, s, i) {\n      return t || n || s || i;\n    })));\n  }\n\n  function M(e) {\n    return e.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, "\\\\$&");\n  }\n\n  var be = {},\n      xe = {};\n\n  function D(e, n) {\n    var t,\n        s,\n        i = n;\n\n    for ("string" == typeof e && (e = [e]), u(n) && (i = function i(e, t) {\n      t[n] = g(e);\n    }), s = e.length, t = 0; t < s; t++) {\n      xe[e[t]] = i;\n    }\n  }\n\n  function Te(e, i) {\n    D(e, function (e, t, n, s) {\n      n._w = n._w || {}, i(e, n._w, n, s);\n    });\n  }\n\n  var S,\n      Y = 0,\n      O = 1,\n      b = 2,\n      x = 3,\n      T = 4,\n      N = 5,\n      Ne = 6,\n      Pe = 7,\n      Re = 8;\n\n  function We(e, t) {\n    if (isNaN(e) || isNaN(t)) return NaN;\n    var n = (t % (n = 12) + n) % n;\n    return e += (t - n) / 12, 1 == n ? he(e) ? 29 : 28 : 31 - n % 7 % 2;\n  }\n\n  S = Array.prototype.indexOf || function (e) {\n    for (var t = 0; t < this.length; ++t) {\n      if (this[t] === e) return t;\n    }\n\n    return -1;\n  }, s("M", ["MM", 2], "Mo", function () {\n    return this.month() + 1;\n  }), s("MMM", 0, 0, function (e) {\n    return this.localeData().monthsShort(this, e);\n  }), s("MMMM", 0, 0, function (e) {\n    return this.localeData().months(this, e);\n  }), t("month", "M"), n("month", 8), k("M", p), k("MM", p, w), k("MMM", function (e, t) {\n    return t.monthsShortRegex(e);\n  }), k("MMMM", function (e, t) {\n    return t.monthsRegex(e);\n  }), D(["M", "MM"], function (e, t) {\n    t[O] = g(e) - 1;\n  }), D(["MMM", "MMMM"], function (e, t, n, s) {\n    s = n._locale.monthsParse(e, s, n._strict);\n    null != s ? t[O] = s : m(n).invalidMonth = e;\n  });\n  var Ce = "January_February_March_April_May_June_July_August_September_October_November_December".split("_"),\n      Ue = "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),\n      He = /D[oD]?(\\[[^\\[\\]]*\\]|\\s)+MMMM?/,\n      Fe = v,\n      Le = v;\n\n  function Ve(e, t) {\n    var n;\n\n    if (e.isValid()) {\n      if ("string" == typeof t) if (/^\\d+$/.test(t)) t = g(t);else if (!u(t = e.localeData().monthsParse(t))) return;\n      n = Math.min(e.date(), We(e.year(), t)), e._d["set" + (e._isUTC ? "UTC" : "") + "Month"](t, n);\n    }\n  }\n\n  function Ge(e) {\n    return null != e ? (Ve(this, e), f.updateOffset(this, !0), this) : ce(this, "Month");\n  }\n\n  function Ee() {\n    function e(e, t) {\n      return t.length - e.length;\n    }\n\n    for (var t, n = [], s = [], i = [], r = 0; r < 12; r++) {\n      t = l([2e3, r]), n.push(this.monthsShort(t, "")), s.push(this.months(t, "")), i.push(this.months(t, "")), i.push(this.monthsShort(t, ""));\n    }\n\n    for (n.sort(e), s.sort(e), i.sort(e), r = 0; r < 12; r++) {\n      n[r] = M(n[r]), s[r] = M(s[r]);\n    }\n\n    for (r = 0; r < 24; r++) {\n      i[r] = M(i[r]);\n    }\n\n    this._monthsRegex = new RegExp("^(" + i.join("|") + ")", "i"), this._monthsShortRegex = this._monthsRegex, this._monthsStrictRegex = new RegExp("^(" + s.join("|") + ")", "i"), this._monthsShortStrictRegex = new RegExp("^(" + n.join("|") + ")", "i");\n  }\n\n  function Ae(e) {\n    return he(e) ? 366 : 365;\n  }\n\n  s("Y", 0, 0, function () {\n    var e = this.year();\n    return e <= 9999 ? r(e, 4) : "+" + e;\n  }), s(0, ["YY", 2], 0, function () {\n    return this.year() % 100;\n  }), s(0, ["YYYY", 4], 0, "year"), s(0, ["YYYYY", 5], 0, "year"), s(0, ["YYYYYY", 6, !0], 0, "year"), t("year", "y"), n("year", 1), k("Y", De), k("YY", p, w), k("YYYY", ve, _e), k("YYYYY", ke, ye), k("YYYYYY", ke, ye), D(["YYYYY", "YYYYYY"], Y), D("YYYY", function (e, t) {\n    t[Y] = 2 === e.length ? f.parseTwoDigitYear(e) : g(e);\n  }), D("YY", function (e, t) {\n    t[Y] = f.parseTwoDigitYear(e);\n  }), D("Y", function (e, t) {\n    t[Y] = parseInt(e, 10);\n  }), f.parseTwoDigitYear = function (e) {\n    return g(e) + (68 < g(e) ? 1900 : 2e3);\n  };\n  var Ie = de("FullYear", !0);\n\n  function je(e, t, n, s, i, r, a) {\n    var o;\n    return e < 100 && 0 <= e ? (o = new Date(e + 400, t, n, s, i, r, a), isFinite(o.getFullYear()) && o.setFullYear(e)) : o = new Date(e, t, n, s, i, r, a), o;\n  }\n\n  function Ze(e) {\n    var t;\n    return e < 100 && 0 <= e ? ((t = Array.prototype.slice.call(arguments))[0] = e + 400, t = new Date(Date.UTC.apply(null, t)), isFinite(t.getUTCFullYear()) && t.setUTCFullYear(e)) : t = new Date(Date.UTC.apply(null, arguments)), t;\n  }\n\n  function ze(e, t, n) {\n    n = 7 + t - n;\n    return n - (7 + Ze(e, 0, n).getUTCDay() - t) % 7 - 1;\n  }\n\n  function $e(e, t, n, s, i) {\n    var r,\n        t = 1 + 7 * (t - 1) + (7 + n - s) % 7 + ze(e, s, i),\n        n = t <= 0 ? Ae(r = e - 1) + t : t > Ae(e) ? (r = e + 1, t - Ae(e)) : (r = e, t);\n    return {\n      year: r,\n      dayOfYear: n\n    };\n  }\n\n  function qe(e, t, n) {\n    var s,\n        i,\n        r = ze(e.year(), t, n),\n        r = Math.floor((e.dayOfYear() - r - 1) / 7) + 1;\n    return r < 1 ? s = r + P(i = e.year() - 1, t, n) : r > P(e.year(), t, n) ? (s = r - P(e.year(), t, n), i = e.year() + 1) : (i = e.year(), s = r), {\n      week: s,\n      year: i\n    };\n  }\n\n  function P(e, t, n) {\n    var s = ze(e, t, n),\n        t = ze(e + 1, t, n);\n    return (Ae(e) - s + t) / 7;\n  }\n\n  s("w", ["ww", 2], "wo", "week"), s("W", ["WW", 2], "Wo", "isoWeek"), t("week", "w"), t("isoWeek", "W"), n("week", 5), n("isoWeek", 5), k("w", p), k("ww", p, w), k("W", p), k("WW", p, w), Te(["w", "ww", "W", "WW"], function (e, t, n, s) {\n    t[s.substr(0, 1)] = g(e);\n  });\n\n  function Be(e, t) {\n    return e.slice(t, 7).concat(e.slice(0, t));\n  }\n\n  s("d", 0, "do", "day"), s("dd", 0, 0, function (e) {\n    return this.localeData().weekdaysMin(this, e);\n  }), s("ddd", 0, 0, function (e) {\n    return this.localeData().weekdaysShort(this, e);\n  }), s("dddd", 0, 0, function (e) {\n    return this.localeData().weekdays(this, e);\n  }), s("e", 0, 0, "weekday"), s("E", 0, 0, "isoWeekday"), t("day", "d"), t("weekday", "e"), t("isoWeekday", "E"), n("day", 11), n("weekday", 11), n("isoWeekday", 11), k("d", p), k("e", p), k("E", p), k("dd", function (e, t) {\n    return t.weekdaysMinRegex(e);\n  }), k("ddd", function (e, t) {\n    return t.weekdaysShortRegex(e);\n  }), k("dddd", function (e, t) {\n    return t.weekdaysRegex(e);\n  }), Te(["dd", "ddd", "dddd"], function (e, t, n, s) {\n    s = n._locale.weekdaysParse(e, s, n._strict);\n    null != s ? t.d = s : m(n).invalidWeekday = e;\n  }), Te(["d", "e", "E"], function (e, t, n, s) {\n    t[s] = g(e);\n  });\n  var Je = "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),\n      Qe = "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),\n      Xe = "Su_Mo_Tu_We_Th_Fr_Sa".split("_"),\n      Ke = v,\n      et = v,\n      tt = v;\n\n  function nt() {\n    function e(e, t) {\n      return t.length - e.length;\n    }\n\n    for (var t, n, s, i = [], r = [], a = [], o = [], u = 0; u < 7; u++) {\n      s = l([2e3, 1]).day(u), t = M(this.weekdaysMin(s, "")), n = M(this.weekdaysShort(s, "")), s = M(this.weekdays(s, "")), i.push(t), r.push(n), a.push(s), o.push(t), o.push(n), o.push(s);\n    }\n\n    i.sort(e), r.sort(e), a.sort(e), o.sort(e), this._weekdaysRegex = new RegExp("^(" + o.join("|") + ")", "i"), this._weekdaysShortRegex = this._weekdaysRegex, this._weekdaysMinRegex = this._weekdaysRegex, this._weekdaysStrictRegex = new RegExp("^(" + a.join("|") + ")", "i"), this._weekdaysShortStrictRegex = new RegExp("^(" + r.join("|") + ")", "i"), this._weekdaysMinStrictRegex = new RegExp("^(" + i.join("|") + ")", "i");\n  }\n\n  function st() {\n    return this.hours() % 12 || 12;\n  }\n\n  function it(e, t) {\n    s(e, 0, 0, function () {\n      return this.localeData().meridiem(this.hours(), this.minutes(), t);\n    });\n  }\n\n  function rt(e, t) {\n    return t._meridiemParse;\n  }\n\n  s("H", ["HH", 2], 0, "hour"), s("h", ["hh", 2], 0, st), s("k", ["kk", 2], 0, function () {\n    return this.hours() || 24;\n  }), s("hmm", 0, 0, function () {\n    return "" + st.apply(this) + r(this.minutes(), 2);\n  }), s("hmmss", 0, 0, function () {\n    return "" + st.apply(this) + r(this.minutes(), 2) + r(this.seconds(), 2);\n  }), s("Hmm", 0, 0, function () {\n    return "" + this.hours() + r(this.minutes(), 2);\n  }), s("Hmmss", 0, 0, function () {\n    return "" + this.hours() + r(this.minutes(), 2) + r(this.seconds(), 2);\n  }), it("a", !0), it("A", !1), t("hour", "h"), n("hour", 13), k("a", rt), k("A", rt), k("H", p), k("h", p), k("k", p), k("HH", p, w), k("hh", p, w), k("kk", p, w), k("hmm", ge), k("hmmss", we), k("Hmm", ge), k("Hmmss", we), D(["H", "HH"], x), D(["k", "kk"], function (e, t, n) {\n    e = g(e);\n    t[x] = 24 === e ? 0 : e;\n  }), D(["a", "A"], function (e, t, n) {\n    n._isPm = n._locale.isPM(e), n._meridiem = e;\n  }), D(["h", "hh"], function (e, t, n) {\n    t[x] = g(e), m(n).bigHour = !0;\n  }), D("hmm", function (e, t, n) {\n    var s = e.length - 2;\n    t[x] = g(e.substr(0, s)), t[T] = g(e.substr(s)), m(n).bigHour = !0;\n  }), D("hmmss", function (e, t, n) {\n    var s = e.length - 4,\n        i = e.length - 2;\n    t[x] = g(e.substr(0, s)), t[T] = g(e.substr(s, 2)), t[N] = g(e.substr(i)), m(n).bigHour = !0;\n  }), D("Hmm", function (e, t, n) {\n    var s = e.length - 2;\n    t[x] = g(e.substr(0, s)), t[T] = g(e.substr(s));\n  }), D("Hmmss", function (e, t, n) {\n    var s = e.length - 4,\n        i = e.length - 2;\n    t[x] = g(e.substr(0, s)), t[T] = g(e.substr(s, 2)), t[N] = g(e.substr(i));\n  });\n  v = de("Hours", !0);\n  var at,\n      ot = {\n    calendar: {\n      sameDay: "[Today at] LT",\n      nextDay: "[Tomorrow at] LT",\n      nextWeek: "dddd [at] LT",\n      lastDay: "[Yesterday at] LT",\n      lastWeek: "[Last] dddd [at] LT",\n      sameElse: "L"\n    },\n    longDateFormat: {\n      LTS: "h:mm:ss A",\n      LT: "h:mm A",\n      L: "MM/DD/YYYY",\n      LL: "MMMM D, YYYY",\n      LLL: "MMMM D, YYYY h:mm A",\n      LLLL: "dddd, MMMM D, YYYY h:mm A"\n    },\n    invalidDate: "Invalid date",\n    ordinal: "%d",\n    dayOfMonthOrdinalParse: /\\d{1,2}/,\n    relativeTime: {\n      future: "in %s",\n      past: "%s ago",\n      s: "a few seconds",\n      ss: "%d seconds",\n      m: "a minute",\n      mm: "%d minutes",\n      h: "an hour",\n      hh: "%d hours",\n      d: "a day",\n      dd: "%d days",\n      w: "a week",\n      ww: "%d weeks",\n      M: "a month",\n      MM: "%d months",\n      y: "a year",\n      yy: "%d years"\n    },\n    months: Ce,\n    monthsShort: Ue,\n    week: {\n      dow: 0,\n      doy: 6\n    },\n    weekdays: Je,\n    weekdaysMin: Xe,\n    weekdaysShort: Qe,\n    meridiemParse: /[ap]\\.?m?\\.?/i\n  },\n      R = {},\n      ut = {};\n\n  function lt(e) {\n    return e && e.toLowerCase().replace("_", "-");\n  }\n\n  function ht(e) {\n    for (var t, n, s, i, r = 0; r < e.length;) {\n      for (t = (i = lt(e[r]).split("-")).length, n = (n = lt(e[r + 1])) ? n.split("-") : null; 0 < t;) {\n        if (s = dt(i.slice(0, t).join("-"))) return s;\n        if (n && n.length >= t && function (e, t) {\n          for (var n = Math.min(e.length, t.length), s = 0; s < n; s += 1) {\n            if (e[s] !== t[s]) return s;\n          }\n\n          return n;\n        }(i, n) >= t - 1) break;\n        t--;\n      }\n\n      r++;\n    }\n\n    return at;\n  }\n\n  function dt(t) {\n    var e;\n    if (void 0 === R[t] && "undefined" != typeof module && module && module.exports && null != t.match("^[^/\\\\\\\\]*$")) try {\n      e = at._abbr, require("./locale/" + t), ct(e);\n    } catch (e) {\n      R[t] = null;\n    }\n    return R[t];\n  }\n\n  function ct(e, t) {\n    return e && ((t = o(t) ? mt(e) : ft(e, t)) ? at = t : "undefined" != typeof console && console.warn && console.warn("Locale " + e + " not found. Did you forget to load it?")), at._abbr;\n  }\n\n  function ft(e, t) {\n    if (null === t) return delete R[e], null;\n    var n,\n        s = ot;\n    if (t.abbr = e, null != R[e]) Q("defineLocaleOverride", "use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."), s = R[e]._config;else if (null != t.parentLocale) if (null != R[t.parentLocale]) s = R[t.parentLocale]._config;else {\n      if (null == (n = dt(t.parentLocale))) return ut[t.parentLocale] || (ut[t.parentLocale] = []), ut[t.parentLocale].push({\n        name: e,\n        config: t\n      }), null;\n      s = n._config;\n    }\n    return R[e] = new K(X(s, t)), ut[e] && ut[e].forEach(function (e) {\n      ft(e.name, e.config);\n    }), ct(e), R[e];\n  }\n\n  function mt(e) {\n    var t;\n    if (!(e = e && e._locale && e._locale._abbr ? e._locale._abbr : e)) return at;\n\n    if (!a(e)) {\n      if (t = dt(e)) return t;\n      e = [e];\n    }\n\n    return ht(e);\n  }\n\n  function _t(e) {\n    var t = e._a;\n    return t && -2 === m(e).overflow && (t = t[O] < 0 || 11 < t[O] ? O : t[b] < 1 || t[b] > We(t[Y], t[O]) ? b : t[x] < 0 || 24 < t[x] || 24 === t[x] && (0 !== t[T] || 0 !== t[N] || 0 !== t[Ne]) ? x : t[T] < 0 || 59 < t[T] ? T : t[N] < 0 || 59 < t[N] ? N : t[Ne] < 0 || 999 < t[Ne] ? Ne : -1, m(e)._overflowDayOfYear && (t < Y || b < t) && (t = b), m(e)._overflowWeeks && -1 === t && (t = Pe), m(e)._overflowWeekday && -1 === t && (t = Re), m(e).overflow = t), e;\n  }\n\n  var yt = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([+-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,\n      gt = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d|))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([+-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,\n      wt = /Z|[+-]\\d\\d(?::?\\d\\d)?/,\n      pt = [["YYYYYY-MM-DD", /[+-]\\d{6}-\\d\\d-\\d\\d/], ["YYYY-MM-DD", /\\d{4}-\\d\\d-\\d\\d/], ["GGGG-[W]WW-E", /\\d{4}-W\\d\\d-\\d/], ["GGGG-[W]WW", /\\d{4}-W\\d\\d/, !1], ["YYYY-DDD", /\\d{4}-\\d{3}/], ["YYYY-MM", /\\d{4}-\\d\\d/, !1], ["YYYYYYMMDD", /[+-]\\d{10}/], ["YYYYMMDD", /\\d{8}/], ["GGGG[W]WWE", /\\d{4}W\\d{3}/], ["GGGG[W]WW", /\\d{4}W\\d{2}/, !1], ["YYYYDDD", /\\d{7}/], ["YYYYMM", /\\d{6}/, !1], ["YYYY", /\\d{4}/, !1]],\n      vt = [["HH:mm:ss.SSSS", /\\d\\d:\\d\\d:\\d\\d\\.\\d+/], ["HH:mm:ss,SSSS", /\\d\\d:\\d\\d:\\d\\d,\\d+/], ["HH:mm:ss", /\\d\\d:\\d\\d:\\d\\d/], ["HH:mm", /\\d\\d:\\d\\d/], ["HHmmss.SSSS", /\\d\\d\\d\\d\\d\\d\\.\\d+/], ["HHmmss,SSSS", /\\d\\d\\d\\d\\d\\d,\\d+/], ["HHmmss", /\\d\\d\\d\\d\\d\\d/], ["HHmm", /\\d\\d\\d\\d/], ["HH", /\\d\\d/]],\n      kt = /^\\/?Date\\((-?\\d+)/i,\n      Mt = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\\d{4}))$/,\n      Dt = {\n    UT: 0,\n    GMT: 0,\n    EDT: -240,\n    EST: -300,\n    CDT: -300,\n    CST: -360,\n    MDT: -360,\n    MST: -420,\n    PDT: -420,\n    PST: -480\n  };\n\n  function St(e) {\n    var t,\n        n,\n        s,\n        i,\n        r,\n        a,\n        o = e._i,\n        u = yt.exec(o) || gt.exec(o),\n        o = pt.length,\n        l = vt.length;\n\n    if (u) {\n      for (m(e).iso = !0, t = 0, n = o; t < n; t++) {\n        if (pt[t][1].exec(u[1])) {\n          i = pt[t][0], s = !1 !== pt[t][2];\n          break;\n        }\n      }\n\n      if (null == i) e._isValid = !1;else {\n        if (u[3]) {\n          for (t = 0, n = l; t < n; t++) {\n            if (vt[t][1].exec(u[3])) {\n              r = (u[2] || " ") + vt[t][0];\n              break;\n            }\n          }\n\n          if (null == r) return void (e._isValid = !1);\n        }\n\n        if (s || null == r) {\n          if (u[4]) {\n            if (!wt.exec(u[4])) return void (e._isValid = !1);\n            a = "Z";\n          }\n\n          e._f = i + (r || "") + (a || ""), Tt(e);\n        } else e._isValid = !1;\n      }\n    } else e._isValid = !1;\n  }\n\n  function Yt(e, t, n, s, i, r) {\n    e = [function (e) {\n      e = parseInt(e, 10);\n      {\n        if (e <= 49) return 2e3 + e;\n        if (e <= 999) return 1900 + e;\n      }\n      return e;\n    }(e), Ue.indexOf(t), parseInt(n, 10), parseInt(s, 10), parseInt(i, 10)];\n    return r && e.push(parseInt(r, 10)), e;\n  }\n\n  function Ot(e) {\n    var t,\n        n,\n        s,\n        i,\n        r = Mt.exec(e._i.replace(/\\([^()]*\\)|[\\n\\t]/g, " ").replace(/(\\s\\s+)/g, " ").replace(/^\\s\\s*/, "").replace(/\\s\\s*$/, ""));\n    r ? (t = Yt(r[4], r[3], r[2], r[5], r[6], r[7]), n = r[1], s = t, i = e, n && Qe.indexOf(n) !== new Date(s[0], s[1], s[2]).getDay() ? (m(i).weekdayMismatch = !0, i._isValid = !1) : (e._a = t, e._tzm = (n = r[8], s = r[9], i = r[10], n ? Dt[n] : s ? 0 : 60 * (((n = parseInt(i, 10)) - (s = n % 100)) / 100) + s), e._d = Ze.apply(null, e._a), e._d.setUTCMinutes(e._d.getUTCMinutes() - e._tzm), m(e).rfc2822 = !0)) : e._isValid = !1;\n  }\n\n  function bt(e, t, n) {\n    return null != e ? e : null != t ? t : n;\n  }\n\n  function xt(e) {\n    var t,\n        n,\n        s,\n        i,\n        r,\n        a,\n        o,\n        u,\n        l,\n        h,\n        d,\n        c = [];\n\n    if (!e._d) {\n      for (s = e, i = new Date(f.now()), n = s._useUTC ? [i.getUTCFullYear(), i.getUTCMonth(), i.getUTCDate()] : [i.getFullYear(), i.getMonth(), i.getDate()], e._w && null == e._a[b] && null == e._a[O] && (null != (i = (s = e)._w).GG || null != i.W || null != i.E ? (u = 1, l = 4, r = bt(i.GG, s._a[Y], qe(W(), 1, 4).year), a = bt(i.W, 1), ((o = bt(i.E, 1)) < 1 || 7 < o) && (h = !0)) : (u = s._locale._week.dow, l = s._locale._week.doy, d = qe(W(), u, l), r = bt(i.gg, s._a[Y], d.year), a = bt(i.w, d.week), null != i.d ? ((o = i.d) < 0 || 6 < o) && (h = !0) : null != i.e ? (o = i.e + u, (i.e < 0 || 6 < i.e) && (h = !0)) : o = u), a < 1 || a > P(r, u, l) ? m(s)._overflowWeeks = !0 : null != h ? m(s)._overflowWeekday = !0 : (d = $e(r, a, o, u, l), s._a[Y] = d.year, s._dayOfYear = d.dayOfYear)), null != e._dayOfYear && (i = bt(e._a[Y], n[Y]), (e._dayOfYear > Ae(i) || 0 === e._dayOfYear) && (m(e)._overflowDayOfYear = !0), h = Ze(i, 0, e._dayOfYear), e._a[O] = h.getUTCMonth(), e._a[b] = h.getUTCDate()), t = 0; t < 3 && null == e._a[t]; ++t) {\n        e._a[t] = c[t] = n[t];\n      }\n\n      for (; t < 7; t++) {\n        e._a[t] = c[t] = null == e._a[t] ? 2 === t ? 1 : 0 : e._a[t];\n      }\n\n      24 === e._a[x] && 0 === e._a[T] && 0 === e._a[N] && 0 === e._a[Ne] && (e._nextDay = !0, e._a[x] = 0), e._d = (e._useUTC ? Ze : je).apply(null, c), r = e._useUTC ? e._d.getUTCDay() : e._d.getDay(), null != e._tzm && e._d.setUTCMinutes(e._d.getUTCMinutes() - e._tzm), e._nextDay && (e._a[x] = 24), e._w && void 0 !== e._w.d && e._w.d !== r && (m(e).weekdayMismatch = !0);\n    }\n  }\n\n  function Tt(e) {\n    if (e._f === f.ISO_8601) St(e);else if (e._f === f.RFC_2822) Ot(e);else {\n      e._a = [], m(e).empty = !0;\n\n      for (var t, n, s, i, r, a = "" + e._i, o = a.length, u = 0, l = ae(e._f, e._locale).match(te) || [], h = l.length, d = 0; d < h; d++) {\n        n = l[d], (t = (a.match(Oe(n, e)) || [])[0]) && (0 < (s = a.substr(0, a.indexOf(t))).length && m(e).unusedInput.push(s), a = a.slice(a.indexOf(t) + t.length), u += t.length), ie[n] ? (t ? m(e).empty = !1 : m(e).unusedTokens.push(n), s = n, r = e, null != (i = t) && c(xe, s) && xe[s](i, r._a, r, s)) : e._strict && !t && m(e).unusedTokens.push(n);\n      }\n\n      m(e).charsLeftOver = o - u, 0 < a.length && m(e).unusedInput.push(a), e._a[x] <= 12 && !0 === m(e).bigHour && 0 < e._a[x] && (m(e).bigHour = void 0), m(e).parsedDateParts = e._a.slice(0), m(e).meridiem = e._meridiem, e._a[x] = function (e, t, n) {\n        if (null == n) return t;\n        return null != e.meridiemHour ? e.meridiemHour(t, n) : null != e.isPM ? ((e = e.isPM(n)) && t < 12 && (t += 12), t = e || 12 !== t ? t : 0) : t;\n      }(e._locale, e._a[x], e._meridiem), null !== (o = m(e).era) && (e._a[Y] = e._locale.erasConvertYear(o, e._a[Y])), xt(e), _t(e);\n    }\n  }\n\n  function Nt(e) {\n    var t,\n        n,\n        s,\n        i = e._i,\n        r = e._f;\n    if (e._locale = e._locale || mt(e._l), null === i || void 0 === r && "" === i) return I({\n      nullInput: !0\n    });\n    if ("string" == typeof i && (e._i = i = e._locale.preparse(i)), h(i)) return new q(_t(i));\n    if (V(i)) e._d = i;else if (a(r)) !function (e) {\n      var t,\n          n,\n          s,\n          i,\n          r,\n          a,\n          o = !1,\n          u = e._f.length;\n      if (0 === u) return m(e).invalidFormat = !0, e._d = new Date(NaN);\n\n      for (i = 0; i < u; i++) {\n        r = 0, a = !1, t = $({}, e), null != e._useUTC && (t._useUTC = e._useUTC), t._f = e._f[i], Tt(t), A(t) && (a = !0), r = (r += m(t).charsLeftOver) + 10 * m(t).unusedTokens.length, m(t).score = r, o ? r < s && (s = r, n = t) : (null == s || r < s || a) && (s = r, n = t, a && (o = !0));\n      }\n\n      E(e, n || t);\n    }(e);else if (r) Tt(e);else if (o(r = (i = e)._i)) i._d = new Date(f.now());else V(r) ? i._d = new Date(r.valueOf()) : "string" == typeof r ? (n = i, null !== (t = kt.exec(n._i)) ? n._d = new Date(+t[1]) : (St(n), !1 === n._isValid && (delete n._isValid, Ot(n), !1 === n._isValid && (delete n._isValid, n._strict ? n._isValid = !1 : f.createFromInputFallback(n))))) : a(r) ? (i._a = G(r.slice(0), function (e) {\n      return parseInt(e, 10);\n    }), xt(i)) : F(r) ? (t = i)._d || (s = void 0 === (n = ue(t._i)).day ? n.date : n.day, t._a = G([n.year, n.month, s, n.hour, n.minute, n.second, n.millisecond], function (e) {\n      return e && parseInt(e, 10);\n    }), xt(t)) : u(r) ? i._d = new Date(r) : f.createFromInputFallback(i);\n    return A(e) || (e._d = null), e;\n  }\n\n  function Pt(e, t, n, s, i) {\n    var r = {};\n    return !0 !== t && !1 !== t || (s = t, t = void 0), !0 !== n && !1 !== n || (s = n, n = void 0), (F(e) && L(e) || a(e) && 0 === e.length) && (e = void 0), r._isAMomentObject = !0, r._useUTC = r._isUTC = i, r._l = n, r._i = e, r._f = t, r._strict = s, (i = new q(_t(Nt(i = r))))._nextDay && (i.add(1, "d"), i._nextDay = void 0), i;\n  }\n\n  function W(e, t, n, s) {\n    return Pt(e, t, n, s, !1);\n  }\n\n  f.createFromInputFallback = e("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.", function (e) {\n    e._d = new Date(e._i + (e._useUTC ? " UTC" : ""));\n  }), f.ISO_8601 = function () {}, f.RFC_2822 = function () {};\n  ge = e("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/", function () {\n    var e = W.apply(null, arguments);\n    return this.isValid() && e.isValid() ? e < this ? this : e : I();\n  }), we = e("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/", function () {\n    var e = W.apply(null, arguments);\n    return this.isValid() && e.isValid() ? this < e ? this : e : I();\n  });\n\n  function Rt(e, t) {\n    var n, s;\n    if (!(t = 1 === t.length && a(t[0]) ? t[0] : t).length) return W();\n\n    for (n = t[0], s = 1; s < t.length; ++s) {\n      t[s].isValid() && !t[s][e](n) || (n = t[s]);\n    }\n\n    return n;\n  }\n\n  var Wt = ["year", "quarter", "month", "week", "day", "hour", "minute", "second", "millisecond"];\n\n  function Ct(e) {\n    var e = ue(e),\n        t = e.year || 0,\n        n = e.quarter || 0,\n        s = e.month || 0,\n        i = e.week || e.isoWeek || 0,\n        r = e.day || 0,\n        a = e.hour || 0,\n        o = e.minute || 0,\n        u = e.second || 0,\n        l = e.millisecond || 0;\n    this._isValid = function (e) {\n      var t,\n          n,\n          s = !1,\n          i = Wt.length;\n\n      for (t in e) {\n        if (c(e, t) && (-1 === S.call(Wt, t) || null != e[t] && isNaN(e[t]))) return !1;\n      }\n\n      for (n = 0; n < i; ++n) {\n        if (e[Wt[n]]) {\n          if (s) return !1;\n          parseFloat(e[Wt[n]]) !== g(e[Wt[n]]) && (s = !0);\n        }\n      }\n\n      return !0;\n    }(e), this._milliseconds = +l + 1e3 * u + 6e4 * o + 1e3 * a * 60 * 60, this._days = +r + 7 * i, this._months = +s + 3 * n + 12 * t, this._data = {}, this._locale = mt(), this._bubble();\n  }\n\n  function Ut(e) {\n    return e instanceof Ct;\n  }\n\n  function Ht(e) {\n    return e < 0 ? -1 * Math.round(-1 * e) : Math.round(e);\n  }\n\n  function Ft(e, n) {\n    s(e, 0, 0, function () {\n      var e = this.utcOffset(),\n          t = "+";\n      return e < 0 && (e = -e, t = "-"), t + r(~~(e / 60), 2) + n + r(~~e % 60, 2);\n    });\n  }\n\n  Ft("Z", ":"), Ft("ZZ", ""), k("Z", Ye), k("ZZ", Ye), D(["Z", "ZZ"], function (e, t, n) {\n    n._useUTC = !0, n._tzm = Vt(Ye, e);\n  });\n  var Lt = /([\\+\\-]|\\d\\d)/gi;\n\n  function Vt(e, t) {\n    var t = (t || "").match(e);\n    return null === t ? null : 0 === (t = 60 * (e = ((t[t.length - 1] || []) + "").match(Lt) || ["-", 0, 0])[1] + g(e[2])) ? 0 : "+" === e[0] ? t : -t;\n  }\n\n  function Gt(e, t) {\n    var n;\n    return t._isUTC ? (t = t.clone(), n = (h(e) || V(e) ? e : W(e)).valueOf() - t.valueOf(), t._d.setTime(t._d.valueOf() + n), f.updateOffset(t, !1), t) : W(e).local();\n  }\n\n  function Et(e) {\n    return -Math.round(e._d.getTimezoneOffset());\n  }\n\n  function At() {\n    return !!this.isValid() && this._isUTC && 0 === this._offset;\n  }\n\n  f.updateOffset = function () {};\n\n  var It = /^(-|\\+)?(?:(\\d*)[. ])?(\\d+):(\\d+)(?::(\\d+)(\\.\\d*)?)?$/,\n      jt = /^(-|\\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;\n\n  function C(e, t) {\n    var n,\n        s = e,\n        i = null;\n    return Ut(e) ? s = {\n      ms: e._milliseconds,\n      d: e._days,\n      M: e._months\n    } : u(e) || !isNaN(+e) ? (s = {}, t ? s[t] = +e : s.milliseconds = +e) : (i = It.exec(e)) ? (n = "-" === i[1] ? -1 : 1, s = {\n      y: 0,\n      d: g(i[b]) * n,\n      h: g(i[x]) * n,\n      m: g(i[T]) * n,\n      s: g(i[N]) * n,\n      ms: g(Ht(1e3 * i[Ne])) * n\n    }) : (i = jt.exec(e)) ? (n = "-" === i[1] ? -1 : 1, s = {\n      y: Zt(i[2], n),\n      M: Zt(i[3], n),\n      w: Zt(i[4], n),\n      d: Zt(i[5], n),\n      h: Zt(i[6], n),\n      m: Zt(i[7], n),\n      s: Zt(i[8], n)\n    }) : null == s ? s = {} : "object" == _typeof(s) && ("from" in s || "to" in s) && (t = function (e, t) {\n      var n;\n      if (!e.isValid() || !t.isValid()) return {\n        milliseconds: 0,\n        months: 0\n      };\n      t = Gt(t, e), e.isBefore(t) ? n = zt(e, t) : ((n = zt(t, e)).milliseconds = -n.milliseconds, n.months = -n.months);\n      return n;\n    }(W(s.from), W(s.to)), (s = {}).ms = t.milliseconds, s.M = t.months), i = new Ct(s), Ut(e) && c(e, "_locale") && (i._locale = e._locale), Ut(e) && c(e, "_isValid") && (i._isValid = e._isValid), i;\n  }\n\n  function Zt(e, t) {\n    e = e && parseFloat(e.replace(",", "."));\n    return (isNaN(e) ? 0 : e) * t;\n  }\n\n  function zt(e, t) {\n    var n = {};\n    return n.months = t.month() - e.month() + 12 * (t.year() - e.year()), e.clone().add(n.months, "M").isAfter(t) && --n.months, n.milliseconds = +t - +e.clone().add(n.months, "M"), n;\n  }\n\n  function $t(s, i) {\n    return function (e, t) {\n      var n;\n      return null === t || isNaN(+t) || (Q(i, "moment()." + i + "(period, number) is deprecated. Please use moment()." + i + "(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."), n = e, e = t, t = n), qt(this, C(e, t), s), this;\n    };\n  }\n\n  function qt(e, t, n, s) {\n    var i = t._milliseconds,\n        r = Ht(t._days),\n        t = Ht(t._months);\n    e.isValid() && (s = null == s || s, t && Ve(e, ce(e, "Month") + t * n), r && fe(e, "Date", ce(e, "Date") + r * n), i && e._d.setTime(e._d.valueOf() + i * n), s && f.updateOffset(e, r || t));\n  }\n\n  C.fn = Ct.prototype, C.invalid = function () {\n    return C(NaN);\n  };\n  Ce = $t(1, "add"), Je = $t(-1, "subtract");\n\n  function Bt(e) {\n    return "string" == typeof e || e instanceof String;\n  }\n\n  function Jt(e) {\n    return h(e) || V(e) || Bt(e) || u(e) || function (t) {\n      var e = a(t),\n          n = !1;\n      e && (n = 0 === t.filter(function (e) {\n        return !u(e) && Bt(t);\n      }).length);\n      return e && n;\n    }(e) || function (e) {\n      var t,\n          n,\n          s = F(e) && !L(e),\n          i = !1,\n          r = ["years", "year", "y", "months", "month", "M", "days", "day", "d", "dates", "date", "D", "hours", "hour", "h", "minutes", "minute", "m", "seconds", "second", "s", "milliseconds", "millisecond", "ms"],\n          a = r.length;\n\n      for (t = 0; t < a; t += 1) {\n        n = r[t], i = i || c(e, n);\n      }\n\n      return s && i;\n    }(e) || null == e;\n  }\n\n  function Qt(e, t) {\n    if (e.date() < t.date()) return -Qt(t, e);\n    var n = 12 * (t.year() - e.year()) + (t.month() - e.month()),\n        s = e.clone().add(n, "months"),\n        t = t - s < 0 ? (t - s) / (s - e.clone().add(n - 1, "months")) : (t - s) / (e.clone().add(1 + n, "months") - s);\n    return -(n + t) || 0;\n  }\n\n  function Xt(e) {\n    return void 0 === e ? this._locale._abbr : (null != (e = mt(e)) && (this._locale = e), this);\n  }\n\n  f.defaultFormat = "YYYY-MM-DDTHH:mm:ssZ", f.defaultFormatUtc = "YYYY-MM-DDTHH:mm:ss[Z]";\n  Xe = e("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.", function (e) {\n    return void 0 === e ? this.localeData() : this.locale(e);\n  });\n\n  function Kt() {\n    return this._locale;\n  }\n\n  var en = 126227808e5;\n\n  function tn(e, t) {\n    return (e % t + t) % t;\n  }\n\n  function nn(e, t, n) {\n    return e < 100 && 0 <= e ? new Date(e + 400, t, n) - en : new Date(e, t, n).valueOf();\n  }\n\n  function sn(e, t, n) {\n    return e < 100 && 0 <= e ? Date.UTC(e + 400, t, n) - en : Date.UTC(e, t, n);\n  }\n\n  function rn(e, t) {\n    return t.erasAbbrRegex(e);\n  }\n\n  function an() {\n    for (var e = [], t = [], n = [], s = [], i = this.eras(), r = 0, a = i.length; r < a; ++r) {\n      t.push(M(i[r].name)), e.push(M(i[r].abbr)), n.push(M(i[r].narrow)), s.push(M(i[r].name)), s.push(M(i[r].abbr)), s.push(M(i[r].narrow));\n    }\n\n    this._erasRegex = new RegExp("^(" + s.join("|") + ")", "i"), this._erasNameRegex = new RegExp("^(" + t.join("|") + ")", "i"), this._erasAbbrRegex = new RegExp("^(" + e.join("|") + ")", "i"), this._erasNarrowRegex = new RegExp("^(" + n.join("|") + ")", "i");\n  }\n\n  function on(e, t) {\n    s(0, [e, e.length], 0, t);\n  }\n\n  function un(e, t, n, s, i) {\n    var r;\n    return null == e ? qe(this, s, i).year : (r = P(e, s, i), function (e, t, n, s, i) {\n      e = $e(e, t, n, s, i), t = Ze(e.year, 0, e.dayOfYear);\n      return this.year(t.getUTCFullYear()), this.month(t.getUTCMonth()), this.date(t.getUTCDate()), this;\n    }.call(this, e, t = r < t ? r : t, n, s, i));\n  }\n\n  s("N", 0, 0, "eraAbbr"), s("NN", 0, 0, "eraAbbr"), s("NNN", 0, 0, "eraAbbr"), s("NNNN", 0, 0, "eraName"), s("NNNNN", 0, 0, "eraNarrow"), s("y", ["y", 1], "yo", "eraYear"), s("y", ["yy", 2], 0, "eraYear"), s("y", ["yyy", 3], 0, "eraYear"), s("y", ["yyyy", 4], 0, "eraYear"), k("N", rn), k("NN", rn), k("NNN", rn), k("NNNN", function (e, t) {\n    return t.erasNameRegex(e);\n  }), k("NNNNN", function (e, t) {\n    return t.erasNarrowRegex(e);\n  }), D(["N", "NN", "NNN", "NNNN", "NNNNN"], function (e, t, n, s) {\n    s = n._locale.erasParse(e, s, n._strict);\n    s ? m(n).era = s : m(n).invalidEra = e;\n  }), k("y", Me), k("yy", Me), k("yyy", Me), k("yyyy", Me), k("yo", function (e, t) {\n    return t._eraYearOrdinalRegex || Me;\n  }), D(["y", "yy", "yyy", "yyyy"], Y), D(["yo"], function (e, t, n, s) {\n    var i;\n    n._locale._eraYearOrdinalRegex && (i = e.match(n._locale._eraYearOrdinalRegex)), n._locale.eraYearOrdinalParse ? t[Y] = n._locale.eraYearOrdinalParse(e, i) : t[Y] = parseInt(e, 10);\n  }), s(0, ["gg", 2], 0, function () {\n    return this.weekYear() % 100;\n  }), s(0, ["GG", 2], 0, function () {\n    return this.isoWeekYear() % 100;\n  }), on("gggg", "weekYear"), on("ggggg", "weekYear"), on("GGGG", "isoWeekYear"), on("GGGGG", "isoWeekYear"), t("weekYear", "gg"), t("isoWeekYear", "GG"), n("weekYear", 1), n("isoWeekYear", 1), k("G", De), k("g", De), k("GG", p, w), k("gg", p, w), k("GGGG", ve, _e), k("gggg", ve, _e), k("GGGGG", ke, ye), k("ggggg", ke, ye), Te(["gggg", "ggggg", "GGGG", "GGGGG"], function (e, t, n, s) {\n    t[s.substr(0, 2)] = g(e);\n  }), Te(["gg", "GG"], function (e, t, n, s) {\n    t[s] = f.parseTwoDigitYear(e);\n  }), s("Q", 0, "Qo", "quarter"), t("quarter", "Q"), n("quarter", 7), k("Q", i), D("Q", function (e, t) {\n    t[O] = 3 * (g(e) - 1);\n  }), s("D", ["DD", 2], "Do", "date"), t("date", "D"), n("date", 9), k("D", p), k("DD", p, w), k("Do", function (e, t) {\n    return e ? t._dayOfMonthOrdinalParse || t._ordinalParse : t._dayOfMonthOrdinalParseLenient;\n  }), D(["D", "DD"], b), D("Do", function (e, t) {\n    t[b] = g(e.match(p)[0]);\n  });\n  ve = de("Date", !0);\n  s("DDD", ["DDDD", 3], "DDDo", "dayOfYear"), t("dayOfYear", "DDD"), n("dayOfYear", 4), k("DDD", pe), k("DDDD", me), D(["DDD", "DDDD"], function (e, t, n) {\n    n._dayOfYear = g(e);\n  }), s("m", ["mm", 2], 0, "minute"), t("minute", "m"), n("minute", 14), k("m", p), k("mm", p, w), D(["m", "mm"], T);\n\n  var ln,\n      _e = de("Minutes", !1),\n      ke = (s("s", ["ss", 2], 0, "second"), t("second", "s"), n("second", 15), k("s", p), k("ss", p, w), D(["s", "ss"], N), de("Seconds", !1));\n\n  for (s("S", 0, 0, function () {\n    return ~~(this.millisecond() / 100);\n  }), s(0, ["SS", 2], 0, function () {\n    return ~~(this.millisecond() / 10);\n  }), s(0, ["SSS", 3], 0, "millisecond"), s(0, ["SSSS", 4], 0, function () {\n    return 10 * this.millisecond();\n  }), s(0, ["SSSSS", 5], 0, function () {\n    return 100 * this.millisecond();\n  }), s(0, ["SSSSSS", 6], 0, function () {\n    return 1e3 * this.millisecond();\n  }), s(0, ["SSSSSSS", 7], 0, function () {\n    return 1e4 * this.millisecond();\n  }), s(0, ["SSSSSSSS", 8], 0, function () {\n    return 1e5 * this.millisecond();\n  }), s(0, ["SSSSSSSSS", 9], 0, function () {\n    return 1e6 * this.millisecond();\n  }), t("millisecond", "ms"), n("millisecond", 16), k("S", pe, i), k("SS", pe, w), k("SSS", pe, me), ln = "SSSS"; ln.length <= 9; ln += "S") {\n    k(ln, Me);\n  }\n\n  function hn(e, t) {\n    t[Ne] = g(1e3 * ("0." + e));\n  }\n\n  for (ln = "S"; ln.length <= 9; ln += "S") {\n    D(ln, hn);\n  }\n\n  ye = de("Milliseconds", !1), s("z", 0, 0, "zoneAbbr"), s("zz", 0, 0, "zoneName");\n  i = q.prototype;\n\n  function dn(e) {\n    return e;\n  }\n\n  i.add = Ce, i.calendar = function (e, t) {\n    1 === arguments.length && (arguments[0] ? Jt(arguments[0]) ? (e = arguments[0], t = void 0) : function (e) {\n      for (var t = F(e) && !L(e), n = !1, s = ["sameDay", "nextDay", "lastDay", "nextWeek", "lastWeek", "sameElse"], i = 0; i < s.length; i += 1) {\n        n = n || c(e, s[i]);\n      }\n\n      return t && n;\n    }(arguments[0]) && (t = arguments[0], e = void 0) : t = e = void 0);\n    var e = e || W(),\n        n = Gt(e, this).startOf("day"),\n        n = f.calendarFormat(this, n) || "sameElse",\n        t = t && (d(t[n]) ? t[n].call(this, e) : t[n]);\n    return this.format(t || this.localeData().calendar(n, this, W(e)));\n  }, i.clone = function () {\n    return new q(this);\n  }, i.diff = function (e, t, n) {\n    var s, i, r;\n    if (!this.isValid()) return NaN;\n    if (!(s = Gt(e, this)).isValid()) return NaN;\n\n    switch (i = 6e4 * (s.utcOffset() - this.utcOffset()), t = _(t)) {\n      case "year":\n        r = Qt(this, s) / 12;\n        break;\n\n      case "month":\n        r = Qt(this, s);\n        break;\n\n      case "quarter":\n        r = Qt(this, s) / 3;\n        break;\n\n      case "second":\n        r = (this - s) / 1e3;\n        break;\n\n      case "minute":\n        r = (this - s) / 6e4;\n        break;\n\n      case "hour":\n        r = (this - s) / 36e5;\n        break;\n\n      case "day":\n        r = (this - s - i) / 864e5;\n        break;\n\n      case "week":\n        r = (this - s - i) / 6048e5;\n        break;\n\n      default:\n        r = this - s;\n    }\n\n    return n ? r : y(r);\n  }, i.endOf = function (e) {\n    var t, n;\n    if (void 0 === (e = _(e)) || "millisecond" === e || !this.isValid()) return this;\n\n    switch (n = this._isUTC ? sn : nn, e) {\n      case "year":\n        t = n(this.year() + 1, 0, 1) - 1;\n        break;\n\n      case "quarter":\n        t = n(this.year(), this.month() - this.month() % 3 + 3, 1) - 1;\n        break;\n\n      case "month":\n        t = n(this.year(), this.month() + 1, 1) - 1;\n        break;\n\n      case "week":\n        t = n(this.year(), this.month(), this.date() - this.weekday() + 7) - 1;\n        break;\n\n      case "isoWeek":\n        t = n(this.year(), this.month(), this.date() - (this.isoWeekday() - 1) + 7) - 1;\n        break;\n\n      case "day":\n      case "date":\n        t = n(this.year(), this.month(), this.date() + 1) - 1;\n        break;\n\n      case "hour":\n        t = this._d.valueOf(), t += 36e5 - tn(t + (this._isUTC ? 0 : 6e4 * this.utcOffset()), 36e5) - 1;\n        break;\n\n      case "minute":\n        t = this._d.valueOf(), t += 6e4 - tn(t, 6e4) - 1;\n        break;\n\n      case "second":\n        t = this._d.valueOf(), t += 1e3 - tn(t, 1e3) - 1;\n    }\n\n    return this._d.setTime(t), f.updateOffset(this, !0), this;\n  }, i.format = function (e) {\n    return e = e || (this.isUtc() ? f.defaultFormatUtc : f.defaultFormat), e = re(this, e), this.localeData().postformat(e);\n  }, i.from = function (e, t) {\n    return this.isValid() && (h(e) && e.isValid() || W(e).isValid()) ? C({\n      to: this,\n      from: e\n    }).locale(this.locale()).humanize(!t) : this.localeData().invalidDate();\n  }, i.fromNow = function (e) {\n    return this.from(W(), e);\n  }, i.to = function (e, t) {\n    return this.isValid() && (h(e) && e.isValid() || W(e).isValid()) ? C({\n      from: this,\n      to: e\n    }).locale(this.locale()).humanize(!t) : this.localeData().invalidDate();\n  }, i.toNow = function (e) {\n    return this.to(W(), e);\n  }, i.get = function (e) {\n    return d(this[e = _(e)]) ? this[e]() : this;\n  }, i.invalidAt = function () {\n    return m(this).overflow;\n  }, i.isAfter = function (e, t) {\n    return e = h(e) ? e : W(e), !(!this.isValid() || !e.isValid()) && ("millisecond" === (t = _(t) || "millisecond") ? this.valueOf() > e.valueOf() : e.valueOf() < this.clone().startOf(t).valueOf());\n  }, i.isBefore = function (e, t) {\n    return e = h(e) ? e : W(e), !(!this.isValid() || !e.isValid()) && ("millisecond" === (t = _(t) || "millisecond") ? this.valueOf() < e.valueOf() : this.clone().endOf(t).valueOf() < e.valueOf());\n  }, i.isBetween = function (e, t, n, s) {\n    return e = h(e) ? e : W(e), t = h(t) ? t : W(t), !!(this.isValid() && e.isValid() && t.isValid()) && ("(" === (s = s || "()")[0] ? this.isAfter(e, n) : !this.isBefore(e, n)) && (")" === s[1] ? this.isBefore(t, n) : !this.isAfter(t, n));\n  }, i.isSame = function (e, t) {\n    var e = h(e) ? e : W(e);\n    return !(!this.isValid() || !e.isValid()) && ("millisecond" === (t = _(t) || "millisecond") ? this.valueOf() === e.valueOf() : (e = e.valueOf(), this.clone().startOf(t).valueOf() <= e && e <= this.clone().endOf(t).valueOf()));\n  }, i.isSameOrAfter = function (e, t) {\n    return this.isSame(e, t) || this.isAfter(e, t);\n  }, i.isSameOrBefore = function (e, t) {\n    return this.isSame(e, t) || this.isBefore(e, t);\n  }, i.isValid = function () {\n    return A(this);\n  }, i.lang = Xe, i.locale = Xt, i.localeData = Kt, i.max = we, i.min = ge, i.parsingFlags = function () {\n    return E({}, m(this));\n  }, i.set = function (e, t) {\n    if ("object" == _typeof(e)) for (var n = function (e) {\n      var t,\n          n = [];\n\n      for (t in e) {\n        c(e, t) && n.push({\n          unit: t,\n          priority: le[t]\n        });\n      }\n\n      return n.sort(function (e, t) {\n        return e.priority - t.priority;\n      }), n;\n    }(e = ue(e)), s = n.length, i = 0; i < s; i++) {\n      this[n[i].unit](e[n[i].unit]);\n    } else if (d(this[e = _(e)])) return this[e](t);\n    return this;\n  }, i.startOf = function (e) {\n    var t, n;\n    if (void 0 === (e = _(e)) || "millisecond" === e || !this.isValid()) return this;\n\n    switch (n = this._isUTC ? sn : nn, e) {\n      case "year":\n        t = n(this.year(), 0, 1);\n        break;\n\n      case "quarter":\n        t = n(this.year(), this.month() - this.month() % 3, 1);\n        break;\n\n      case "month":\n        t = n(this.year(), this.month(), 1);\n        break;\n\n      case "week":\n        t = n(this.year(), this.month(), this.date() - this.weekday());\n        break;\n\n      case "isoWeek":\n        t = n(this.year(), this.month(), this.date() - (this.isoWeekday() - 1));\n        break;\n\n      case "day":\n      case "date":\n        t = n(this.year(), this.month(), this.date());\n        break;\n\n      case "hour":\n        t = this._d.valueOf(), t -= tn(t + (this._isUTC ? 0 : 6e4 * this.utcOffset()), 36e5);\n        break;\n\n      case "minute":\n        t = this._d.valueOf(), t -= tn(t, 6e4);\n        break;\n\n      case "second":\n        t = this._d.valueOf(), t -= tn(t, 1e3);\n    }\n\n    return this._d.setTime(t), f.updateOffset(this, !0), this;\n  }, i.subtract = Je, i.toArray = function () {\n    var e = this;\n    return [e.year(), e.month(), e.date(), e.hour(), e.minute(), e.second(), e.millisecond()];\n  }, i.toObject = function () {\n    var e = this;\n    return {\n      years: e.year(),\n      months: e.month(),\n      date: e.date(),\n      hours: e.hours(),\n      minutes: e.minutes(),\n      seconds: e.seconds(),\n      milliseconds: e.milliseconds()\n    };\n  }, i.toDate = function () {\n    return new Date(this.valueOf());\n  }, i.toISOString = function (e) {\n    if (!this.isValid()) return null;\n    var t = (e = !0 !== e) ? this.clone().utc() : this;\n    return t.year() < 0 || 9999 < t.year() ? re(t, e ? "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]" : "YYYYYY-MM-DD[T]HH:mm:ss.SSSZ") : d(Date.prototype.toISOString) ? e ? this.toDate().toISOString() : new Date(this.valueOf() + 60 * this.utcOffset() * 1e3).toISOString().replace("Z", re(t, "Z")) : re(t, e ? "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]" : "YYYY-MM-DD[T]HH:mm:ss.SSSZ");\n  }, i.inspect = function () {\n    if (!this.isValid()) return "moment.invalid(/* " + this._i + " */)";\n    var e,\n        t = "moment",\n        n = "";\n    return this.isLocal() || (t = 0 === this.utcOffset() ? "moment.utc" : "moment.parseZone", n = "Z"), t = "[" + t + \'("]\', e = 0 <= this.year() && this.year() <= 9999 ? "YYYY" : "YYYYYY", this.format(t + e + "-MM-DD[T]HH:mm:ss.SSS" + (n + \'[")]\'));\n  }, "undefined" != typeof Symbol && null != Symbol["for"] && (i[Symbol["for"]("nodejs.util.inspect.custom")] = function () {\n    return "Moment<" + this.format() + ">";\n  }), i.toJSON = function () {\n    return this.isValid() ? this.toISOString() : null;\n  }, i.toString = function () {\n    return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ");\n  }, i.unix = function () {\n    return Math.floor(this.valueOf() / 1e3);\n  }, i.valueOf = function () {\n    return this._d.valueOf() - 6e4 * (this._offset || 0);\n  }, i.creationData = function () {\n    return {\n      input: this._i,\n      format: this._f,\n      locale: this._locale,\n      isUTC: this._isUTC,\n      strict: this._strict\n    };\n  }, i.eraName = function () {\n    for (var e, t = this.localeData().eras(), n = 0, s = t.length; n < s; ++n) {\n      if (e = this.clone().startOf("day").valueOf(), t[n].since <= e && e <= t[n].until) return t[n].name;\n      if (t[n].until <= e && e <= t[n].since) return t[n].name;\n    }\n\n    return "";\n  }, i.eraNarrow = function () {\n    for (var e, t = this.localeData().eras(), n = 0, s = t.length; n < s; ++n) {\n      if (e = this.clone().startOf("day").valueOf(), t[n].since <= e && e <= t[n].until) return t[n].narrow;\n      if (t[n].until <= e && e <= t[n].since) return t[n].narrow;\n    }\n\n    return "";\n  }, i.eraAbbr = function () {\n    for (var e, t = this.localeData().eras(), n = 0, s = t.length; n < s; ++n) {\n      if (e = this.clone().startOf("day").valueOf(), t[n].since <= e && e <= t[n].until) return t[n].abbr;\n      if (t[n].until <= e && e <= t[n].since) return t[n].abbr;\n    }\n\n    return "";\n  }, i.eraYear = function () {\n    for (var e, t, n = this.localeData().eras(), s = 0, i = n.length; s < i; ++s) {\n      if (e = n[s].since <= n[s].until ? 1 : -1, t = this.clone().startOf("day").valueOf(), n[s].since <= t && t <= n[s].until || n[s].until <= t && t <= n[s].since) return (this.year() - f(n[s].since).year()) * e + n[s].offset;\n    }\n\n    return this.year();\n  }, i.year = Ie, i.isLeapYear = function () {\n    return he(this.year());\n  }, i.weekYear = function (e) {\n    return un.call(this, e, this.week(), this.weekday(), this.localeData()._week.dow, this.localeData()._week.doy);\n  }, i.isoWeekYear = function (e) {\n    return un.call(this, e, this.isoWeek(), this.isoWeekday(), 1, 4);\n  }, i.quarter = i.quarters = function (e) {\n    return null == e ? Math.ceil((this.month() + 1) / 3) : this.month(3 * (e - 1) + this.month() % 3);\n  }, i.month = Ge, i.daysInMonth = function () {\n    return We(this.year(), this.month());\n  }, i.week = i.weeks = function (e) {\n    var t = this.localeData().week(this);\n    return null == e ? t : this.add(7 * (e - t), "d");\n  }, i.isoWeek = i.isoWeeks = function (e) {\n    var t = qe(this, 1, 4).week;\n    return null == e ? t : this.add(7 * (e - t), "d");\n  }, i.weeksInYear = function () {\n    var e = this.localeData()._week;\n\n    return P(this.year(), e.dow, e.doy);\n  }, i.weeksInWeekYear = function () {\n    var e = this.localeData()._week;\n\n    return P(this.weekYear(), e.dow, e.doy);\n  }, i.isoWeeksInYear = function () {\n    return P(this.year(), 1, 4);\n  }, i.isoWeeksInISOWeekYear = function () {\n    return P(this.isoWeekYear(), 1, 4);\n  }, i.date = ve, i.day = i.days = function (e) {\n    if (!this.isValid()) return null != e ? this : NaN;\n    var t,\n        n,\n        s = this._isUTC ? this._d.getUTCDay() : this._d.getDay();\n    return null != e ? (t = e, n = this.localeData(), e = "string" != typeof t ? t : isNaN(t) ? "number" == typeof (t = n.weekdaysParse(t)) ? t : null : parseInt(t, 10), this.add(e - s, "d")) : s;\n  }, i.weekday = function (e) {\n    if (!this.isValid()) return null != e ? this : NaN;\n    var t = (this.day() + 7 - this.localeData()._week.dow) % 7;\n    return null == e ? t : this.add(e - t, "d");\n  }, i.isoWeekday = function (e) {\n    return this.isValid() ? null != e ? (t = e, n = this.localeData(), n = "string" == typeof t ? n.weekdaysParse(t) % 7 || 7 : isNaN(t) ? null : t, this.day(this.day() % 7 ? n : n - 7)) : this.day() || 7 : null != e ? this : NaN;\n    var t, n;\n  }, i.dayOfYear = function (e) {\n    var t = Math.round((this.clone().startOf("day") - this.clone().startOf("year")) / 864e5) + 1;\n    return null == e ? t : this.add(e - t, "d");\n  }, i.hour = i.hours = v, i.minute = i.minutes = _e, i.second = i.seconds = ke, i.millisecond = i.milliseconds = ye, i.utcOffset = function (e, t, n) {\n    var s,\n        i = this._offset || 0;\n    if (!this.isValid()) return null != e ? this : NaN;\n    if (null == e) return this._isUTC ? i : Et(this);\n\n    if ("string" == typeof e) {\n      if (null === (e = Vt(Ye, e))) return this;\n    } else Math.abs(e) < 16 && !n && (e *= 60);\n\n    return !this._isUTC && t && (s = Et(this)), this._offset = e, this._isUTC = !0, null != s && this.add(s, "m"), i !== e && (!t || this._changeInProgress ? qt(this, C(e - i, "m"), 1, !1) : this._changeInProgress || (this._changeInProgress = !0, f.updateOffset(this, !0), this._changeInProgress = null)), this;\n  }, i.utc = function (e) {\n    return this.utcOffset(0, e);\n  }, i.local = function (e) {\n    return this._isUTC && (this.utcOffset(0, e), this._isUTC = !1, e && this.subtract(Et(this), "m")), this;\n  }, i.parseZone = function () {\n    var e;\n    return null != this._tzm ? this.utcOffset(this._tzm, !1, !0) : "string" == typeof this._i && (null != (e = Vt(Se, this._i)) ? this.utcOffset(e) : this.utcOffset(0, !0)), this;\n  }, i.hasAlignedHourOffset = function (e) {\n    return !!this.isValid() && (e = e ? W(e).utcOffset() : 0, (this.utcOffset() - e) % 60 == 0);\n  }, i.isDST = function () {\n    return this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset();\n  }, i.isLocal = function () {\n    return !!this.isValid() && !this._isUTC;\n  }, i.isUtcOffset = function () {\n    return !!this.isValid() && this._isUTC;\n  }, i.isUtc = At, i.isUTC = At, i.zoneAbbr = function () {\n    return this._isUTC ? "UTC" : "";\n  }, i.zoneName = function () {\n    return this._isUTC ? "Coordinated Universal Time" : "";\n  }, i.dates = e("dates accessor is deprecated. Use date instead.", ve), i.months = e("months accessor is deprecated. Use month instead", Ge), i.years = e("years accessor is deprecated. Use year instead", Ie), i.zone = e("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/", function (e, t) {\n    return null != e ? (this.utcOffset(e = "string" != typeof e ? -e : e, t), this) : -this.utcOffset();\n  }), i.isDSTShifted = e("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information", function () {\n    if (!o(this._isDSTShifted)) return this._isDSTShifted;\n    var e,\n        t = {};\n    return $(t, this), (t = Nt(t))._a ? (e = (t._isUTC ? l : W)(t._a), this._isDSTShifted = this.isValid() && 0 < function (e, t, n) {\n      for (var s = Math.min(e.length, t.length), i = Math.abs(e.length - t.length), r = 0, a = 0; a < s; a++) {\n        (n && e[a] !== t[a] || !n && g(e[a]) !== g(t[a])) && r++;\n      }\n\n      return r + i;\n    }(t._a, e.toArray())) : this._isDSTShifted = !1, this._isDSTShifted;\n  });\n  w = K.prototype;\n\n  function cn(e, t, n, s) {\n    var i = mt(),\n        s = l().set(s, t);\n    return i[n](s, e);\n  }\n\n  function fn(e, t, n) {\n    if (u(e) && (t = e, e = void 0), e = e || "", null != t) return cn(e, t, n, "month");\n\n    for (var s = [], i = 0; i < 12; i++) {\n      s[i] = cn(e, i, n, "month");\n    }\n\n    return s;\n  }\n\n  function mn(e, t, n, s) {\n    t = ("boolean" == typeof e ? u(t) && (n = t, t = void 0) : (t = e, e = !1, u(n = t) && (n = t, t = void 0)), t || "");\n    var i,\n        r = mt(),\n        a = e ? r._week.dow : 0,\n        o = [];\n    if (null != n) return cn(t, (n + a) % 7, s, "day");\n\n    for (i = 0; i < 7; i++) {\n      o[i] = cn(t, (i + a) % 7, s, "day");\n    }\n\n    return o;\n  }\n\n  w.calendar = function (e, t, n) {\n    return d(e = this._calendar[e] || this._calendar.sameElse) ? e.call(t, n) : e;\n  }, w.longDateFormat = function (e) {\n    var t = this._longDateFormat[e],\n        n = this._longDateFormat[e.toUpperCase()];\n\n    return t || !n ? t : (this._longDateFormat[e] = n.match(te).map(function (e) {\n      return "MMMM" === e || "MM" === e || "DD" === e || "dddd" === e ? e.slice(1) : e;\n    }).join(""), this._longDateFormat[e]);\n  }, w.invalidDate = function () {\n    return this._invalidDate;\n  }, w.ordinal = function (e) {\n    return this._ordinal.replace("%d", e);\n  }, w.preparse = dn, w.postformat = dn, w.relativeTime = function (e, t, n, s) {\n    var i = this._relativeTime[n];\n    return d(i) ? i(e, t, n, s) : i.replace(/%d/i, e);\n  }, w.pastFuture = function (e, t) {\n    return d(e = this._relativeTime[0 < e ? "future" : "past"]) ? e(t) : e.replace(/%s/i, t);\n  }, w.set = function (e) {\n    var t, n;\n\n    for (n in e) {\n      c(e, n) && (d(t = e[n]) ? this[n] = t : this["_" + n] = t);\n    }\n\n    this._config = e, this._dayOfMonthOrdinalParseLenient = new RegExp((this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) + "|" + /\\d{1,2}/.source);\n  }, w.eras = function (e, t) {\n    for (var n, s = this._eras || mt("en")._eras, i = 0, r = s.length; i < r; ++i) {\n      switch ("string" == typeof s[i].since && (n = f(s[i].since).startOf("day"), s[i].since = n.valueOf()), _typeof(s[i].until)) {\n        case "undefined":\n          s[i].until = 1 / 0;\n          break;\n\n        case "string":\n          n = f(s[i].until).startOf("day").valueOf(), s[i].until = n.valueOf();\n      }\n    }\n\n    return s;\n  }, w.erasParse = function (e, t, n) {\n    var s,\n        i,\n        r,\n        a,\n        o,\n        u = this.eras();\n\n    for (e = e.toUpperCase(), s = 0, i = u.length; s < i; ++s) {\n      if (r = u[s].name.toUpperCase(), a = u[s].abbr.toUpperCase(), o = u[s].narrow.toUpperCase(), n) switch (t) {\n        case "N":\n        case "NN":\n        case "NNN":\n          if (a === e) return u[s];\n          break;\n\n        case "NNNN":\n          if (r === e) return u[s];\n          break;\n\n        case "NNNNN":\n          if (o === e) return u[s];\n      } else if (0 <= [r, a, o].indexOf(e)) return u[s];\n    }\n  }, w.erasConvertYear = function (e, t) {\n    var n = e.since <= e.until ? 1 : -1;\n    return void 0 === t ? f(e.since).year() : f(e.since).year() + (t - e.offset) * n;\n  }, w.erasAbbrRegex = function (e) {\n    return c(this, "_erasAbbrRegex") || an.call(this), e ? this._erasAbbrRegex : this._erasRegex;\n  }, w.erasNameRegex = function (e) {\n    return c(this, "_erasNameRegex") || an.call(this), e ? this._erasNameRegex : this._erasRegex;\n  }, w.erasNarrowRegex = function (e) {\n    return c(this, "_erasNarrowRegex") || an.call(this), e ? this._erasNarrowRegex : this._erasRegex;\n  }, w.months = function (e, t) {\n    return e ? (a(this._months) ? this._months : this._months[(this._months.isFormat || He).test(t) ? "format" : "standalone"])[e.month()] : a(this._months) ? this._months : this._months.standalone;\n  }, w.monthsShort = function (e, t) {\n    return e ? (a(this._monthsShort) ? this._monthsShort : this._monthsShort[He.test(t) ? "format" : "standalone"])[e.month()] : a(this._monthsShort) ? this._monthsShort : this._monthsShort.standalone;\n  }, w.monthsParse = function (e, t, n) {\n    var s, i;\n    if (this._monthsParseExact) return function (e, t, n) {\n      var s,\n          i,\n          r,\n          e = e.toLocaleLowerCase();\n      if (!this._monthsParse) for (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = [], s = 0; s < 12; ++s) {\n        r = l([2e3, s]), this._shortMonthsParse[s] = this.monthsShort(r, "").toLocaleLowerCase(), this._longMonthsParse[s] = this.months(r, "").toLocaleLowerCase();\n      }\n      return n ? "MMM" === t ? -1 !== (i = S.call(this._shortMonthsParse, e)) ? i : null : -1 !== (i = S.call(this._longMonthsParse, e)) ? i : null : "MMM" === t ? -1 !== (i = S.call(this._shortMonthsParse, e)) || -1 !== (i = S.call(this._longMonthsParse, e)) ? i : null : -1 !== (i = S.call(this._longMonthsParse, e)) || -1 !== (i = S.call(this._shortMonthsParse, e)) ? i : null;\n    }.call(this, e, t, n);\n\n    for (this._monthsParse || (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = []), s = 0; s < 12; s++) {\n      if (i = l([2e3, s]), n && !this._longMonthsParse[s] && (this._longMonthsParse[s] = new RegExp("^" + this.months(i, "").replace(".", "") + "$", "i"), this._shortMonthsParse[s] = new RegExp("^" + this.monthsShort(i, "").replace(".", "") + "$", "i")), n || this._monthsParse[s] || (i = "^" + this.months(i, "") + "|^" + this.monthsShort(i, ""), this._monthsParse[s] = new RegExp(i.replace(".", ""), "i")), n && "MMMM" === t && this._longMonthsParse[s].test(e)) return s;\n      if (n && "MMM" === t && this._shortMonthsParse[s].test(e)) return s;\n      if (!n && this._monthsParse[s].test(e)) return s;\n    }\n  }, w.monthsRegex = function (e) {\n    return this._monthsParseExact ? (c(this, "_monthsRegex") || Ee.call(this), e ? this._monthsStrictRegex : this._monthsRegex) : (c(this, "_monthsRegex") || (this._monthsRegex = Le), this._monthsStrictRegex && e ? this._monthsStrictRegex : this._monthsRegex);\n  }, w.monthsShortRegex = function (e) {\n    return this._monthsParseExact ? (c(this, "_monthsRegex") || Ee.call(this), e ? this._monthsShortStrictRegex : this._monthsShortRegex) : (c(this, "_monthsShortRegex") || (this._monthsShortRegex = Fe), this._monthsShortStrictRegex && e ? this._monthsShortStrictRegex : this._monthsShortRegex);\n  }, w.week = function (e) {\n    return qe(e, this._week.dow, this._week.doy).week;\n  }, w.firstDayOfYear = function () {\n    return this._week.doy;\n  }, w.firstDayOfWeek = function () {\n    return this._week.dow;\n  }, w.weekdays = function (e, t) {\n    return t = a(this._weekdays) ? this._weekdays : this._weekdays[e && !0 !== e && this._weekdays.isFormat.test(t) ? "format" : "standalone"], !0 === e ? Be(t, this._week.dow) : e ? t[e.day()] : t;\n  }, w.weekdaysMin = function (e) {\n    return !0 === e ? Be(this._weekdaysMin, this._week.dow) : e ? this._weekdaysMin[e.day()] : this._weekdaysMin;\n  }, w.weekdaysShort = function (e) {\n    return !0 === e ? Be(this._weekdaysShort, this._week.dow) : e ? this._weekdaysShort[e.day()] : this._weekdaysShort;\n  }, w.weekdaysParse = function (e, t, n) {\n    var s, i;\n    if (this._weekdaysParseExact) return function (e, t, n) {\n      var s,\n          i,\n          r,\n          e = e.toLocaleLowerCase();\n      if (!this._weekdaysParse) for (this._weekdaysParse = [], this._shortWeekdaysParse = [], this._minWeekdaysParse = [], s = 0; s < 7; ++s) {\n        r = l([2e3, 1]).day(s), this._minWeekdaysParse[s] = this.weekdaysMin(r, "").toLocaleLowerCase(), this._shortWeekdaysParse[s] = this.weekdaysShort(r, "").toLocaleLowerCase(), this._weekdaysParse[s] = this.weekdays(r, "").toLocaleLowerCase();\n      }\n      return n ? "dddd" === t ? -1 !== (i = S.call(this._weekdaysParse, e)) ? i : null : "ddd" === t ? -1 !== (i = S.call(this._shortWeekdaysParse, e)) ? i : null : -1 !== (i = S.call(this._minWeekdaysParse, e)) ? i : null : "dddd" === t ? -1 !== (i = S.call(this._weekdaysParse, e)) || -1 !== (i = S.call(this._shortWeekdaysParse, e)) || -1 !== (i = S.call(this._minWeekdaysParse, e)) ? i : null : "ddd" === t ? -1 !== (i = S.call(this._shortWeekdaysParse, e)) || -1 !== (i = S.call(this._weekdaysParse, e)) || -1 !== (i = S.call(this._minWeekdaysParse, e)) ? i : null : -1 !== (i = S.call(this._minWeekdaysParse, e)) || -1 !== (i = S.call(this._weekdaysParse, e)) || -1 !== (i = S.call(this._shortWeekdaysParse, e)) ? i : null;\n    }.call(this, e, t, n);\n\n    for (this._weekdaysParse || (this._weekdaysParse = [], this._minWeekdaysParse = [], this._shortWeekdaysParse = [], this._fullWeekdaysParse = []), s = 0; s < 7; s++) {\n      if (i = l([2e3, 1]).day(s), n && !this._fullWeekdaysParse[s] && (this._fullWeekdaysParse[s] = new RegExp("^" + this.weekdays(i, "").replace(".", "\\\\.?") + "$", "i"), this._shortWeekdaysParse[s] = new RegExp("^" + this.weekdaysShort(i, "").replace(".", "\\\\.?") + "$", "i"), this._minWeekdaysParse[s] = new RegExp("^" + this.weekdaysMin(i, "").replace(".", "\\\\.?") + "$", "i")), this._weekdaysParse[s] || (i = "^" + this.weekdays(i, "") + "|^" + this.weekdaysShort(i, "") + "|^" + this.weekdaysMin(i, ""), this._weekdaysParse[s] = new RegExp(i.replace(".", ""), "i")), n && "dddd" === t && this._fullWeekdaysParse[s].test(e)) return s;\n      if (n && "ddd" === t && this._shortWeekdaysParse[s].test(e)) return s;\n      if (n && "dd" === t && this._minWeekdaysParse[s].test(e)) return s;\n      if (!n && this._weekdaysParse[s].test(e)) return s;\n    }\n  }, w.weekdaysRegex = function (e) {\n    return this._weekdaysParseExact ? (c(this, "_weekdaysRegex") || nt.call(this), e ? this._weekdaysStrictRegex : this._weekdaysRegex) : (c(this, "_weekdaysRegex") || (this._weekdaysRegex = Ke), this._weekdaysStrictRegex && e ? this._weekdaysStrictRegex : this._weekdaysRegex);\n  }, w.weekdaysShortRegex = function (e) {\n    return this._weekdaysParseExact ? (c(this, "_weekdaysRegex") || nt.call(this), e ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex) : (c(this, "_weekdaysShortRegex") || (this._weekdaysShortRegex = et), this._weekdaysShortStrictRegex && e ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex);\n  }, w.weekdaysMinRegex = function (e) {\n    return this._weekdaysParseExact ? (c(this, "_weekdaysRegex") || nt.call(this), e ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex) : (c(this, "_weekdaysMinRegex") || (this._weekdaysMinRegex = tt), this._weekdaysMinStrictRegex && e ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex);\n  }, w.isPM = function (e) {\n    return "p" === (e + "").toLowerCase().charAt(0);\n  }, w.meridiem = function (e, t, n) {\n    return 11 < e ? n ? "pm" : "PM" : n ? "am" : "AM";\n  }, ct("en", {\n    eras: [{\n      since: "0001-01-01",\n      until: 1 / 0,\n      offset: 1,\n      name: "Anno Domini",\n      narrow: "AD",\n      abbr: "AD"\n    }, {\n      since: "0000-12-31",\n      until: -1 / 0,\n      offset: 1,\n      name: "Before Christ",\n      narrow: "BC",\n      abbr: "BC"\n    }],\n    dayOfMonthOrdinalParse: /\\d{1,2}(th|st|nd|rd)/,\n    ordinal: function ordinal(e) {\n      var t = e % 10;\n      return e + (1 === g(e % 100 / 10) ? "th" : 1 == t ? "st" : 2 == t ? "nd" : 3 == t ? "rd" : "th");\n    }\n  }), f.lang = e("moment.lang is deprecated. Use moment.locale instead.", ct), f.langData = e("moment.langData is deprecated. Use moment.localeData instead.", mt);\n  var _n = Math.abs;\n\n  function yn(e, t, n, s) {\n    t = C(t, n);\n    return e._milliseconds += s * t._milliseconds, e._days += s * t._days, e._months += s * t._months, e._bubble();\n  }\n\n  function gn(e) {\n    return e < 0 ? Math.floor(e) : Math.ceil(e);\n  }\n\n  function wn(e) {\n    return 4800 * e / 146097;\n  }\n\n  function pn(e) {\n    return 146097 * e / 4800;\n  }\n\n  function vn(e) {\n    return function () {\n      return this.as(e);\n    };\n  }\n\n  pe = vn("ms"), me = vn("s"), Ce = vn("m"), we = vn("h"), ge = vn("d"), Je = vn("w"), v = vn("M"), _e = vn("Q"), ke = vn("y");\n\n  function kn(e) {\n    return function () {\n      return this.isValid() ? this._data[e] : NaN;\n    };\n  }\n\n  var ye = kn("milliseconds"),\n      ve = kn("seconds"),\n      Ie = kn("minutes"),\n      w = kn("hours"),\n      Mn = kn("days"),\n      Dn = kn("months"),\n      Sn = kn("years");\n  var Yn = Math.round,\n      On = {\n    ss: 44,\n    s: 45,\n    m: 45,\n    h: 22,\n    d: 26,\n    w: null,\n    M: 11\n  };\n\n  function bn(e, t, n, s) {\n    var i = C(e).abs(),\n        r = Yn(i.as("s")),\n        a = Yn(i.as("m")),\n        o = Yn(i.as("h")),\n        u = Yn(i.as("d")),\n        l = Yn(i.as("M")),\n        h = Yn(i.as("w")),\n        i = Yn(i.as("y")),\n        r = (r <= n.ss ? ["s", r] : r < n.s && ["ss", r]) || a <= 1 && ["m"] || a < n.m && ["mm", a] || o <= 1 && ["h"] || o < n.h && ["hh", o] || u <= 1 && ["d"] || u < n.d && ["dd", u];\n    return (r = (r = null != n.w ? r || h <= 1 && ["w"] || h < n.w && ["ww", h] : r) || l <= 1 && ["M"] || l < n.M && ["MM", l] || i <= 1 && ["y"] || ["yy", i])[2] = t, r[3] = 0 < +e, r[4] = s, function (e, t, n, s, i) {\n      return i.relativeTime(t || 1, !!n, e, s);\n    }.apply(null, r);\n  }\n\n  var xn = Math.abs;\n\n  function Tn(e) {\n    return (0 < e) - (e < 0) || +e;\n  }\n\n  function Nn() {\n    if (!this.isValid()) return this.localeData().invalidDate();\n    var e,\n        t,\n        n,\n        s,\n        i,\n        r,\n        a,\n        o = xn(this._milliseconds) / 1e3,\n        u = xn(this._days),\n        l = xn(this._months),\n        h = this.asSeconds();\n    return h ? (e = y(o / 60), t = y(e / 60), o %= 60, e %= 60, n = y(l / 12), l %= 12, s = o ? o.toFixed(3).replace(/\\.?0+$/, "") : "", i = Tn(this._months) !== Tn(h) ? "-" : "", r = Tn(this._days) !== Tn(h) ? "-" : "", a = Tn(this._milliseconds) !== Tn(h) ? "-" : "", (h < 0 ? "-" : "") + "P" + (n ? i + n + "Y" : "") + (l ? i + l + "M" : "") + (u ? r + u + "D" : "") + (t || e || o ? "T" : "") + (t ? a + t + "H" : "") + (e ? a + e + "M" : "") + (o ? a + s + "S" : "")) : "P0D";\n  }\n\n  var U = Ct.prototype;\n  return U.isValid = function () {\n    return this._isValid;\n  }, U.abs = function () {\n    var e = this._data;\n    return this._milliseconds = _n(this._milliseconds), this._days = _n(this._days), this._months = _n(this._months), e.milliseconds = _n(e.milliseconds), e.seconds = _n(e.seconds), e.minutes = _n(e.minutes), e.hours = _n(e.hours), e.months = _n(e.months), e.years = _n(e.years), this;\n  }, U.add = function (e, t) {\n    return yn(this, e, t, 1);\n  }, U.subtract = function (e, t) {\n    return yn(this, e, t, -1);\n  }, U.as = function (e) {\n    if (!this.isValid()) return NaN;\n    var t,\n        n,\n        s = this._milliseconds;\n    if ("month" === (e = _(e)) || "quarter" === e || "year" === e) switch (t = this._days + s / 864e5, n = this._months + wn(t), e) {\n      case "month":\n        return n;\n\n      case "quarter":\n        return n / 3;\n\n      case "year":\n        return n / 12;\n    } else switch (t = this._days + Math.round(pn(this._months)), e) {\n      case "week":\n        return t / 7 + s / 6048e5;\n\n      case "day":\n        return t + s / 864e5;\n\n      case "hour":\n        return 24 * t + s / 36e5;\n\n      case "minute":\n        return 1440 * t + s / 6e4;\n\n      case "second":\n        return 86400 * t + s / 1e3;\n\n      case "millisecond":\n        return Math.floor(864e5 * t) + s;\n\n      default:\n        throw new Error("Unknown unit " + e);\n    }\n  }, U.asMilliseconds = pe, U.asSeconds = me, U.asMinutes = Ce, U.asHours = we, U.asDays = ge, U.asWeeks = Je, U.asMonths = v, U.asQuarters = _e, U.asYears = ke, U.valueOf = function () {\n    return this.isValid() ? this._milliseconds + 864e5 * this._days + this._months % 12 * 2592e6 + 31536e6 * g(this._months / 12) : NaN;\n  }, U._bubble = function () {\n    var e = this._milliseconds,\n        t = this._days,\n        n = this._months,\n        s = this._data;\n    return 0 <= e && 0 <= t && 0 <= n || e <= 0 && t <= 0 && n <= 0 || (e += 864e5 * gn(pn(n) + t), n = t = 0), s.milliseconds = e % 1e3, e = y(e / 1e3), s.seconds = e % 60, e = y(e / 60), s.minutes = e % 60, e = y(e / 60), s.hours = e % 24, t += y(e / 24), n += e = y(wn(t)), t -= gn(pn(e)), e = y(n / 12), n %= 12, s.days = t, s.months = n, s.years = e, this;\n  }, U.clone = function () {\n    return C(this);\n  }, U.get = function (e) {\n    return e = _(e), this.isValid() ? this[e + "s"]() : NaN;\n  }, U.milliseconds = ye, U.seconds = ve, U.minutes = Ie, U.hours = w, U.days = Mn, U.weeks = function () {\n    return y(this.days() / 7);\n  }, U.months = Dn, U.years = Sn, U.humanize = function (e, t) {\n    if (!this.isValid()) return this.localeData().invalidDate();\n    var n = !1,\n        s = On;\n    return "object" == _typeof(e) && (t = e, e = !1), "boolean" == typeof e && (n = e), "object" == _typeof(t) && (s = Object.assign({}, On, t), null != t.s && null == t.ss && (s.ss = t.s - 1)), e = this.localeData(), t = bn(this, !n, s, e), n && (t = e.pastFuture(+this, t)), e.postformat(t);\n  }, U.toISOString = Nn, U.toString = Nn, U.toJSON = Nn, U.locale = Xt, U.localeData = Kt, U.toIsoString = e("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)", Nn), U.lang = Xe, s("X", 0, 0, "unix"), s("x", 0, 0, "valueOf"), k("x", De), k("X", /[+-]?\\d+(\\.\\d{1,3})?/), D("X", function (e, t, n) {\n    n._d = new Date(1e3 * parseFloat(e));\n  }), D("x", function (e, t, n) {\n    n._d = new Date(g(e));\n  }), f.version = "2.29.4", H = W, f.fn = i, f.min = function () {\n    return Rt("isBefore", [].slice.call(arguments, 0));\n  }, f.max = function () {\n    return Rt("isAfter", [].slice.call(arguments, 0));\n  }, f.now = function () {\n    return Date.now ? Date.now() : +new Date();\n  }, f.utc = l, f.unix = function (e) {\n    return W(1e3 * e);\n  }, f.months = function (e, t) {\n    return fn(e, t, "months");\n  }, f.isDate = V, f.locale = ct, f.invalid = I, f.duration = C, f.isMoment = h, f.weekdays = function (e, t, n) {\n    return mn(e, t, n, "weekdays");\n  }, f.parseZone = function () {\n    return W.apply(null, arguments).parseZone();\n  }, f.localeData = mt, f.isDuration = Ut, f.monthsShort = function (e, t) {\n    return fn(e, t, "monthsShort");\n  }, f.weekdaysMin = function (e, t, n) {\n    return mn(e, t, n, "weekdaysMin");\n  }, f.defineLocale = ft, f.updateLocale = function (e, t) {\n    var n, s;\n    return null != t ? (s = ot, null != R[e] && null != R[e].parentLocale ? R[e].set(X(R[e]._config, t)) : (t = X(s = null != (n = dt(e)) ? n._config : s, t), null == n && (t.abbr = e), (s = new K(t)).parentLocale = R[e], R[e] = s), ct(e)) : null != R[e] && (null != R[e].parentLocale ? (R[e] = R[e].parentLocale, e === ct() && ct(e)) : null != R[e] && delete R[e]), R[e];\n  }, f.locales = function () {\n    return ee(R);\n  }, f.weekdaysShort = function (e, t, n) {\n    return mn(e, t, n, "weekdaysShort");\n  }, f.normalizeUnits = _, f.relativeTimeRounding = function (e) {\n    return void 0 === e ? Yn : "function" == typeof e && (Yn = e, !0);\n  }, f.relativeTimeThreshold = function (e, t) {\n    return void 0 !== On[e] && (void 0 === t ? On[e] : (On[e] = t, "s" === e && (On.ss = t - 1), !0));\n  }, f.calendarFormat = function (e, t) {\n    return (e = e.diff(t, "days", !0)) < -6 ? "sameElse" : e < -1 ? "lastWeek" : e < 0 ? "lastDay" : e < 1 ? "sameDay" : e < 2 ? "nextDay" : e < 7 ? "nextWeek" : "sameElse";\n  }, f.prototype = i, f.HTML5_FMT = {\n    DATETIME_LOCAL: "YYYY-MM-DDTHH:mm",\n    DATETIME_LOCAL_SECONDS: "YYYY-MM-DDTHH:mm:ss",\n    DATETIME_LOCAL_MS: "YYYY-MM-DDTHH:mm:ss.SSS",\n    DATE: "YYYY-MM-DD",\n    TIME: "HH:mm",\n    TIME_SECONDS: "HH:mm:ss",\n    TIME_MS: "HH:mm:ss.SSS",\n    WEEK: "GGGG-[W]WW",\n    MONTH: "YYYY-MM"\n  }, f;\n});'},56999:n=>{n.exports='/* ng-infinite-scroll - v1.0.0 - 2013-02-23 */\nvar mod;\nmod = angular.module("infinite-scroll", []), mod.directive("infiniteScroll", ["$rootScope", "$window", "$timeout", function (i, n, e) {\n  return {\n    link: function link(t, l, o) {\n      var r, c, f, a;\n      return n = angular.element(n), f = 0, null != o.infiniteScrollDistance && t.$watch(o.infiniteScrollDistance, function (i) {\n        return f = parseInt(i, 10);\n      }), a = !0, r = !1, null != o.infiniteScrollDisabled && t.$watch(o.infiniteScrollDisabled, function (i) {\n        return a = !i, a && r ? (r = !1, c()) : void 0;\n      }), c = function c() {\n        var e, c, u, d;\n        return d = n.height() + n.scrollTop(), e = l.offset().top + l.height(), c = e - d, u = n.height() * f >= c, u && a ? i.$$phase ? t.$eval(o.infiniteScroll) : t.$apply(o.infiniteScroll) : u ? r = !0 : void 0;\n      }, n.on("scroll", c), t.$on("$destroy", function () {\n        return n.off("scroll", c);\n      }), e(function () {\n        return o.infiniteScrollImmediateCheck ? t.$eval(o.infiniteScrollImmediateCheck) ? c() : void 0 : c();\n      }, 0);\n    }\n  };\n}]);'},86741:n=>{n.exports='!function () {\n  "use strict";\n\n  var e = angular.module("smoothScroll", []),\n      t = function t(e, _t) {\n    _t = _t || {};\n\n    var n = _t.duration || 800,\n        o = _t.offset || 0,\n        a = _t.easing || "easeInOutQuart",\n        c = _t.callbackBefore || function () {},\n        r = _t.callbackAfter || function () {},\n        f = function f() {\n      return window.pageYOffset ? window.pageYOffset : document.documentElement.scrollTop;\n    };\n\n    setTimeout(function () {\n      var t,\n          l,\n          u = f(),\n          i = 0,\n          s = function s(e, t) {\n        return "easeInQuad" == e ? t * t : "easeOutQuad" == e ? t * (2 - t) : "easeInOutQuad" == e ? .5 > t ? 2 * t * t : -1 + (4 - 2 * t) * t : "easeInCubic" == e ? t * t * t : "easeOutCubic" == e ? --t * t * t + 1 : "easeInOutCubic" == e ? .5 > t ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1 : "easeInQuart" == e ? t * t * t * t : "easeOutQuart" == e ? 1 - --t * t * t * t : "easeInOutQuart" == e ? .5 > t ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t : "easeInQuint" == e ? t * t * t * t * t : "easeOutQuint" == e ? 1 + --t * t * t * t * t : "easeInOutQuint" == e ? .5 > t ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t : t;\n      },\n          d = function d(e) {\n        var t = 0;\n        if (e.offsetParent) do {\n          t += e.offsetTop, e = e.offsetParent;\n        } while (e);\n        return t = Math.max(t - o, 0);\n      },\n          b = d(e),\n          k = b - u,\n          m = function m() {\n        var t = f();\n        l != b && t != b && window.innerHeight + t < document.body.scrollHeight || (clearInterval(I), r(e));\n      },\n          v = function v() {\n        i += 16, t = i / n, t = t > 1 ? 1 : t, l = u + k * s(a, t), window.scrollTo(0, l), m();\n      };\n\n      c(e);\n      var I = setInterval(v, 16);\n    }, 0);\n  };\n\n  e.factory("smoothScroll", function () {\n    return t;\n  }), e.directive("smoothScroll", ["smoothScroll", function (e) {\n    return {\n      restrict: "A",\n      scope: {\n        callbackBefore: "&",\n        callbackAfter: "&"\n      },\n      link: function link(t, n, o) {\n        (void 0 === o.scrollIf || "true" === o.scrollIf) && setTimeout(function () {\n          var a = function a(e) {\n            if (o.callbackBefore) {\n              var n = t.callbackBefore({\n                element: e\n              });\n              "function" == typeof n && n(e);\n            }\n          },\n              c = function c(e) {\n            if (o.callbackAfter) {\n              var n = t.callbackAfter({\n                element: e\n              });\n              "function" == typeof n && n(e);\n            }\n          };\n\n          e(n[0], {\n            duration: o.duration,\n            offset: o.offset,\n            easing: o.easing,\n            callbackBefore: a,\n            callbackAfter: c\n          });\n        }, 0);\n      }\n    };\n  }]), e.directive("scrollTo", ["smoothScroll", function (e) {\n    return {\n      restrict: "A",\n      scope: {\n        callbackBefore: "&",\n        callbackAfter: "&"\n      },\n      link: function link(t, n, o) {\n        var a;\n        n.on("click", function (n) {\n          if (n.preventDefault(), a = document.getElementById(o.scrollTo)) {\n            var c = function c(e) {\n              if (o.callbackBefore) {\n                var n = t.callbackBefore({\n                  element: e\n                });\n                "function" == typeof n && n(e);\n              }\n            },\n                r = function r(e) {\n              if (o.callbackAfter) {\n                var n = t.callbackAfter({\n                  element: e\n                });\n                "function" == typeof n && n(e);\n              }\n            };\n\n            return e(a, {\n              duration: o.duration,\n              offset: o.offset,\n              easing: o.easing,\n              callbackBefore: c,\n              callbackAfter: r\n            }), !1;\n          }\n        });\n      }\n    };\n  }]);\n}();'},70051:n=>{n.exports="/**!\n * AngularJS file upload/drop directive and service with progress and abort\n * @author  Danial  <danial.farid@gmail.com>\n * @version 4.0.4\n */\n(function () {\n  var key, i;\n\n  function patchXHR(fnName, newFn) {\n    window.XMLHttpRequest.prototype[fnName] = newFn(window.XMLHttpRequest.prototype[fnName]);\n  }\n\n  if (window.XMLHttpRequest && !window.XMLHttpRequest.__isFileAPIShim) {\n    patchXHR('setRequestHeader', function (orig) {\n      return function (header, value) {\n        if (header === '__setXHR_') {\n          var val = value(this); // fix for angular < 1.2.0\n\n          if (val instanceof Function) {\n            val(this);\n          }\n        } else {\n          orig.apply(this, arguments);\n        }\n      };\n    });\n  }\n\n  var ngFileUpload = angular.module('ngFileUpload', []);\n  ngFileUpload.version = '4.0.4';\n  ngFileUpload.service('Upload', ['$http', '$q', '$timeout', function ($http, $q, $timeout) {\n    function sendHttp(config) {\n      config.method = config.method || 'POST';\n      config.headers = config.headers || {};\n\n      config.transformRequest = config.transformRequest || function (data, headersGetter) {\n        if (window.ArrayBuffer && data instanceof window.ArrayBuffer) {\n          return data;\n        }\n\n        return $http.defaults.transformRequest[0](data, headersGetter);\n      };\n\n      var deferred = $q.defer();\n      var promise = deferred.promise;\n\n      config.headers['__setXHR_'] = function () {\n        return function (xhr) {\n          if (!xhr) return;\n          config.__XHR = xhr;\n          config.xhrFn && config.xhrFn(xhr);\n          xhr.upload.addEventListener('progress', function (e) {\n            e.config = config;\n            deferred.notify ? deferred.notify(e) : promise.progress_fn && $timeout(function () {\n              promise.progress_fn(e);\n            });\n          }, false); //fix for firefox not firing upload progress end, also IE8-9\n\n          xhr.upload.addEventListener('load', function (e) {\n            if (e.lengthComputable) {\n              e.config = config;\n              deferred.notify ? deferred.notify(e) : promise.progress_fn && $timeout(function () {\n                promise.progress_fn(e);\n              });\n            }\n          }, false);\n        };\n      };\n\n      console.log(config);\n      $http(config).then(function (r) {\n        deferred.resolve(r);\n      }, function (e) {\n        deferred.reject(e);\n      }, function (n) {\n        deferred.notify(n);\n      });\n\n      promise.success = function (fn) {\n        promise.then(function (response) {\n          fn(response.data, response.status, response.headers, config);\n        });\n        return promise;\n      };\n\n      promise.error = function (fn) {\n        promise.then(null, function (response) {\n          fn(response.data, response.status, response.headers, config);\n        });\n        return promise;\n      };\n\n      promise.progress = function (fn) {\n        promise.progress_fn = fn;\n        promise.then(null, null, function (update) {\n          fn(update);\n        });\n        return promise;\n      };\n\n      promise.abort = function () {\n        if (config.__XHR) {\n          $timeout(function () {\n            config.__XHR.abort();\n          });\n        }\n\n        return promise;\n      };\n\n      promise.xhr = function (fn) {\n        config.xhrFn = function (origXhrFn) {\n          return function () {\n            origXhrFn && origXhrFn.apply(promise, arguments);\n            fn.apply(promise, arguments);\n          };\n        }(config.xhrFn);\n\n        return promise;\n      };\n\n      return promise;\n    }\n\n    this.upload = function (config) {\n      config.headers = config.headers || {};\n      config.headers['Content-Type'] = undefined;\n      config.transformRequest = config.transformRequest ? angular.isArray(config.transformRequest) ? config.transformRequest : [config.transformRequest] : [];\n      config.transformRequest.push(function (data) {\n        var formData = new FormData();\n        var allFields = {};\n\n        for (key in config.fields) {\n          if (config.fields.hasOwnProperty(key)) {\n            allFields[key] = config.fields[key];\n          }\n        }\n\n        if (data) allFields['data'] = data;\n\n        if (config.formDataAppender) {\n          for (key in allFields) {\n            if (allFields.hasOwnProperty(key)) {\n              config.formDataAppender(formData, key, allFields[key]);\n            }\n          }\n        } else {\n          for (key in allFields) {\n            if (allFields.hasOwnProperty(key)) {\n              var val = allFields[key];\n\n              if (val !== undefined) {\n                if (angular.isDate(val)) {\n                  val = val.toISOString();\n                }\n\n                if (angular.isString(val)) {\n                  formData.append(key, val);\n                } else {\n                  if (config.sendObjectsAsJsonBlob && angular.isObject(val)) {\n                    formData.append(key, new Blob([val], {\n                      type: 'application/json'\n                    }));\n                  } else {\n                    formData.append(key, JSON.stringify(val));\n                  }\n                }\n              }\n            }\n          }\n        }\n\n        if (config.file != null) {\n          var fileFormName = config.fileFormDataName || 'file';\n\n          if (angular.isArray(config.file)) {\n            var isFileFormNameString = angular.isString(fileFormName);\n\n            for (var i = 0; i < config.file.length; i++) {\n              formData.append(isFileFormNameString ? fileFormName : fileFormName[i], config.file[i], config.fileName && config.fileName[i] || config.file[i].name);\n            }\n          } else {\n            formData.append(fileFormName, config.file, config.fileName || config.file.name);\n          }\n        }\n\n        return formData;\n      });\n      console.log(\"ng-file-upload\");\n      console.log(config);\n      return sendHttp(config);\n    };\n\n    this.http = function (config) {\n      return sendHttp(config);\n    };\n  }]);\n  ngFileUpload.directive('ngfSelect', ['$parse', '$timeout', '$compile', function ($parse, $timeout, $compile) {\n    return {\n      restrict: 'AEC',\n      require: '?ngModel',\n      link: function link(scope, elem, attr, ngModel) {\n        linkFileSelect(scope, elem, attr, ngModel, $parse, $timeout, $compile);\n      }\n    };\n  }]);\n\n  function linkFileSelect(scope, elem, attr, ngModel, $parse, $timeout, $compile) {\n    function isInputTypeFile() {\n      return elem[0].tagName.toLowerCase() === 'input' && elem.attr('type') && elem.attr('type').toLowerCase() === 'file';\n    }\n\n    var changeFnAttr = attr.ngfChange || attr.ngfSelect && attr.ngfSelect.indexOf('(') > 0;\n    var isUpdating = false;\n\n    function changeFn(evt) {\n      if (!isUpdating) {\n        isUpdating = true;\n\n        try {\n          var fileList = evt.__files_ || evt.target && evt.target.files;\n          var files = [],\n              rejFiles = [];\n\n          for (var i = 0; i < fileList.length; i++) {\n            var file = fileList.item(i);\n\n            if (validate(scope, $parse, attr, file, evt)) {\n              files.push(file);\n            } else {\n              rejFiles.push(file);\n            }\n          }\n\n          updateModel($parse, $timeout, scope, ngModel, attr, changeFnAttr, files, rejFiles, evt);\n          if (files.length == 0) evt.target.value = files; //                if (evt.target && evt.target.getAttribute('__ngf_gen__')) {\n          //                    angular.element(evt.target).remove();\n          //                }\n        } finally {\n          isUpdating = false;\n        }\n      }\n    }\n\n    function bindAttrToFileInput(fileElem) {\n      if (attr.ngfMultiple) fileElem.attr('multiple', $parse(attr.ngfMultiple)(scope));\n      if (!$parse(attr.ngfMultiple)(scope)) fileElem.attr('multiple', undefined);\n      if (attr['accept']) fileElem.attr('accept', attr['accept']);\n      if (attr.ngfCapture) fileElem.attr('capture', $parse(attr.ngfCapture)(scope));\n      if (attr.ngfDisabled) fileElem.attr('disabled', $parse(attr.ngfDisabled)(scope));\n\n      for (var i = 0; i < elem[0].attributes.length; i++) {\n        var attribute = elem[0].attributes[i];\n\n        if (attribute.name !== 'type' && attribute.name !== 'class' && attribute.name !== 'id' && attribute.name !== 'style') {\n          fileElem.attr(attribute.name, attribute.value);\n        }\n      }\n    }\n\n    function createFileInput(evt) {\n      if (elem.attr('disabled')) {\n        return;\n      }\n\n      var fileElem = angular.element('<input type=\"file\">');\n      bindAttrToFileInput(fileElem);\n\n      if (isInputTypeFile()) {\n        elem.replaceWith(fileElem);\n        elem = fileElem;\n      } else {\n        fileElem.css('display', 'none').attr('tabindex', '-1').attr('__ngf_gen__', true);\n\n        if (elem.__ngf_ref_elem__) {\n          elem.__ngf_ref_elem__.remove();\n        }\n\n        elem.__ngf_ref_elem__ = fileElem;\n        document.body.appendChild(fileElem[0]);\n      }\n\n      return fileElem;\n    }\n\n    function resetModel(evt) {\n      updateModel($parse, $timeout, scope, ngModel, attr, changeFnAttr, [], [], evt, true);\n    }\n\n    function clickHandler(evt) {\n      evt.preventDefault();\n      var fileElem = createFileInput(evt);\n\n      if (fileElem) {\n        var clickAndAssign = function clickAndAssign() {\n          fileElem[0].click();\n\n          if (isInputTypeFile()) {\n            elem.bind('click touchend', clickHandler);\n            evt.preventDefault();\n          }\n        }; // fix for android native browser\n\n\n        fileElem.bind('change', changeFn);\n        resetModel(evt);\n\n        if (navigator.userAgent.toLowerCase().match(/android/)) {\n          setTimeout(function () {\n            clickAndAssign();\n          }, 0);\n        } else {\n          clickAndAssign();\n        }\n      }\n    }\n\n    if (window.FileAPI && window.FileAPI.ngfFixIE) {\n      window.FileAPI.ngfFixIE(elem, createFileInput, bindAttrToFileInput, changeFn, resetModel);\n    } else {\n      elem.bind('click touchend', clickHandler);\n    }\n  }\n\n  ngFileUpload.directive('ngfDrop', ['$parse', '$timeout', '$location', function ($parse, $timeout, $location) {\n    return {\n      restrict: 'AEC',\n      require: '?ngModel',\n      link: function link(scope, elem, attr, ngModel) {\n        linkDrop(scope, elem, attr, ngModel, $parse, $timeout, $location);\n      }\n    };\n  }]);\n  ngFileUpload.directive('ngfNoFileDrop', function () {\n    return function (scope, elem) {\n      if (dropAvailable()) elem.css('display', 'none');\n    };\n  });\n  ngFileUpload.directive('ngfDropAvailable', ['$parse', '$timeout', function ($parse, $timeout) {\n    return function (scope, elem, attr) {\n      if (dropAvailable()) {\n        var fn = $parse(attr.ngfDropAvailable);\n        $timeout(function () {\n          fn(scope);\n\n          if (fn.assign) {\n            fn.assign(scope, true);\n          }\n        });\n      }\n    };\n  }]);\n\n  function linkDrop(scope, elem, attr, ngModel, $parse, $timeout, $location) {\n    var available = dropAvailable();\n\n    if (attr.dropAvailable) {\n      $timeout(function () {\n        scope[attr.dropAvailable] ? scope[attr.dropAvailable].value = available : scope[attr.dropAvailable] = available;\n      });\n    }\n\n    if (!available) {\n      if ($parse(attr.ngfHideOnDropNotAvailable)(scope) == true) {\n        elem.css('display', 'none');\n      }\n\n      return;\n    }\n\n    var leaveTimeout = null;\n    var stopPropagation = $parse(attr.ngfStopPropagation);\n    var dragOverDelay = 1;\n    var accept = $parse(attr.ngfAccept);\n    var disabled = $parse(attr.ngfDisabled);\n    var actualDragOverClass;\n    elem[0].addEventListener('dragover', function (evt) {\n      if (disabled(scope)) return;\n      evt.preventDefault();\n      if (stopPropagation(scope)) evt.stopPropagation(); // handling dragover events from the Chrome download bar\n\n      if (navigator.userAgent.indexOf(\"Chrome\") > -1) {\n        var b = evt.dataTransfer.effectAllowed;\n        evt.dataTransfer.dropEffect = 'move' === b || 'linkMove' === b ? 'move' : 'copy';\n      }\n\n      $timeout.cancel(leaveTimeout);\n\n      if (!scope.actualDragOverClass) {\n        actualDragOverClass = calculateDragOverClass(scope, attr, evt);\n      }\n\n      elem.addClass(actualDragOverClass);\n    }, false);\n    elem[0].addEventListener('dragenter', function (evt) {\n      if (disabled(scope)) return;\n      evt.preventDefault();\n      if (stopPropagation(scope)) evt.stopPropagation();\n    }, false);\n    elem[0].addEventListener('dragleave', function () {\n      if (disabled(scope)) return;\n      leaveTimeout = $timeout(function () {\n        elem.removeClass(actualDragOverClass);\n        actualDragOverClass = null;\n      }, dragOverDelay || 1);\n    }, false);\n    elem[0].addEventListener('drop', function (evt) {\n      if (disabled(scope)) return;\n      evt.preventDefault();\n      if (stopPropagation(scope)) evt.stopPropagation();\n      elem.removeClass(actualDragOverClass);\n      actualDragOverClass = null;\n      extractFiles(evt, function (files, rejFiles) {\n        updateModel($parse, $timeout, scope, ngModel, attr, attr.ngfChange || attr.ngfDrop && attr.ngfDrop.indexOf('(') > 0, files, rejFiles, evt);\n      }, $parse(attr.ngfAllowDir)(scope) != false, attr.multiple || $parse(attr.ngfMultiple)(scope));\n    }, false);\n\n    function calculateDragOverClass(scope, attr, evt) {\n      var accepted = true;\n      var items = evt.dataTransfer.items;\n\n      if (items != null) {\n        for (var i = 0; i < items.length && accepted; i++) {\n          accepted = accepted && (items[i].kind == 'file' || items[i].kind == '') && validate(scope, $parse, attr, items[i], evt);\n        }\n      }\n\n      var clazz = $parse(attr.ngfDragOverClass)(scope, {\n        $event: evt\n      });\n\n      if (clazz) {\n        if (clazz.delay) dragOverDelay = clazz.delay;\n        if (clazz.accept) clazz = accepted ? clazz.accept : clazz.reject;\n      }\n\n      return clazz || attr.ngfDragOverClass || 'dragover';\n    }\n\n    function extractFiles(evt, callback, allowDir, multiple) {\n      var files = [],\n          rejFiles = [],\n          items = evt.dataTransfer.items,\n          processing = 0;\n\n      function addFile(file) {\n        if (validate(scope, $parse, attr, file, evt)) {\n          files.push(file);\n        } else {\n          rejFiles.push(file);\n        }\n      }\n\n      if (items && items.length > 0 && $location.protocol() != 'file') {\n        for (var i = 0; i < items.length; i++) {\n          if (items[i].webkitGetAsEntry && items[i].webkitGetAsEntry() && items[i].webkitGetAsEntry().isDirectory) {\n            var entry = items[i].webkitGetAsEntry();\n\n            if (entry.isDirectory && !allowDir) {\n              continue;\n            }\n\n            if (entry != null) {\n              traverseFileTree(files, entry);\n            }\n          } else {\n            var f = items[i].getAsFile();\n            if (f != null) addFile(f);\n          }\n\n          if (!multiple && files.length > 0) break;\n        }\n      } else {\n        var fileList = evt.dataTransfer.files;\n\n        if (fileList != null) {\n          for (var i = 0; i < fileList.length; i++) {\n            addFile(fileList.item(i));\n            if (!multiple && files.length > 0) break;\n          }\n        }\n      }\n\n      var delays = 0;\n\n      (function waitForProcess(delay) {\n        $timeout(function () {\n          if (!processing) {\n            if (!multiple && files.length > 1) {\n              i = 0;\n\n              while (files[i].type == 'directory') {\n                i++;\n              }\n\n              files = [files[i]];\n            }\n\n            callback(files, rejFiles);\n          } else {\n            if (delays++ * 10 < 20 * 1000) {\n              waitForProcess(10);\n            }\n          }\n        }, delay || 0);\n      })();\n\n      function traverseFileTree(files, entry, path) {\n        if (entry != null) {\n          if (entry.isDirectory) {\n            var filePath = (path || '') + entry.name;\n            addFile({\n              name: entry.name,\n              type: 'directory',\n              path: filePath\n            });\n            var dirReader = entry.createReader();\n            var entries = [];\n            processing++;\n\n            var readEntries = function readEntries() {\n              dirReader.readEntries(function (results) {\n                try {\n                  if (!results.length) {\n                    for (var i = 0; i < entries.length; i++) {\n                      traverseFileTree(files, entries[i], (path ? path : '') + entry.name + '/');\n                    }\n\n                    processing--;\n                  } else {\n                    entries = entries.concat(Array.prototype.slice.call(results || [], 0));\n                    readEntries();\n                  }\n                } catch (e) {\n                  processing--;\n                  console.error(e);\n                }\n              }, function () {\n                processing--;\n              });\n            };\n\n            readEntries();\n          } else {\n            processing++;\n            entry.file(function (file) {\n              try {\n                processing--;\n                file.path = (path ? path : '') + file.name;\n                addFile(file);\n              } catch (e) {\n                processing--;\n                console.error(e);\n              }\n            }, function () {\n              processing--;\n            });\n          }\n        }\n      }\n    }\n  }\n\n  ngFileUpload.directive('ngfThumbnail', ['$parse', '$timeout', function ($parse, $timeout) {\n    return {\n      restrict: 'AE',\n      link: function link(scope, elem, attr, file) {\n        if (window.FileReader) {\n          scope.$watch(attr.ngfThumbnail, function (file) {\n            if (file && file.type.indexOf('image') > -1) {\n              $timeout(function () {\n                var fileReader = new FileReader();\n                fileReader.readAsDataURL(file);\n\n                fileReader.onload = function (e) {\n                  $timeout(function () {\n                    elem.attr('src', e.target.result);\n                  });\n                };\n              });\n            } else {\n              elem.attr('src', '');\n            }\n          });\n        }\n      }\n    };\n  }]);\n\n  function dropAvailable() {\n    var div = document.createElement('div');\n    return 'draggable' in div && 'ondrop' in div;\n  }\n\n  function updateModel($parse, $timeout, scope, ngModel, attr, fileChange, files, rejFiles, evt, noDelay) {\n    function update() {\n      if (ngModel) {\n        $parse(attr.ngModel).assign(scope, files);\n        $timeout(function () {\n          ngModel && ngModel.$setViewValue(files != null && files.length == 0 ? null : files);\n        });\n      }\n\n      if (attr.ngModelRejected) {\n        $parse(attr.ngModelRejected).assign(scope, rejFiles);\n      }\n\n      if (fileChange) {\n        $parse(fileChange)(scope, {\n          $files: files,\n          $rejectedFiles: rejFiles,\n          $event: evt\n        });\n      }\n    }\n\n    if (noDelay) {\n      update();\n    } else {\n      $timeout(function () {\n        update();\n      });\n    }\n  }\n\n  function validate(scope, $parse, attr, file, evt) {\n    var accept = $parse(attr.ngfAccept);\n    var fileSizeMax = $parse(attr.ngfMaxSize)(scope) || 9007199254740991;\n    var fileSizeMin = $parse(attr.ngfMinSize)(scope) || -1;\n    var val = accept(scope, {\n      $file: file,\n      $event: evt\n    }),\n        match = false;\n\n    if (val != null && angular.isString(val)) {\n      var regexp = new RegExp(globStringToRegex(val), 'gi');\n      match = file.type != null && file.type.match(regexp) || file.name != null && file.name.match(regexp);\n    }\n\n    return (val == null || match) && (file.size == null || file.size < fileSizeMax && file.size > fileSizeMin);\n  }\n\n  function globStringToRegex(str) {\n    if (str.length > 2 && str[0] === '/' && str[str.length - 1] === '/') {\n      return str.substring(1, str.length - 1);\n    }\n\n    var split = str.split(','),\n        result = '';\n\n    if (split.length > 1) {\n      for (var i = 0; i < split.length; i++) {\n        result += '(' + globStringToRegex(split[i]) + ')';\n\n        if (i < split.length - 1) {\n          result += '|';\n        }\n      }\n    } else {\n      if (str.indexOf('.') == 0) {\n        str = '*' + str;\n      }\n\n      result = '^' + str.replace(new RegExp('[.\\\\\\\\+*?\\\\[\\\\^\\\\]$(){}=!<>|:\\\\' + '-]', 'g'), '\\\\$&') + '$';\n      result = result.replace(/\\\\\\*/g, '.*').replace(/\\\\\\?/g, '.');\n    }\n\n    return result;\n  }\n})();"},61579:n=>{n.exports="/**\n * @license AngularJS v1.3.9\n * (c) 2010-2014 Google, Inc. http://angularjs.org\n * License: MIT\n */\n(function (window, angular, undefined) {\n  'use strict';\n\n  var $sanitizeMinErr = angular.$$minErr('$sanitize');\n  /**\n   * @ngdoc module\n   * @name ngSanitize\n   * @description\n   *\n   * # ngSanitize\n   *\n   * The `ngSanitize` module provides functionality to sanitize HTML.\n   *\n   *\n   * <div doc-module-components=\"ngSanitize\"></div>\n   *\n   * See {@link ngSanitize.$sanitize `$sanitize`} for usage.\n   */\n\n  /*\n   * HTML Parser By Misko Hevery (misko@hevery.com)\n   * based on:  HTML Parser By John Resig (ejohn.org)\n   * Original code by Erik Arvidsson, Mozilla Public License\n   * http://erik.eae.net/simplehtmlparser/simplehtmlparser.js\n   *\n   * // Use like so:\n   * htmlParser(htmlString, {\n   *     start: function(tag, attrs, unary) {},\n   *     end: function(tag) {},\n   *     chars: function(text) {},\n   *     comment: function(text) {}\n   * });\n   *\n   */\n\n  /**\n   * @ngdoc service\n   * @name $sanitize\n   * @kind function\n   *\n   * @description\n   *   The input is sanitized by parsing the HTML into tokens. All safe tokens (from a whitelist) are\n   *   then serialized back to properly escaped html string. This means that no unsafe input can make\n   *   it into the returned string, however, since our parser is more strict than a typical browser\n   *   parser, it's possible that some obscure input, which would be recognized as valid HTML by a\n   *   browser, won't make it through the sanitizer. The input may also contain SVG markup.\n   *   The whitelist is configured using the functions `aHrefSanitizationWhitelist` and\n   *   `imgSrcSanitizationWhitelist` of {@link ng.$compileProvider `$compileProvider`}.\n   *\n   * @param {string} html HTML input.\n   * @returns {string} Sanitized HTML.\n   *\n   * @example\n     <example module=\"sanitizeExample\" deps=\"angular-sanitize.js\">\n     <file name=\"index.html\">\n       <script>\n           angular.module('sanitizeExample', ['ngSanitize'])\n             .controller('ExampleController', ['$scope', '$sce', function($scope, $sce) {\n               $scope.snippet =\n                 '<p style=\"color:blue\">an html\\n' +\n                 '<em onmouseover=\"this.textContent=\\'PWN3D!\\'\">click here</em>\\n' +\n                 'snippet</p>';\n               $scope.deliberatelyTrustDangerousSnippet = function() {\n                 return $sce.trustAsHtml($scope.snippet);\n               };\n             }]);\n       <\/script>\n       <div ng-controller=\"ExampleController\">\n          Snippet: <textarea ng-model=\"snippet\" cols=\"60\" rows=\"3\"></textarea>\n         <table>\n           <tr>\n             <td>Directive</td>\n             <td>How</td>\n             <td>Source</td>\n             <td>Rendered</td>\n           </tr>\n           <tr id=\"bind-html-with-sanitize\">\n             <td>ng-bind-html</td>\n             <td>Automatically uses $sanitize</td>\n             <td><pre>&lt;div ng-bind-html=\"snippet\"&gt;<br/>&lt;/div&gt;</pre></td>\n             <td><div ng-bind-html=\"snippet\"></div></td>\n           </tr>\n           <tr id=\"bind-html-with-trust\">\n             <td>ng-bind-html</td>\n             <td>Bypass $sanitize by explicitly trusting the dangerous value</td>\n             <td>\n             <pre>&lt;div ng-bind-html=\"deliberatelyTrustDangerousSnippet()\"&gt;\n  &lt;/div&gt;</pre>\n             </td>\n             <td><div ng-bind-html=\"deliberatelyTrustDangerousSnippet()\"></div></td>\n           </tr>\n           <tr id=\"bind-default\">\n             <td>ng-bind</td>\n             <td>Automatically escapes</td>\n             <td><pre>&lt;div ng-bind=\"snippet\"&gt;<br/>&lt;/div&gt;</pre></td>\n             <td><div ng-bind=\"snippet\"></div></td>\n           </tr>\n         </table>\n         </div>\n     </file>\n     <file name=\"protractor.js\" type=\"protractor\">\n       it('should sanitize the html snippet by default', function() {\n         expect(element(by.css('#bind-html-with-sanitize div')).getInnerHtml()).\n           toBe('<p>an html\\n<em>click here</em>\\nsnippet</p>');\n       });\n  \n       it('should inline raw snippet if bound to a trusted value', function() {\n         expect(element(by.css('#bind-html-with-trust div')).getInnerHtml()).\n           toBe(\"<p style=\\\"color:blue\\\">an html\\n\" +\n                \"<em onmouseover=\\\"this.textContent='PWN3D!'\\\">click here</em>\\n\" +\n                \"snippet</p>\");\n       });\n  \n       it('should escape snippet without any filter', function() {\n         expect(element(by.css('#bind-default div')).getInnerHtml()).\n           toBe(\"&lt;p style=\\\"color:blue\\\"&gt;an html\\n\" +\n                \"&lt;em onmouseover=\\\"this.textContent='PWN3D!'\\\"&gt;click here&lt;/em&gt;\\n\" +\n                \"snippet&lt;/p&gt;\");\n       });\n  \n       it('should update', function() {\n         element(by.model('snippet')).clear();\n         element(by.model('snippet')).sendKeys('new <b onclick=\"alert(1)\">text</b>');\n         expect(element(by.css('#bind-html-with-sanitize div')).getInnerHtml()).\n           toBe('new <b>text</b>');\n         expect(element(by.css('#bind-html-with-trust div')).getInnerHtml()).toBe(\n           'new <b onclick=\"alert(1)\">text</b>');\n         expect(element(by.css('#bind-default div')).getInnerHtml()).toBe(\n           \"new &lt;b onclick=\\\"alert(1)\\\"&gt;text&lt;/b&gt;\");\n       });\n     </file>\n     </example>\n   */\n\n  function $SanitizeProvider() {\n    this.$get = ['$$sanitizeUri', function ($$sanitizeUri) {\n      return function (html) {\n        var buf = [];\n        htmlParser(html, htmlSanitizeWriter(buf, function (uri, isImage) {\n          return !/^unsafe/.test($$sanitizeUri(uri, isImage));\n        }));\n        return buf.join('');\n      };\n    }];\n  }\n\n  function sanitizeText(chars) {\n    var buf = [];\n    var writer = htmlSanitizeWriter(buf, angular.noop);\n    writer.chars(chars);\n    return buf.join('');\n  } // Regular Expressions for parsing tags and attributes\n\n\n  var START_TAG_REGEXP = /^<((?:[a-zA-Z])[\\w:-]*)((?:\\s+[\\w:-]+(?:\\s*=\\s*(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>\\s]+))?)*)\\s*(\\/?)\\s*(>?)/,\n      END_TAG_REGEXP = /^<\\/\\s*([\\w:-]+)[^>]*>/,\n      ATTR_REGEXP = /([\\w:-]+)(?:\\s*=\\s*(?:(?:\"((?:[^\"])*)\")|(?:'((?:[^'])*)')|([^>\\s]+)))?/g,\n      BEGIN_TAG_REGEXP = /^</,\n      BEGING_END_TAGE_REGEXP = /^<\\//,\n      COMMENT_REGEXP = /\x3c!--(.*?)--\x3e/g,\n      DOCTYPE_REGEXP = /<!DOCTYPE([^>]*?)>/i,\n      CDATA_REGEXP = /<!\\[CDATA\\[(.*?)]]>/g,\n      SURROGATE_PAIR_REGEXP = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,\n      // Match everything outside of normal chars and \" (quote character)\n  NON_ALPHANUMERIC_REGEXP = /([^\\#-~| |!])/g; // Good source of info about elements and attributes\n  // http://dev.w3.org/html5/spec/Overview.html#semantics\n  // http://simon.html5.org/html-elements\n  // Safe Void Elements - HTML5\n  // http://dev.w3.org/html5/spec/Overview.html#void-elements\n\n  var voidElements = makeMap(\"area,br,col,hr,img,wbr\"); // Elements that you can, intentionally, leave open (and which close themselves)\n  // http://dev.w3.org/html5/spec/Overview.html#optional-tags\n\n  var optionalEndTagBlockElements = makeMap(\"colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr\"),\n      optionalEndTagInlineElements = makeMap(\"rp,rt\"),\n      optionalEndTagElements = angular.extend({}, optionalEndTagInlineElements, optionalEndTagBlockElements); // Safe Block Elements - HTML5\n\n  var blockElements = angular.extend({}, optionalEndTagBlockElements, makeMap(\"address,article,\" + \"aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,\" + \"h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul\")); // Inline Elements - HTML5\n\n  var inlineElements = angular.extend({}, optionalEndTagInlineElements, makeMap(\"a,abbr,acronym,b,\" + \"bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,\" + \"samp,small,span,strike,strong,sub,sup,time,tt,u,var\")); // SVG Elements\n  // https://wiki.whatwg.org/wiki/Sanitization_rules#svg_Elements\n\n  var svgElements = makeMap(\"animate,animateColor,animateMotion,animateTransform,circle,defs,\" + \"desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,\" + \"line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,\" + \"stop,svg,switch,text,title,tspan,use\"); // Special Elements (can contain anything)\n\n  var specialElements = makeMap(\"script,style\");\n  var validElements = angular.extend({}, voidElements, blockElements, inlineElements, optionalEndTagElements, svgElements); //Attributes that have href and hence need to be sanitized\n\n  var uriAttrs = makeMap(\"background,cite,href,longdesc,src,usemap,xlink:href\");\n  var htmlAttrs = makeMap('abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,' + 'color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,' + 'ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,' + 'scope,scrolling,shape,size,span,start,summary,target,title,type,' + 'valign,value,vspace,width'); // SVG attributes (without \"id\" and \"name\" attributes)\n  // https://wiki.whatwg.org/wiki/Sanitization_rules#svg_Attributes\n\n  var svgAttrs = makeMap('accent-height,accumulate,additive,alphabetic,arabic-form,ascent,' + 'attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,' + 'color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,' + 'font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,' + 'gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,' + 'keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,' + 'markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,' + 'overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,' + 'repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,' + 'stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,' + 'stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,' + 'stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,' + 'underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,' + 'viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,' + 'xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,' + 'zoomAndPan');\n  var validAttrs = angular.extend({}, uriAttrs, svgAttrs, htmlAttrs);\n\n  function makeMap(str) {\n    var obj = {},\n        items = str.split(','),\n        i;\n\n    for (i = 0; i < items.length; i++) {\n      obj[items[i]] = true;\n    }\n\n    return obj;\n  }\n  /**\n   * @example\n   * htmlParser(htmlString, {\n   *     start: function(tag, attrs, unary) {},\n   *     end: function(tag) {},\n   *     chars: function(text) {},\n   *     comment: function(text) {}\n   * });\n   *\n   * @param {string} html string\n   * @param {object} handler\n   */\n\n\n  function htmlParser(html, handler) {\n    if (typeof html !== 'string') {\n      if (html === null || typeof html === 'undefined') {\n        html = '';\n      } else {\n        html = '' + html;\n      }\n    }\n\n    var index,\n        chars,\n        match,\n        stack = [],\n        last = html,\n        text;\n\n    stack.last = function () {\n      return stack[stack.length - 1];\n    };\n\n    while (html) {\n      text = '';\n      chars = true; // Make sure we're not in a script or style element\n\n      if (!stack.last() || !specialElements[stack.last()]) {\n        // Comment\n        if (html.indexOf(\"\x3c!--\") === 0) {\n          // comments containing -- are not allowed unless they terminate the comment\n          index = html.indexOf(\"--\", 4);\n\n          if (index >= 0 && html.lastIndexOf(\"--\x3e\", index) === index) {\n            if (handler.comment) handler.comment(html.substring(4, index));\n            html = html.substring(index + 3);\n            chars = false;\n          } // DOCTYPE\n\n        } else if (DOCTYPE_REGEXP.test(html)) {\n          match = html.match(DOCTYPE_REGEXP);\n\n          if (match) {\n            html = html.replace(match[0], '');\n            chars = false;\n          } // end tag\n\n        } else if (BEGING_END_TAGE_REGEXP.test(html)) {\n          match = html.match(END_TAG_REGEXP);\n\n          if (match) {\n            html = html.substring(match[0].length);\n            match[0].replace(END_TAG_REGEXP, parseEndTag);\n            chars = false;\n          } // start tag\n\n        } else if (BEGIN_TAG_REGEXP.test(html)) {\n          match = html.match(START_TAG_REGEXP);\n\n          if (match) {\n            // We only have a valid start-tag if there is a '>'.\n            if (match[4]) {\n              html = html.substring(match[0].length);\n              match[0].replace(START_TAG_REGEXP, parseStartTag);\n            }\n\n            chars = false;\n          } else {\n            // no ending tag found --- this piece should be encoded as an entity.\n            text += '<';\n            html = html.substring(1);\n          }\n        }\n\n        if (chars) {\n          index = html.indexOf(\"<\");\n          text += index < 0 ? html : html.substring(0, index);\n          html = index < 0 ? \"\" : html.substring(index);\n          if (handler.chars) handler.chars(decodeEntities(text));\n        }\n      } else {\n        html = html.replace(new RegExp(\"(.*)<\\\\s*\\\\/\\\\s*\" + stack.last() + \"[^>]*>\", 'i'), function (all, text) {\n          text = text.replace(COMMENT_REGEXP, \"$1\").replace(CDATA_REGEXP, \"$1\");\n          if (handler.chars) handler.chars(decodeEntities(text));\n          return \"\";\n        });\n        parseEndTag(\"\", stack.last());\n      }\n\n      if (html == last) {\n        throw $sanitizeMinErr('badparse', \"The sanitizer was unable to parse the following block \" + \"of html: {0}\", html);\n      }\n\n      last = html;\n    } // Clean up any remaining tags\n\n\n    parseEndTag();\n\n    function parseStartTag(tag, tagName, rest, unary) {\n      tagName = angular.lowercase(tagName);\n\n      if (blockElements[tagName]) {\n        while (stack.last() && inlineElements[stack.last()]) {\n          parseEndTag(\"\", stack.last());\n        }\n      }\n\n      if (optionalEndTagElements[tagName] && stack.last() == tagName) {\n        parseEndTag(\"\", tagName);\n      }\n\n      unary = voidElements[tagName] || !!unary;\n      if (!unary) stack.push(tagName);\n      var attrs = {};\n      rest.replace(ATTR_REGEXP, function (match, name, doubleQuotedValue, singleQuotedValue, unquotedValue) {\n        var value = doubleQuotedValue || singleQuotedValue || unquotedValue || '';\n        attrs[name] = decodeEntities(value);\n      });\n      if (handler.start) handler.start(tagName, attrs, unary);\n    }\n\n    function parseEndTag(tag, tagName) {\n      var pos = 0,\n          i;\n      tagName = angular.lowercase(tagName);\n      if (tagName) // Find the closest opened tag of the same type\n        for (pos = stack.length - 1; pos >= 0; pos--) {\n          if (stack[pos] == tagName) break;\n        }\n\n      if (pos >= 0) {\n        // Close all the open elements, up the stack\n        for (i = stack.length - 1; i >= pos; i--) {\n          if (handler.end) handler.end(stack[i]);\n        } // Remove the open elements from the stack\n\n\n        stack.length = pos;\n      }\n    }\n  }\n\n  var hiddenPre = document.createElement(\"pre\");\n  var spaceRe = /^(\\s*)([\\s\\S]*?)(\\s*)$/;\n  /**\n   * decodes all entities into regular string\n   * @param value\n   * @returns {string} A string with decoded entities.\n   */\n\n  function decodeEntities(value) {\n    if (!value) {\n      return '';\n    } // Note: IE8 does not preserve spaces at the start/end of innerHTML\n    // so we must capture them and reattach them afterward\n\n\n    var parts = spaceRe.exec(value);\n    var spaceBefore = parts[1];\n    var spaceAfter = parts[3];\n    var content = parts[2];\n\n    if (content) {\n      hiddenPre.innerHTML = content.replace(/</g, \"&lt;\"); // innerText depends on styling as it doesn't display hidden elements.\n      // Therefore, it's better to use textContent not to cause unnecessary\n      // reflows. However, IE<9 don't support textContent so the innerText\n      // fallback is necessary.\n\n      content = 'textContent' in hiddenPre ? hiddenPre.textContent : hiddenPre.innerText;\n    }\n\n    return spaceBefore + content + spaceAfter;\n  }\n  /**\n   * Escapes all potentially dangerous characters, so that the\n   * resulting string can be safely inserted into attribute or\n   * element text.\n   * @param value\n   * @returns {string} escaped text\n   */\n\n\n  function encodeEntities(value) {\n    return value.replace(/&/g, '&amp;').replace(SURROGATE_PAIR_REGEXP, function (value) {\n      var hi = value.charCodeAt(0);\n      var low = value.charCodeAt(1);\n      return '&#' + ((hi - 0xD800) * 0x400 + (low - 0xDC00) + 0x10000) + ';';\n    }).replace(NON_ALPHANUMERIC_REGEXP, function (value) {\n      return '&#' + value.charCodeAt(0) + ';';\n    }).replace(/</g, '&lt;').replace(/>/g, '&gt;');\n  }\n  /**\n   * create an HTML/XML writer which writes to buffer\n   * @param {Array} buf use buf.jain('') to get out sanitized html string\n   * @returns {object} in the form of {\n   *     start: function(tag, attrs, unary) {},\n   *     end: function(tag) {},\n   *     chars: function(text) {},\n   *     comment: function(text) {}\n   * }\n   */\n\n\n  function htmlSanitizeWriter(buf, uriValidator) {\n    var ignore = false;\n    var out = angular.bind(buf, buf.push);\n    return {\n      start: function start(tag, attrs, unary) {\n        tag = angular.lowercase(tag);\n\n        if (!ignore && specialElements[tag]) {\n          ignore = tag;\n        }\n\n        if (!ignore && validElements[tag] === true) {\n          out('<');\n          out(tag);\n          angular.forEach(attrs, function (value, key) {\n            var lkey = angular.lowercase(key);\n            var isImage = tag === 'img' && lkey === 'src' || lkey === 'background';\n\n            if (validAttrs[lkey] === true && (uriAttrs[lkey] !== true || uriValidator(value, isImage))) {\n              out(' ');\n              out(key);\n              out('=\"');\n              out(encodeEntities(value));\n              out('\"');\n            }\n          });\n          out(unary ? '/>' : '>');\n        }\n      },\n      end: function end(tag) {\n        tag = angular.lowercase(tag);\n\n        if (!ignore && validElements[tag] === true) {\n          out('</');\n          out(tag);\n          out('>');\n        }\n\n        if (tag == ignore) {\n          ignore = false;\n        }\n      },\n      chars: function chars(_chars) {\n        if (!ignore) {\n          out(encodeEntities(_chars));\n        }\n      }\n    };\n  } // define ngSanitize module and register $sanitize service\n\n\n  angular.module('ngSanitize', []).provider('$sanitize', $SanitizeProvider);\n  /* global sanitizeText: false */\n\n  /**\n   * @ngdoc filter\n   * @name linky\n   * @kind function\n   *\n   * @description\n   * Finds links in text input and turns them into html links. Supports http/https/ftp/mailto and\n   * plain email address links.\n   *\n   * Requires the {@link ngSanitize `ngSanitize`} module to be installed.\n   *\n   * @param {string} text Input text.\n   * @param {string} target Window (_blank|_self|_parent|_top) or named frame to open links in.\n   * @returns {string} Html-linkified text.\n   *\n   * @usage\n     <span ng-bind-html=\"linky_expression | linky\"></span>\n   *\n   * @example\n     <example module=\"linkyExample\" deps=\"angular-sanitize.js\">\n       <file name=\"index.html\">\n         <script>\n           angular.module('linkyExample', ['ngSanitize'])\n             .controller('ExampleController', ['$scope', function($scope) {\n               $scope.snippet =\n                 'Pretty text with some links:\\n'+\n                 'http://angularjs.org/,\\n'+\n                 'mailto:us@somewhere.org,\\n'+\n                 'another@somewhere.org,\\n'+\n                 'and one more: ftp://127.0.0.1/.';\n               $scope.snippetWithTarget = 'http://angularjs.org/';\n             }]);\n         <\/script>\n         <div ng-controller=\"ExampleController\">\n         Snippet: <textarea ng-model=\"snippet\" cols=\"60\" rows=\"3\"></textarea>\n         <table>\n           <tr>\n             <td>Filter</td>\n             <td>Source</td>\n             <td>Rendered</td>\n           </tr>\n           <tr id=\"linky-filter\">\n             <td>linky filter</td>\n             <td>\n               <pre>&lt;div ng-bind-html=\"snippet | linky\"&gt;<br>&lt;/div&gt;</pre>\n             </td>\n             <td>\n               <div ng-bind-html=\"snippet | linky\"></div>\n             </td>\n           </tr>\n           <tr id=\"linky-target\">\n            <td>linky target</td>\n            <td>\n              <pre>&lt;div ng-bind-html=\"snippetWithTarget | linky:'_blank'\"&gt;<br>&lt;/div&gt;</pre>\n            </td>\n            <td>\n              <div ng-bind-html=\"snippetWithTarget | linky:'_blank'\"></div>\n            </td>\n           </tr>\n           <tr id=\"escaped-html\">\n             <td>no filter</td>\n             <td><pre>&lt;div ng-bind=\"snippet\"&gt;<br>&lt;/div&gt;</pre></td>\n             <td><div ng-bind=\"snippet\"></div></td>\n           </tr>\n         </table>\n       </file>\n       <file name=\"protractor.js\" type=\"protractor\">\n         it('should linkify the snippet with urls', function() {\n           expect(element(by.id('linky-filter')).element(by.binding('snippet | linky')).getText()).\n               toBe('Pretty text with some links: http://angularjs.org/, us@somewhere.org, ' +\n                    'another@somewhere.org, and one more: ftp://127.0.0.1/.');\n           expect(element.all(by.css('#linky-filter a')).count()).toEqual(4);\n         });\n  \n         it('should not linkify snippet without the linky filter', function() {\n           expect(element(by.id('escaped-html')).element(by.binding('snippet')).getText()).\n               toBe('Pretty text with some links: http://angularjs.org/, mailto:us@somewhere.org, ' +\n                    'another@somewhere.org, and one more: ftp://127.0.0.1/.');\n           expect(element.all(by.css('#escaped-html a')).count()).toEqual(0);\n         });\n  \n         it('should update', function() {\n           element(by.model('snippet')).clear();\n           element(by.model('snippet')).sendKeys('new http://link.');\n           expect(element(by.id('linky-filter')).element(by.binding('snippet | linky')).getText()).\n               toBe('new http://link.');\n           expect(element.all(by.css('#linky-filter a')).count()).toEqual(1);\n           expect(element(by.id('escaped-html')).element(by.binding('snippet')).getText())\n               .toBe('new http://link.');\n         });\n  \n         it('should work with the target property', function() {\n          expect(element(by.id('linky-target')).\n              element(by.binding(\"snippetWithTarget | linky:'_blank'\")).getText()).\n              toBe('http://angularjs.org/');\n          expect(element(by.css('#linky-target a')).getAttribute('target')).toEqual('_blank');\n         });\n       </file>\n     </example>\n   */\n\n  angular.module('ngSanitize').filter('linky', ['$sanitize', function ($sanitize) {\n    var LINKY_URL_REGEXP = /((ftp|https?):\\/\\/|(www\\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\\S*[^\\s.;,(){}<>\"”’]/,\n        MAILTO_REGEXP = /^mailto:/;\n    return function (text, target) {\n      if (!text) return text;\n      var match;\n      var raw = text;\n      var html = [];\n      var url;\n      var i;\n\n      while (match = raw.match(LINKY_URL_REGEXP)) {\n        // We can not end in these as they are sometimes found at the end of the sentence\n        url = match[0]; // if we did not match ftp/http/www/mailto then assume mailto\n\n        if (!match[2] && !match[4]) {\n          url = (match[3] ? 'http://' : 'mailto:') + url;\n        }\n\n        i = match.index;\n        addText(raw.substr(0, i));\n        addLink(url, match[0].replace(MAILTO_REGEXP, ''));\n        raw = raw.substring(i + match[0].length);\n      }\n\n      addText(raw);\n      return $sanitize(html.join(''));\n\n      function addText(text) {\n        if (!text) {\n          return;\n        }\n\n        html.push(sanitizeText(text));\n      }\n\n      function addLink(url, text) {\n        html.push('<a ');\n\n        if (angular.isDefined(target)) {\n          html.push('target=\"', target, '\" ');\n        }\n\n        html.push('href=\"', url.replace(/\"/g, '&quot;'), '\">');\n        addText(text);\n        html.push('</a>');\n      }\n    };\n  }]);\n})(window, window.angular);"},8138:n=>{n.exports='/*!\n * DO NOT EDIT THIS FILE DIRECTLY! MAKE CHANGES TO THE GITHUB VERSION\n * coursehero ui-select\n * http://github.com/rhousworth/ui-select\n * Version: 0.13.2 - 2015-10-14T22:39:03.479Z\n * License: MIT\n */\n(function () {\n  "use strict";\n\n  var KEY = {\n    TAB: 9,\n    ENTER: 13,\n    ESC: 27,\n    SPACE: 32,\n    LEFT: 37,\n    UP: 38,\n    RIGHT: 39,\n    DOWN: 40,\n    SHIFT: 16,\n    CTRL: 17,\n    ALT: 18,\n    PAGE_UP: 33,\n    PAGE_DOWN: 34,\n    HOME: 36,\n    END: 35,\n    BACKSPACE: 8,\n    DELETE: 46,\n    COMMAND: 91,\n    MAP: {\n      91: "COMMAND",\n      8: "BACKSPACE",\n      9: "TAB",\n      13: "ENTER",\n      16: "SHIFT",\n      17: "CTRL",\n      18: "ALT",\n      19: "PAUSEBREAK",\n      20: "CAPSLOCK",\n      27: "ESC",\n      32: "SPACE",\n      33: "PAGE_UP",\n      34: "PAGE_DOWN",\n      35: "END",\n      36: "HOME",\n      37: "LEFT",\n      38: "UP",\n      39: "RIGHT",\n      40: "DOWN",\n      43: "+",\n      44: "PRINTSCREEN",\n      45: "INSERT",\n      46: "DELETE",\n      48: "0",\n      49: "1",\n      50: "2",\n      51: "3",\n      52: "4",\n      53: "5",\n      54: "6",\n      55: "7",\n      56: "8",\n      57: "9",\n      59: ";",\n      61: "=",\n      65: "A",\n      66: "B",\n      67: "C",\n      68: "D",\n      69: "E",\n      70: "F",\n      71: "G",\n      72: "H",\n      73: "I",\n      74: "J",\n      75: "K",\n      76: "L",\n      77: "M",\n      78: "N",\n      79: "O",\n      80: "P",\n      81: "Q",\n      82: "R",\n      83: "S",\n      84: "T",\n      85: "U",\n      86: "V",\n      87: "W",\n      88: "X",\n      89: "Y",\n      90: "Z",\n      96: "0",\n      97: "1",\n      98: "2",\n      99: "3",\n      100: "4",\n      101: "5",\n      102: "6",\n      103: "7",\n      104: "8",\n      105: "9",\n      106: "*",\n      107: "+",\n      109: "-",\n      110: ".",\n      111: "/",\n      112: "F1",\n      113: "F2",\n      114: "F3",\n      115: "F4",\n      116: "F5",\n      117: "F6",\n      118: "F7",\n      119: "F8",\n      120: "F9",\n      121: "F10",\n      122: "F11",\n      123: "F12",\n      144: "NUMLOCK",\n      145: "SCROLLLOCK",\n      186: ";",\n      187: "=",\n      188: ",",\n      189: "-",\n      190: ".",\n      191: "/",\n      192: "`",\n      219: "[",\n      220: "\\\\",\n      221: "]",\n      222: "\'"\n    },\n    isControl: function isControl(e) {\n      var k = e.which;\n\n      switch (k) {\n        case KEY.COMMAND:\n        case KEY.SHIFT:\n        case KEY.CTRL:\n        case KEY.ALT:\n          return true;\n      }\n\n      if (e.metaKey) return true;\n      return false;\n    },\n    isFunctionKey: function isFunctionKey(k) {\n      k = k.which ? k.which : k;\n      return k >= 112 && k <= 123;\n    },\n    isVerticalMovement: function isVerticalMovement(k) {\n      return ~[KEY.UP, KEY.DOWN].indexOf(k);\n    },\n    isHorizontalMovement: function isHorizontalMovement(k) {\n      return ~[KEY.LEFT, KEY.RIGHT, KEY.BACKSPACE, KEY.DELETE].indexOf(k);\n    }\n  };\n  /**\n   * Add querySelectorAll() to jqLite.\n   *\n   * jqLite find() is limited to lookups by tag name.\n   * TODO This will change with future versions of AngularJS, to be removed when this happens\n   *\n   * See jqLite.find - why not use querySelectorAll? https://github.com/angular/angular.js/issues/3586\n   * See feat(jqLite): use querySelectorAll instead of getElementsByTagName in jqLite.find https://github.com/angular/angular.js/pull/3598\n   */\n\n  if (angular.element.prototype.querySelectorAll === undefined) {\n    angular.element.prototype.querySelectorAll = function (selector) {\n      return angular.element(this[0].querySelectorAll(selector));\n    };\n  }\n  /**\n   * Add closest() to jqLite.\n   */\n\n\n  if (angular.element.prototype.closest === undefined) {\n    angular.element.prototype.closest = function (selector) {\n      var elem = this[0];\n      var matchesSelector = elem.matches || elem.webkitMatchesSelector || elem.mozMatchesSelector || elem.msMatchesSelector;\n\n      while (elem) {\n        if (matchesSelector.bind(elem)(selector)) {\n          return elem;\n        } else {\n          elem = elem.parentElement;\n        }\n      }\n\n      return false;\n    };\n  }\n\n  var latestId = 0;\n  var uis = angular.module(\'ui.select\', []).constant(\'uiSelectConfig\', {\n    theme: \'bootstrap\',\n    searchEnabled: true,\n    sortable: false,\n    placeholder: \'\',\n    // Empty by default, like HTML tag <select>\n    refreshDelay: 1000,\n    // In milliseconds\n    closeOnSelect: true,\n    dropdownPosition: \'auto\',\n    generateId: function generateId() {\n      return latestId++;\n    },\n    appendToBody: false\n  }) // See Rename minErr and make it accessible from outside https://github.com/angular/angular.js/issues/6913\n  .service(\'uiSelectMinErr\', function () {\n    var minErr = angular.$$minErr(\'ui.select\');\n    return function () {\n      var error = minErr.apply(this, arguments);\n      var message = error.message.replace(new RegExp(\'\\nhttp://errors.angularjs.org/.*\'), \'\');\n      return new Error(message);\n    };\n  }) // Recreates old behavior of ng-transclude. Used internally.\n  .directive(\'uisTranscludeAppend\', function () {\n    return {\n      link: function link(scope, element, attrs, ctrl, transclude) {\n        transclude(scope, function (clone) {\n          element.append(clone);\n        });\n      }\n    };\n  })\n  /**\n   * Highlights text that matches $select.search.\n   *\n   * Taken from AngularUI Bootstrap Typeahead\n   * See https://github.com/angular-ui/bootstrap/blob/0.10.0/src/typeahead/typeahead.js#L340\n   */\n  .filter(\'highlight\', function () {\n    function escapeRegexp(queryToEscape) {\n      return queryToEscape.replace(/([.?*+^$[\\]\\\\(){}|-])/g, \'\\\\$1\');\n    }\n\n    return function (matchItem, query) {\n      return query && matchItem ? matchItem.replace(new RegExp(escapeRegexp(query), \'gi\'), \'<span class="ui-select-highlight">$&</span>\') : matchItem;\n    };\n  })\n  /**\n   * A read-only equivalent of jQuery\'s offset function: http://api.jquery.com/offset/\n   *\n   * Taken from AngularUI Bootstrap Position:\n   * See https://github.com/angular-ui/bootstrap/blob/master/src/position/position.js#L70\n   */\n  .factory(\'uisOffset\', [\'$document\', \'$window\', function ($document, $window) {\n    return function (element) {\n      var boundingClientRect = element[0].getBoundingClientRect();\n      return {\n        width: boundingClientRect.width || element.prop(\'offsetWidth\'),\n        height: boundingClientRect.height || element.prop(\'offsetHeight\'),\n        top: boundingClientRect.top + ($window.pageYOffset || $document[0].documentElement.scrollTop),\n        left: boundingClientRect.left + ($window.pageXOffset || $document[0].documentElement.scrollLeft)\n      };\n    };\n  }]);\n  uis.directive(\'uiSelectChoices\', [\'uiSelectConfig\', \'uisRepeatParser\', \'uiSelectMinErr\', \'$compile\', function (uiSelectConfig, RepeatParser, uiSelectMinErr, $compile) {\n    return {\n      restrict: \'EA\',\n      require: \'^uiSelect\',\n      replace: true,\n      transclude: true,\n      templateUrl: function templateUrl(tElement) {\n        // Gets theme attribute from parent (ui-select)\n        var theme = tElement.parent().attr(\'theme\') || uiSelectConfig.theme;\n        return theme + \'/choices.tpl.html\';\n      },\n      compile: function compile(tElement, tAttrs) {\n        if (!tAttrs.repeat) throw uiSelectMinErr(\'repeat\', "Expected \'repeat\' expression.");\n        return function link(scope, element, attrs, $select, transcludeFn) {\n          // var repeat = RepeatParser.parse(attrs.repeat);\n          var groupByExp = attrs.groupBy;\n          var groupFilterExp = attrs.groupFilter;\n          $select.parseRepeatAttr(attrs.repeat, groupByExp, groupFilterExp); //Result ready at $select.parserResult\n\n          $select.disableChoiceExpression = attrs.uiDisableChoice;\n          $select.onHighlightCallback = attrs.onHighlight;\n          $select.dropdownPosition = attrs.position ? attrs.position.toLowerCase() : uiSelectConfig.dropdownPosition;\n\n          if (groupByExp) {\n            var groups = element.querySelectorAll(\'.ui-select-choices-group\');\n            if (groups.length !== 1) throw uiSelectMinErr(\'rows\', "Expected 1 .ui-select-choices-group but got \'{0}\'.", groups.length);\n            groups.attr(\'ng-repeat\', RepeatParser.getGroupNgRepeatExpression());\n          }\n\n          var choices = element.querySelectorAll(\'.ui-select-choices-row\');\n\n          if (choices.length !== 1) {\n            throw uiSelectMinErr(\'rows\', "Expected 1 .ui-select-choices-row but got \'{0}\'.", choices.length);\n          }\n\n          choices.attr(\'ng-repeat\', $select.parserResult.repeatExpression(groupByExp)).attr(\'ng-if\', \'$select.open\') //Prevent unnecessary watches when dropdown is closed\n          .attr(\'ng-click\', \'$select.select(\' + $select.parserResult.itemName + \',false,$event)\');\n          var rowsInner = element.querySelectorAll(\'.ui-select-choices-row-inner\');\n          if (rowsInner.length !== 1) throw uiSelectMinErr(\'rows\', "Expected 1 .ui-select-choices-row-inner but got \'{0}\'.", rowsInner.length);\n          rowsInner.attr(\'uis-transclude-append\', \'\'); //Adding uisTranscludeAppend directive to row element after choices element has ngRepeat\n\n          $compile(element, transcludeFn)(scope); //Passing current transcludeFn to be able to append elements correctly from uisTranscludeAppend\n\n          scope.$watch(\'$select.search\', function (newValue) {\n            if (newValue && !$select.open && $select.multiple) $select.activate(false, true);\n            $select.activeIndex = $select.tagging.isActivated ? -1 : 0;\n            $select.refresh(attrs.refresh);\n          });\n          attrs.$observe(\'refreshDelay\', function () {\n            // $eval() is needed otherwise we get a string instead of a number\n            var refreshDelay = scope.$eval(attrs.refreshDelay);\n            $select.refreshDelay = refreshDelay !== undefined ? refreshDelay : uiSelectConfig.refreshDelay;\n          });\n          attrs.$observe(\'enableGroupBy\', function () {\n            var enableGroupBy = scope.$eval(attrs.enableGroupBy);\n\n            if (enableGroupBy !== undefined) {\n              $select.isGrouped = !!enableGroupBy;\n            }\n          });\n        };\n      }\n    };\n  }]);\n  /**\n   * Contains ui-select "intelligence".\n   *\n   * The goal is to limit dependency on the DOM whenever possible and\n   * put as much logic in the controller (instead of the link functions) as possible so it can be easily tested.\n   */\n\n  uis.controller(\'uiSelectCtrl\', [\'$scope\', \'$element\', \'$timeout\', \'$filter\', \'uisRepeatParser\', \'uiSelectMinErr\', \'uiSelectConfig\', \'$parse\', function ($scope, $element, $timeout, $filter, RepeatParser, uiSelectMinErr, uiSelectConfig, $parse) {\n    var ctrl = this;\n    var EMPTY_SEARCH = \'\';\n    ctrl.placeholder = uiSelectConfig.placeholder;\n    ctrl.searchEnabled = uiSelectConfig.searchEnabled;\n    ctrl.sortable = uiSelectConfig.sortable;\n    ctrl.refreshDelay = uiSelectConfig.refreshDelay;\n    ctrl.removeSelected = false; //If selected item(s) should be removed from dropdown list\n\n    ctrl.closeOnSelect = true; //Initialized inside uiSelect directive link function\n\n    ctrl.search = EMPTY_SEARCH;\n    ctrl.activeIndex = 0; //Dropdown of choices\n\n    ctrl.items = []; //All available choices\n\n    ctrl.open = false;\n    ctrl.focus = false;\n    ctrl.disabled = false;\n    ctrl.selected = undefined;\n    ctrl.dropdownPosition = \'auto\';\n    ctrl.focusser = undefined; //Reference to input element used to handle focus events\n\n    ctrl.resetSearchInput = true;\n    ctrl.multiple = undefined; // Initialized inside uiSelect directive link function\n\n    ctrl.disableChoiceExpression = undefined; // Initialized inside uiSelectChoices directive link function\n\n    ctrl.tagging = {\n      isActivated: false,\n      fct: undefined\n    };\n    ctrl.taggingTokens = {\n      isActivated: false,\n      tokens: undefined\n    };\n    ctrl.lockChoiceExpression = undefined; // Initialized inside uiSelectMatch directive link function\n\n    ctrl.clickTriggeredSelect = false;\n    ctrl.$filter = $filter;\n    ctrl.searchInput = $element.querySelectorAll(\'input.ui-select-search\');\n\n    if (ctrl.searchInput.length !== 1) {\n      throw uiSelectMinErr(\'searchInput\', "Expected 1 input.ui-select-search but got \'{0}\'.", ctrl.searchInput.length);\n    }\n\n    ctrl.isEmpty = function () {\n      return angular.isUndefined(ctrl.selected) || ctrl.selected === null || ctrl.selected === \'\';\n    }; // Most of the time the user does not want to empty the search input when in typeahead mode\n\n\n    function _resetSearchInput() {\n      if (ctrl.resetSearchInput || ctrl.resetSearchInput === undefined && uiSelectConfig.resetSearchInput) {\n        ctrl.search = EMPTY_SEARCH; //reset activeIndex\n\n        if (ctrl.selected && ctrl.items.length && !ctrl.multiple) {\n          ctrl.activeIndex = ctrl.items.indexOf(ctrl.selected);\n        }\n      }\n    }\n\n    function _groupsFilter(groups, groupNames) {\n      var i,\n          j,\n          result = [];\n\n      for (i = 0; i < groupNames.length; i++) {\n        for (j = 0; j < groups.length; j++) {\n          if (groups[j].name == [groupNames[i]]) {\n            result.push(groups[j]);\n          }\n        }\n      }\n\n      return result;\n    } // When the user clicks on ui-select, displays the dropdown list\n\n\n    ctrl.activate = function (initSearchValue, avoidReset) {\n      if (!ctrl.disabled && !ctrl.open) {\n        if (!avoidReset) _resetSearchInput();\n        $scope.$broadcast(\'uis:activate\');\n        ctrl.open = true;\n        ctrl.activeIndex = ctrl.activeIndex >= ctrl.items.length ? 0 : ctrl.activeIndex; // ensure that the index is set to zero for tagging variants\n        // that where first option is auto-selected\n\n        if (ctrl.activeIndex === -1 && ctrl.taggingLabel !== false) {\n          ctrl.activeIndex = 0;\n        } // Give it time to appear before focus\n\n\n        $timeout(function () {\n          ctrl.search = initSearchValue || ctrl.search;\n          ctrl.searchInput[0].focus();\n\n          if (!ctrl.tagging.isActivated && ctrl.items.length > 1) {\n            _ensureHighlightVisible();\n          }\n        });\n      }\n    };\n\n    ctrl.findGroupByName = function (name) {\n      return ctrl.groups && ctrl.groups.filter(function (group) {\n        return group.name === name;\n      })[0];\n    };\n\n    ctrl.parseRepeatAttr = function (repeatAttr, groupByExp, groupFilterExp) {\n      function updateGroups(items) {\n        var groupFn = $scope.$eval(groupByExp);\n        ctrl.groups = [];\n        angular.forEach(items, function (item) {\n          var groupName = angular.isFunction(groupFn) ? groupFn(item) : item[groupFn];\n          var group = ctrl.findGroupByName(groupName);\n\n          if (group) {\n            group.items.push(item);\n          } else {\n            ctrl.groups.push({\n              name: groupName,\n              items: [item]\n            });\n          }\n        });\n\n        if (groupFilterExp) {\n          var groupFilterFn = $scope.$eval(groupFilterExp);\n\n          if (angular.isFunction(groupFilterFn)) {\n            ctrl.groups = groupFilterFn(ctrl.groups);\n          } else if (angular.isArray(groupFilterFn)) {\n            ctrl.groups = _groupsFilter(ctrl.groups, groupFilterFn);\n          }\n        }\n\n        ctrl.items = [];\n        ctrl.groups.forEach(function (group) {\n          ctrl.items = ctrl.items.concat(group.items);\n        });\n      }\n\n      function setPlainItems(items) {\n        ctrl.items = items;\n      }\n\n      ctrl.setItemsFn = groupByExp ? updateGroups : setPlainItems;\n      ctrl.parserResult = RepeatParser.parse(repeatAttr);\n      ctrl.isGrouped = !!groupByExp;\n      ctrl.itemProperty = ctrl.parserResult.itemName; //If collection is an Object, convert it to Array\n\n      var originalSource = ctrl.parserResult.source; //When an object is used as source, we better create an array and use it as \'source\'\n\n      var createArrayFromObject = function createArrayFromObject() {\n        var origSrc = originalSource($scope);\n        $scope.$uisSource = Object.keys(origSrc).map(function (v) {\n          var result = {};\n          result[ctrl.parserResult.keyName] = v;\n          result.value = origSrc[v];\n          return result;\n        });\n      };\n\n      if (ctrl.parserResult.keyName) {\n        // Check for (key,value) syntax\n        createArrayFromObject();\n        ctrl.parserResult.source = $parse(\'$uisSource\' + ctrl.parserResult.filters);\n        $scope.$watch(originalSource, function (newVal, oldVal) {\n          if (newVal !== oldVal) createArrayFromObject();\n        }, true);\n      }\n\n      ctrl.refreshItems = function (data) {\n        data = data || ctrl.parserResult.source($scope);\n        var selectedItems = ctrl.selected; //TODO should implement for single mode removeSelected\n\n        if (ctrl.isEmpty() || angular.isArray(selectedItems) && !selectedItems.length || !ctrl.removeSelected) {\n          ctrl.setItemsFn(data);\n        } else {\n          if (data !== undefined) {\n            var filteredItems = data.filter(function (i) {\n              return selectedItems && selectedItems.indexOf(i) < 0;\n            });\n            ctrl.setItemsFn(filteredItems);\n          }\n        }\n\n        if (ctrl.dropdownPosition === \'auto\' || ctrl.dropdownPosition === \'up\') {\n          $scope.calculateDropdownPos();\n        }\n      }; // See https://github.com/angular/angular.js/blob/v1.2.15/src/ng/directive/ngRepeat.js#L259\n\n\n      $scope.$watchCollection(ctrl.parserResult.source, function (items) {\n        if (items === undefined || items === null) {\n          // If the user specifies undefined or null => reset the collection\n          // Special case: items can be undefined if the user did not initialized the collection on the scope\n          // i.e $scope.addresses = [] is missing\n          ctrl.items = [];\n        } else {\n          if (!angular.isArray(items)) {\n            throw uiSelectMinErr(\'items\', "Expected an array but got \'{0}\'.", items);\n          } else {\n            //Remove already selected items (ex: while searching)\n            //TODO Should add a test\n            ctrl.refreshItems(items);\n            ctrl.ngModel.$modelValue = null; //Force scope model value and ngModel value to be out of sync to re-run formatters\n          }\n        }\n      });\n    };\n\n    var _refreshDelayPromise;\n    /**\n     * Typeahead mode: lets the user refresh the collection using his own function.\n     *\n     * See Expose $select.search for external / remote filtering https://github.com/angular-ui/ui-select/pull/31\n     */\n\n\n    ctrl.refresh = function (refreshAttr) {\n      if (refreshAttr !== undefined) {\n        // Debounce\n        // See https://github.com/angular-ui/bootstrap/blob/0.10.0/src/typeahead/typeahead.js#L155\n        // FYI AngularStrap typeahead does not have debouncing: https://github.com/mgcrea/angular-strap/blob/v2.0.0-rc.4/src/typeahead/typeahead.js#L177\n        if (_refreshDelayPromise) {\n          $timeout.cancel(_refreshDelayPromise);\n        }\n\n        _refreshDelayPromise = $timeout(function () {\n          $scope.$eval(refreshAttr);\n        }, ctrl.refreshDelay);\n      }\n    };\n\n    ctrl.isActive = function (itemScope) {\n      if (!ctrl.open) {\n        return false;\n      }\n\n      var itemIndex = ctrl.items.indexOf(itemScope[ctrl.itemProperty]);\n      var isActive = itemIndex === ctrl.activeIndex;\n\n      if (!isActive || itemIndex < 0 && ctrl.taggingLabel !== false || itemIndex < 0 && ctrl.taggingLabel === false) {\n        return false;\n      }\n\n      if (isActive && !angular.isUndefined(ctrl.onHighlightCallback)) {\n        itemScope.$eval(ctrl.onHighlightCallback);\n      }\n\n      return isActive;\n    };\n\n    ctrl.isDisabled = function (itemScope) {\n      if (!ctrl.open) return;\n      var itemIndex = ctrl.items.indexOf(itemScope[ctrl.itemProperty]);\n      var isDisabled = false;\n      var item;\n\n      if (itemIndex >= 0 && !angular.isUndefined(ctrl.disableChoiceExpression)) {\n        item = ctrl.items[itemIndex];\n        isDisabled = !!itemScope.$eval(ctrl.disableChoiceExpression); // force the boolean value\n\n        item._uiSelectChoiceDisabled = isDisabled; // store this for later reference\n      }\n\n      return isDisabled;\n    }; // When the user selects an item with ENTER or clicks the dropdown\n\n\n    ctrl.select = function (item, skipFocusser, $event) {\n      if (item === undefined || !item._uiSelectChoiceDisabled) {\n        if (!ctrl.items && !ctrl.search) return;\n\n        if (!item || !item._uiSelectChoiceDisabled) {\n          if (ctrl.tagging.isActivated) {\n            // if taggingLabel is disabled, we pull from ctrl.search val\n            if (ctrl.taggingLabel === false) {\n              if (ctrl.activeIndex < 0) {\n                item = ctrl.tagging.fct !== undefined ? ctrl.tagging.fct(ctrl.search) : ctrl.search;\n\n                if (!item || angular.equals(ctrl.items[0], item)) {\n                  return;\n                }\n              } else {\n                // keyboard nav happened first, user selected from dropdown\n                item = ctrl.items[ctrl.activeIndex];\n              }\n            } else {\n              // tagging always operates at index zero, taggingLabel === false pushes\n              // the ctrl.search value without having it injected\n              if (ctrl.activeIndex === 0) {\n                // ctrl.tagging pushes items to ctrl.items, so we only have empty val\n                // for `item` if it is a detected duplicate\n                if (item === undefined) return; // create new item on the fly if we don\'t already have one;\n                // use tagging function if we have one\n\n                if (ctrl.tagging.fct !== undefined && typeof item === \'string\') {\n                  item = ctrl.tagging.fct(ctrl.search);\n                  if (!item) return; // if item type is \'string\', apply the tagging label\n                } else if (typeof item === \'string\') {\n                  // trim the trailing space\n                  item = item.replace(ctrl.taggingLabel, \'\').trim();\n                }\n              }\n            } // search ctrl.selected for dupes potentially caused by tagging and return early if found\n\n\n            if (ctrl.selected && angular.isArray(ctrl.selected) && ctrl.selected.filter(function (selection) {\n              return angular.equals(selection, item);\n            }).length > 0) {\n              ctrl.close(skipFocusser);\n              return;\n            }\n          }\n\n          $scope.$broadcast(\'uis:select\', item);\n          var locals = {};\n          locals[ctrl.parserResult.itemName] = item;\n          $timeout(function () {\n            ctrl.onSelectCallback($scope, {\n              $item: item,\n              $model: ctrl.parserResult.modelMapper($scope, locals)\n            });\n          });\n\n          if (ctrl.closeOnSelect) {\n            ctrl.close(skipFocusser);\n          }\n\n          if ($event && $event.type === \'click\') {\n            ctrl.clickTriggeredSelect = true;\n          }\n        }\n      }\n    }; // Closes the dropdown\n\n\n    ctrl.close = function (skipFocusser) {\n      if (!ctrl.open) return;\n      if (ctrl.ngModel && ctrl.ngModel.$setTouched) ctrl.ngModel.$setTouched();\n\n      _resetSearchInput();\n\n      ctrl.open = false;\n      $scope.$broadcast(\'uis:close\', skipFocusser);\n    };\n\n    ctrl.setFocus = function () {\n      if (!ctrl.focus) ctrl.focusInput[0].focus();\n    };\n\n    ctrl.clear = function ($event) {\n      ctrl.select(undefined);\n      $event.stopPropagation();\n      $timeout(function () {\n        ctrl.focusser[0].focus();\n      }, 0, false);\n    }; // Toggle dropdown\n\n\n    ctrl.toggle = function (e) {\n      if (ctrl.open) {\n        ctrl.close();\n        e.preventDefault();\n        e.stopPropagation();\n      } else {\n        ctrl.activate();\n      }\n    };\n\n    ctrl.isLocked = function (itemScope, itemIndex) {\n      var isLocked,\n          item = ctrl.selected[itemIndex];\n\n      if (item && !angular.isUndefined(ctrl.lockChoiceExpression)) {\n        isLocked = !!itemScope.$eval(ctrl.lockChoiceExpression); // force the boolean value\n\n        item._uiSelectChoiceLocked = isLocked; // store this for later reference\n      }\n\n      return isLocked;\n    };\n\n    var sizeWatch = null;\n\n    ctrl.sizeSearchInput = function () {\n      var input = ctrl.searchInput[0],\n          container = ctrl.searchInput.parent().parent()[0],\n          calculateContainerWidth = function calculateContainerWidth() {\n        // Return the container width only if the search input is visible\n        return container.clientWidth * !!input.offsetParent;\n      },\n          updateIfVisible = function updateIfVisible(containerWidth) {\n        if (containerWidth === 0) {\n          return false;\n        }\n\n        var inputWidth = containerWidth - input.offsetLeft - 10;\n        if (inputWidth < 50) inputWidth = containerWidth;\n        ctrl.searchInput.css(\'width\', inputWidth + \'px\');\n        return true;\n      };\n\n      ctrl.searchInput.css(\'width\', \'10px\');\n      $timeout(function () {\n        //Give tags time to render correctly\n        if (sizeWatch === null && !updateIfVisible(calculateContainerWidth())) {\n          sizeWatch = $scope.$watch(calculateContainerWidth, function (containerWidth) {\n            if (updateIfVisible(containerWidth)) {\n              sizeWatch();\n              sizeWatch = null;\n            }\n          });\n        }\n      });\n    };\n\n    function _handleDropDownSelection(key) {\n      var processed = true;\n\n      switch (key) {\n        case KEY.DOWN:\n          if (!ctrl.open && ctrl.multiple) ctrl.activate(false, true); //In case its the search input in \'multiple\' mode\n          else if (ctrl.activeIndex < ctrl.items.length - 1) {\n            ctrl.activeIndex++;\n          }\n          break;\n\n        case KEY.UP:\n          if (!ctrl.open && ctrl.multiple) ctrl.activate(false, true); //In case its the search input in \'multiple\' mode\n          else if (ctrl.activeIndex > 0 || ctrl.search.length === 0 && ctrl.tagging.isActivated && ctrl.activeIndex > -1) {\n            ctrl.activeIndex--;\n          }\n          break;\n\n        case KEY.TAB:\n          if (!ctrl.multiple || ctrl.open) ctrl.select(ctrl.items[ctrl.activeIndex], true);\n          break;\n\n        case KEY.ENTER:\n          if (ctrl.open && (ctrl.tagging.isActivated || ctrl.activeIndex >= 0)) {\n            ctrl.select(ctrl.items[ctrl.activeIndex]); // Make sure at least one dropdown item is highlighted before adding if not in tagging mode\n          } else {\n            ctrl.activate(false, true); //In case its the search input in \'multiple\' mode\n          }\n\n          break;\n\n        case KEY.ESC:\n          ctrl.close();\n          break;\n\n        default:\n          processed = false;\n      }\n\n      return processed;\n    } // Bind to keyboard shortcuts\n\n\n    ctrl.searchInput.on(\'keydown\', function (e) {\n      var key = e.which; // if(~[KEY.ESC,KEY.TAB].indexOf(key)){\n      //   //TODO: SEGURO?\n      //   ctrl.close();\n      // }\n\n      $scope.$apply(function () {\n        var tagged = false;\n\n        if (ctrl.items.length > 0 || ctrl.tagging.isActivated) {\n          _handleDropDownSelection(key);\n\n          if (ctrl.taggingTokens.isActivated) {\n            for (var i = 0; i < ctrl.taggingTokens.tokens.length; i++) {\n              if (ctrl.taggingTokens.tokens[i] === KEY.MAP[e.keyCode]) {\n                // make sure there is a new value to push via tagging\n                if (ctrl.search.length > 0) {\n                  tagged = true;\n                }\n              }\n            }\n\n            if (tagged) {\n              $timeout(function () {\n                ctrl.searchInput.triggerHandler(\'tagged\');\n                var newItem = ctrl.search.replace(KEY.MAP[e.keyCode], \'\').trim();\n\n                if (ctrl.tagging.fct) {\n                  newItem = ctrl.tagging.fct(newItem);\n                }\n\n                if (newItem) ctrl.select(newItem, true);\n              });\n            }\n          }\n        }\n      });\n\n      if (KEY.isVerticalMovement(key) && ctrl.items.length > 0) {\n        _ensureHighlightVisible();\n      }\n\n      if (key === KEY.ENTER || key === KEY.ESC) {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    }); // If tagging try to split by tokens and add items\n\n    ctrl.searchInput.on(\'paste\', function (e) {\n      var data = e.originalEvent.clipboardData.getData(\'text/plain\');\n\n      if (data && data.length > 0 && ctrl.taggingTokens.isActivated && ctrl.tagging.fct) {\n        var items = data.split(ctrl.taggingTokens.tokens[0]); // split by first token only\n\n        if (items && items.length > 0) {\n          angular.forEach(items, function (item) {\n            var newItem = ctrl.tagging.fct(item);\n\n            if (newItem) {\n              ctrl.select(newItem, true);\n            }\n          });\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      }\n    });\n    ctrl.searchInput.on(\'tagged\', function () {\n      $timeout(function () {\n        _resetSearchInput();\n      });\n    }); // See https://github.com/ivaynberg/select2/blob/3.4.6/select2.js#L1431\n\n    function _ensureHighlightVisible() {\n      var container = $element.querySelectorAll(\'.ui-select-choices-content\');\n      var choices = container.querySelectorAll(\'.ui-select-choices-row\');\n\n      if (choices.length < 1) {\n        throw uiSelectMinErr(\'choices\', "Expected multiple .ui-select-choices-row but got \'{0}\'.", choices.length);\n      }\n\n      if (ctrl.activeIndex < 0) {\n        return;\n      }\n\n      var highlighted = choices[ctrl.activeIndex];\n      var posY = highlighted.offsetTop + highlighted.clientHeight - container[0].scrollTop;\n      var height = container[0].offsetHeight;\n\n      if (posY > height) {\n        container[0].scrollTop += posY - height;\n      } else if (posY < highlighted.clientHeight) {\n        if (ctrl.isGrouped && ctrl.activeIndex === 0) container[0].scrollTop = 0; //To make group header visible when going all the way up\n        else container[0].scrollTop -= highlighted.clientHeight - posY;\n      }\n    }\n\n    $scope.$on(\'$destroy\', function () {\n      ctrl.searchInput.off(\'keyup keydown tagged blur paste\');\n    });\n  }]);\n  uis.directive(\'uiSelect\', [\'$document\', \'uiSelectConfig\', \'uiSelectMinErr\', \'uisOffset\', \'$compile\', \'$parse\', \'$timeout\', function ($document, uiSelectConfig, uiSelectMinErr, uisOffset, $compile, $parse, $timeout) {\n    return {\n      restrict: \'EA\',\n      templateUrl: function templateUrl(tElement, tAttrs) {\n        var theme = tAttrs.theme || uiSelectConfig.theme;\n        return theme + (angular.isDefined(tAttrs.multiple) ? \'/select-multiple.tpl.html\' : \'/select.tpl.html\');\n      },\n      replace: true,\n      transclude: true,\n      require: [\'uiSelect\', \'^ngModel\'],\n      scope: true,\n      controller: \'uiSelectCtrl\',\n      controllerAs: \'$select\',\n      compile: function compile(tElement, tAttrs) {\n        //Multiple or Single depending if multiple attribute presence\n        if (angular.isDefined(tAttrs.multiple)) tElement.append(\'<ui-select-multiple/>\').removeAttr(\'multiple\');else tElement.append(\'<ui-select-single/>\');\n        if (tAttrs.inputId) tElement.querySelectorAll(\'input.ui-select-search\')[0].id = tAttrs.inputId;\n        return function (scope, element, attrs, ctrls, transcludeFn) {\n          var $select = ctrls[0];\n          var ngModel = ctrls[1];\n          $select.generatedId = uiSelectConfig.generateId();\n          $select.baseTitle = attrs.title || \'Select box\';\n          $select.focusserTitle = $select.baseTitle + \' focus\';\n          $select.focusserId = \'focusser-\' + $select.generatedId;\n\n          $select.closeOnSelect = function () {\n            if (angular.isDefined(attrs.closeOnSelect)) {\n              return $parse(attrs.closeOnSelect)();\n            } else {\n              return uiSelectConfig.closeOnSelect;\n            }\n          }();\n\n          $select.onSelectCallback = $parse(attrs.onSelect);\n          $select.onRemoveCallback = $parse(attrs.onRemove); //Limit the number of selections allowed\n\n          $select.limit = angular.isDefined(attrs.limit) ? parseInt(attrs.limit, 10) : undefined; //Set reference to ngModel from uiSelectCtrl\n\n          $select.ngModel = ngModel;\n\n          $select.choiceGrouped = function (group) {\n            return $select.isGrouped && group && group.name;\n          };\n\n          if (attrs.tabindex) {\n            attrs.$observe(\'tabindex\', function (value) {\n              $select.focusInput.attr(\'tabindex\', value);\n              element.removeAttr(\'tabindex\');\n            });\n          }\n\n          scope.$watch(\'searchEnabled\', function () {\n            var searchEnabled = scope.$eval(attrs.searchEnabled);\n            $select.searchEnabled = searchEnabled !== undefined ? searchEnabled : uiSelectConfig.searchEnabled;\n          });\n          scope.$watch(\'sortable\', function () {\n            var sortable = scope.$eval(attrs.sortable);\n            $select.sortable = sortable !== undefined ? sortable : uiSelectConfig.sortable;\n          });\n          attrs.$observe(\'disabled\', function () {\n            // No need to use $eval() (thanks to ng-disabled) since we already get a boolean instead of a string\n            $select.disabled = attrs.disabled !== undefined ? attrs.disabled : false;\n          });\n          attrs.$observe(\'resetSearchInput\', function () {\n            // $eval() is needed otherwise we get a string instead of a boolean\n            var resetSearchInput = scope.$eval(attrs.resetSearchInput);\n            $select.resetSearchInput = resetSearchInput !== undefined ? resetSearchInput : true;\n          });\n          attrs.$observe(\'tagging\', function () {\n            if (attrs.tagging !== undefined) {\n              // $eval() is needed otherwise we get a string instead of a boolean\n              var taggingEval = scope.$eval(attrs.tagging);\n              $select.tagging = {\n                isActivated: true,\n                fct: taggingEval !== true ? taggingEval : undefined\n              };\n            } else {\n              $select.tagging = {\n                isActivated: false,\n                fct: undefined\n              };\n            }\n          });\n          attrs.$observe(\'taggingLabel\', function () {\n            if (attrs.tagging !== undefined) {\n              // check eval for FALSE, in this case, we disable the labels\n              // associated with tagging\n              if (attrs.taggingLabel === \'false\') {\n                $select.taggingLabel = false;\n              } else {\n                $select.taggingLabel = attrs.taggingLabel !== undefined ? attrs.taggingLabel : \'(new)\';\n              }\n            }\n          });\n          attrs.$observe(\'taggingTokens\', function () {\n            if (attrs.tagging !== undefined) {\n              var tokens = attrs.taggingTokens !== undefined ? attrs.taggingTokens.split(\'|\') : [\',\', \'ENTER\'];\n              $select.taggingTokens = {\n                isActivated: true,\n                tokens: tokens\n              };\n            }\n          }); //Automatically gets focus when loaded\n\n          if (angular.isDefined(attrs.autofocus)) {\n            $timeout(function () {\n              $select.setFocus();\n            });\n          } //Gets focus based on scope event name (e.g. focus-on=\'SomeEventName\')\n\n\n          if (angular.isDefined(attrs.focusOn)) {\n            scope.$on(attrs.focusOn, function () {\n              $timeout(function () {\n                $select.setFocus();\n              });\n            });\n          }\n\n          function onDocumentClick(e) {\n            if (!$select.open) return; //Skip it if dropdown is close\n\n            var contains = false;\n\n            if (window.jQuery) {\n              // Firefox 3.6 does not support element.contains()\n              // See Node.contains https://developer.mozilla.org/en-US/docs/Web/API/Node.contains\n              contains = window.jQuery.contains(element[0], e.target);\n            } else {\n              contains = element[0].contains(e.target);\n            }\n\n            if (!contains && !$select.clickTriggeredSelect) {\n              //Will lose focus only with certain targets\n              var focusableControls = [\'input\', \'button\', \'textarea\'];\n              var targetController = angular.element(e.target).controller(\'uiSelect\'); //To check if target is other ui-select\n\n              var skipFocusser = targetController && targetController !== $select; //To check if target is other ui-select\n\n              if (!skipFocusser) skipFocusser = ~focusableControls.indexOf(e.target.tagName.toLowerCase()); //Check if target is input, button or textarea\n\n              $select.close(skipFocusser);\n              scope.$digest();\n            }\n\n            $select.clickTriggeredSelect = false;\n          } // See Click everywhere but here event http://stackoverflow.com/questions/12931369\n\n\n          $document.on(\'click\', onDocumentClick);\n          scope.$on(\'$destroy\', function () {\n            $document.off(\'click\', onDocumentClick);\n          }); // Move transcluded elements to their correct position in main template\n\n          transcludeFn(scope, function (clone) {\n            // See Transclude in AngularJS http://blog.omkarpatil.com/2012/11/transclude-in-angularjs.html\n            // One day jqLite will be replaced by jQuery and we will be able to write:\n            // var transcludedElement = clone.filter(\'.my-class\')\n            // instead of creating a hackish DOM element:\n            var transcluded = angular.element(\'<div>\').append(clone);\n            var transcludedMatch = transcluded.querySelectorAll(\'.ui-select-match\');\n            transcludedMatch.removeAttr(\'ui-select-match\'); //To avoid loop in case directive as attr\n\n            transcludedMatch.removeAttr(\'data-ui-select-match\'); // Properly handle HTML5 data-attributes\n\n            if (transcludedMatch.length !== 1) {\n              throw uiSelectMinErr(\'transcluded\', "Expected 1 .ui-select-match but got \'{0}\'.", transcludedMatch.length);\n            }\n\n            element.querySelectorAll(\'.ui-select-match\').replaceWith(transcludedMatch);\n            var transcludedChoices = transcluded.querySelectorAll(\'.ui-select-choices\');\n            transcludedChoices.removeAttr(\'ui-select-choices\'); //To avoid loop in case directive as attr\n\n            transcludedChoices.removeAttr(\'data-ui-select-choices\'); // Properly handle HTML5 data-attributes\n\n            if (transcludedChoices.length !== 1) {\n              throw uiSelectMinErr(\'transcluded\', "Expected 1 .ui-select-choices but got \'{0}\'.", transcludedChoices.length);\n            }\n\n            element.querySelectorAll(\'.ui-select-choices\').replaceWith(transcludedChoices);\n          }); // Support for appending the select field to the body when its open\n\n          var appendToBody = scope.$eval(attrs.appendToBody);\n\n          if (appendToBody !== undefined ? appendToBody : uiSelectConfig.appendToBody) {\n            scope.$watch(\'$select.open\', function (isOpen) {\n              if (isOpen) {\n                positionDropdown();\n              } else {\n                resetDropdown();\n              }\n            }); // Move the dropdown back to its original location when the scope is destroyed. Otherwise\n            // it might stick around when the user routes away or the select field is otherwise removed\n\n            scope.$on(\'$destroy\', function () {\n              resetDropdown();\n            });\n          } // Hold on to a reference to the .ui-select-container element for appendToBody support\n\n\n          var placeholder = null,\n              originalWidth = \'\';\n\n          function positionDropdown() {\n            // Remember the absolute position of the element\n            var offset = uisOffset(element); // Clone the element into a placeholder element to take its original place in the DOM\n\n            placeholder = angular.element(\'<div class="ui-select-placeholder"></div>\');\n            placeholder[0].style.width = offset.width + \'px\';\n            placeholder[0].style.height = offset.height + \'px\';\n            element.after(placeholder); // Remember the original value of the element width inline style, so it can be restored\n            // when the dropdown is closed\n\n            originalWidth = element[0].style.width; // Now move the actual dropdown element to the end of the body\n\n            $document.find(\'body\').append(element);\n            element[0].style.position = \'absolute\';\n            element[0].style.left = offset.left + \'px\';\n            element[0].style.top = offset.top + \'px\';\n            element[0].style.width = offset.width + \'px\';\n          }\n\n          function resetDropdown() {\n            if (placeholder === null) {\n              // The dropdown has not actually been display yet, so there\'s nothing to reset\n              return;\n            } // Move the dropdown element back to its original location in the DOM\n\n\n            placeholder.replaceWith(element);\n            placeholder = null;\n            element[0].style.position = \'\';\n            element[0].style.left = \'\';\n            element[0].style.top = \'\';\n            element[0].style.width = originalWidth;\n          } // Hold on to a reference to the .ui-select-dropdown element for direction support.\n\n\n          var dropdown = null,\n              directionUpClassName = \'direction-up\'; // Support changing the direction of the dropdown if there isn\'t enough space to render it.\n\n          scope.$watch(\'$select.open\', function () {\n            if ($select.dropdownPosition === \'auto\' || $select.dropdownPosition === \'up\') {\n              scope.calculateDropdownPos();\n            }\n          });\n\n          var setDropdownPosUp = function setDropdownPosUp(offset, offsetDropdown) {\n            offset = offset || uisOffset(element);\n            offsetDropdown = offsetDropdown || uisOffset(dropdown);\n            dropdown[0].style.position = \'absolute\';\n            dropdown[0].style.top = offsetDropdown.height * -1 + \'px\';\n            element.addClass(directionUpClassName);\n          };\n\n          var setDropdownPosDown = function setDropdownPosDown(offset, offsetDropdown) {\n            element.removeClass(directionUpClassName);\n            offset = offset || uisOffset(element);\n            offsetDropdown = offsetDropdown || uisOffset(dropdown);\n            dropdown[0].style.position = \'\';\n            dropdown[0].style.top = \'\';\n          };\n\n          scope.calculateDropdownPos = function () {\n            if ($select.open) {\n              dropdown = angular.element(element).querySelectorAll(\'.ui-select-dropdown\');\n\n              if (dropdown.length === 0) {\n                return;\n              } // Hide the dropdown so there is no flicker until $timeout is done executing.\n\n\n              dropdown[0].style.opacity = 0; // Delay positioning the dropdown until all choices have been added so its height is correct.\n\n              $timeout(function () {\n                if ($select.dropdownPosition === \'up\') {\n                  //Go UP\n                  setDropdownPosUp(offset, offsetDropdown);\n                } else {\n                  //AUTO\n                  element.removeClass(directionUpClassName);\n                  var offset = uisOffset(element);\n                  var offsetDropdown = uisOffset(dropdown); //https://code.google.com/p/chromium/issues/detail?id=342307#c4\n\n                  var scrollTop = $document[0].documentElement.scrollTop || $document[0].body.scrollTop; //To make it cross browser (blink, webkit, IE, Firefox).\n                  // Determine if the direction of the dropdown needs to be changed.\n\n                  if (offset.top + offset.height + offsetDropdown.height > scrollTop + $document[0].documentElement.clientHeight) {\n                    //Go UP\n                    setDropdownPosUp(offset, offsetDropdown);\n                  } else {\n                    //Go DOWN\n                    setDropdownPosDown(offset, offsetDropdown);\n                  }\n                } // Display the dropdown once it has been positioned.\n\n\n                dropdown[0].style.opacity = 1;\n              });\n            } else {\n              if (dropdown === null || dropdown.length === 0) {\n                return;\n              } // Reset the position of the dropdown.\n\n\n              dropdown[0].style.position = \'\';\n              dropdown[0].style.top = \'\';\n              element.removeClass(directionUpClassName);\n            }\n          };\n        };\n      }\n    };\n  }]);\n  uis.directive(\'uiSelectMatch\', [\'uiSelectConfig\', function (uiSelectConfig) {\n    return {\n      restrict: \'EA\',\n      require: \'^uiSelect\',\n      replace: true,\n      transclude: true,\n      templateUrl: function templateUrl(tElement) {\n        // Gets theme attribute from parent (ui-select)\n        var theme = tElement.parent().attr(\'theme\') || uiSelectConfig.theme;\n        var multi = tElement.parent().attr(\'multiple\');\n        return theme + (multi ? \'/match-multiple.tpl.html\' : \'/match.tpl.html\');\n      },\n      link: function link(scope, element, attrs, $select) {\n        $select.lockChoiceExpression = attrs.uiLockChoice;\n        attrs.$observe(\'placeholder\', function (placeholder) {\n          $select.placeholder = placeholder !== undefined ? placeholder : uiSelectConfig.placeholder;\n        });\n\n        function setAllowClear(allow) {\n          $select.allowClear = angular.isDefined(allow) ? allow === \'\' ? true : allow.toLowerCase() === \'true\' : false;\n        }\n\n        attrs.$observe(\'allowClear\', setAllowClear);\n        setAllowClear(attrs.allowClear);\n\n        if ($select.multiple) {\n          $select.sizeSearchInput();\n        }\n      }\n    };\n  }]);\n  uis.directive(\'uiSelectMultiple\', [\'uiSelectMinErr\', \'$timeout\', function (uiSelectMinErr, $timeout) {\n    return {\n      restrict: \'EA\',\n      require: [\'^uiSelect\', \'^ngModel\'],\n      controller: [\'$scope\', \'$timeout\', function ($scope, $timeout) {\n        var ctrl = this,\n            $select = $scope.$select,\n            ngModel; //Wait for link fn to inject it\n\n        $scope.$evalAsync(function () {\n          ngModel = $scope.ngModel;\n        });\n        ctrl.activeMatchIndex = -1;\n\n        ctrl.updateModel = function () {\n          ngModel.$setViewValue(Date.now()); //Set timestamp as a unique string to force changes\n\n          ctrl.refreshComponent();\n        };\n\n        ctrl.refreshComponent = function () {\n          //Remove already selected items\n          //e.g. When user clicks on a selection, the selected array changes and\n          //the dropdown should remove that item\n          $select.refreshItems();\n          $select.sizeSearchInput();\n        }; // Remove item from multiple select\n\n\n        ctrl.removeChoice = function (index) {\n          var removedChoice = $select.selected[index]; // if the choice is locked, can\'t remove it\n\n          if (removedChoice._uiSelectChoiceLocked) return;\n          var locals = {};\n          locals[$select.parserResult.itemName] = removedChoice;\n          $select.selected.splice(index, 1);\n          ctrl.activeMatchIndex = -1;\n          $select.sizeSearchInput(); // Give some time for scope propagation.\n\n          $timeout(function () {\n            $select.onRemoveCallback($scope, {\n              $item: removedChoice,\n              $model: $select.parserResult.modelMapper($scope, locals)\n            });\n          });\n          ctrl.updateModel();\n        };\n\n        ctrl.getPlaceholder = function () {\n          //Refactor single?\n          if ($select.selected && $select.selected.length) return;\n          return $select.placeholder;\n        };\n      }],\n      controllerAs: \'$selectMultiple\',\n      link: function link(scope, element, attrs, ctrls) {\n        var $select = ctrls[0];\n        var ngModel = scope.ngModel = ctrls[1];\n        var $selectMultiple = scope.$selectMultiple; //$select.selected = raw selected objects (ignoring any property binding)\n\n        $select.multiple = true;\n        $select.removeSelected = true; //Input that will handle focus\n\n        $select.focusInput = $select.searchInput; //From view --\x3e model\n\n        ngModel.$parsers.unshift(function () {\n          var locals = {},\n              result,\n              resultMultiple = [];\n\n          for (var j = $select.selected.length - 1; j >= 0; j--) {\n            locals = {};\n            locals[$select.parserResult.itemName] = $select.selected[j];\n            result = $select.parserResult.modelMapper(scope, locals);\n            resultMultiple.unshift(result);\n          }\n\n          return resultMultiple;\n        }); // From model --\x3e view\n\n        ngModel.$formatters.unshift(function (inputValue) {\n          var data = $select.parserResult.source(scope, {\n            $select: {\n              search: \'\'\n            }\n          }),\n              //Overwrite $search\n          locals = {},\n              result;\n          if (!data) return inputValue;\n          var resultMultiple = [];\n\n          var checkFnMultiple = function checkFnMultiple(list, value) {\n            if (!list || !list.length) return;\n\n            for (var p = list.length - 1; p >= 0; p--) {\n              locals[$select.parserResult.itemName] = list[p];\n              result = $select.parserResult.modelMapper(scope, locals);\n\n              if ($select.parserResult.trackByExp) {\n                var matches = /\\.(.+)/.exec($select.parserResult.trackByExp);\n\n                if (matches.length > 0 && result[matches[1]] == value[matches[1]]) {\n                  resultMultiple.unshift(list[p]);\n                  return true;\n                }\n              }\n\n              if (angular.equals(result, value)) {\n                resultMultiple.unshift(list[p]);\n                return true;\n              }\n            }\n\n            return false;\n          };\n\n          if (!inputValue) return resultMultiple; //If ngModel was undefined\n\n          for (var k = inputValue.length - 1; k >= 0; k--) {\n            //Check model array of currently selected items\n            if (!checkFnMultiple($select.selected, inputValue[k])) {\n              //Check model array of all items available\n              if (!checkFnMultiple(data, inputValue[k])) {\n                //If not found on previous lists, just add it directly to resultMultiple\n                resultMultiple.unshift(inputValue[k]);\n              }\n            }\n          }\n\n          return resultMultiple;\n        }); //Watch for external model changes\n\n        scope.$watchCollection(function () {\n          return ngModel.$modelValue;\n        }, function (newValue, oldValue) {\n          if (oldValue != newValue) {\n            ngModel.$modelValue = null; //Force scope model value and ngModel value to be out of sync to re-run formatters\n\n            $selectMultiple.refreshComponent();\n          }\n        });\n\n        ngModel.$render = function () {\n          // Make sure that model value is array\n          if (!angular.isArray(ngModel.$viewValue)) {\n            // Have tolerance for null or undefined values\n            if (angular.isUndefined(ngModel.$viewValue) || ngModel.$viewValue === null) {\n              $select.selected = [];\n            } else {\n              throw uiSelectMinErr(\'multiarr\', "Expected model value to be array but got \'{0}\'", ngModel.$viewValue);\n            }\n          }\n\n          $select.selected = ngModel.$viewValue;\n          scope.$evalAsync(); //To force $digest\n        };\n\n        scope.$on(\'uis:select\', function (event, item) {\n          if ($select.selected.length >= $select.limit) {\n            return;\n          }\n\n          $select.selected.push(item);\n          $selectMultiple.updateModel();\n        });\n        scope.$on(\'uis:activate\', function () {\n          $selectMultiple.activeMatchIndex = -1;\n        });\n        scope.$watch(\'$select.disabled\', function (newValue, oldValue) {\n          // As the search input field may now become visible, it may be necessary to recompute its size\n          if (oldValue && !newValue) $select.sizeSearchInput();\n        });\n        $select.searchInput.on(\'keydown\', function (e) {\n          var key = e.which;\n          scope.$apply(function () {\n            var processed = false; // var tagged = false; //Checkme\n\n            if (KEY.isHorizontalMovement(key)) {\n              processed = _handleMatchSelection(key);\n            }\n\n            if (processed && key != KEY.TAB) {\n              //TODO Check si el tab selecciona aun correctamente\n              //Crear test\n              e.preventDefault();\n              e.stopPropagation();\n            }\n          });\n        });\n\n        function _getCaretPosition(el) {\n          if (angular.isNumber(el.selectionStart)) return el.selectionStart; // selectionStart is not supported in IE8 and we don\'t want hacky workarounds so we compromise\n          else return el.value.length;\n        } // Handles selected options in "multiple" mode\n\n\n        function _handleMatchSelection(key) {\n          var caretPosition = _getCaretPosition($select.searchInput[0]),\n              length = $select.selected.length,\n              // none  = -1,\n          first = 0,\n              last = length - 1,\n              curr = $selectMultiple.activeMatchIndex,\n              next = $selectMultiple.activeMatchIndex + 1,\n              prev = $selectMultiple.activeMatchIndex - 1,\n              newIndex = curr;\n\n          if (caretPosition > 0 || $select.search.length && key == KEY.RIGHT) return false;\n          $select.close();\n\n          function getNewActiveMatchIndex() {\n            switch (key) {\n              case KEY.LEFT:\n                // Select previous/first item\n                if (~$selectMultiple.activeMatchIndex) return prev; // Select last item\n                else return last;\n                break;\n\n              case KEY.RIGHT:\n                // Open drop-down\n                if (!~$selectMultiple.activeMatchIndex || curr === last) {\n                  $select.activate();\n                  return false;\n                } // Select next/last item\n                else return next;\n\n                break;\n\n              case KEY.BACKSPACE:\n                // Remove selected item and select previous/first\n                if (~$selectMultiple.activeMatchIndex) {\n                  $selectMultiple.removeChoice(curr);\n                  return prev;\n                } // Select last item\n                else return last;\n\n                break;\n\n              case KEY.DELETE:\n                // Remove selected item and select next item\n                if (~$selectMultiple.activeMatchIndex) {\n                  $selectMultiple.removeChoice($selectMultiple.activeMatchIndex);\n                  return curr;\n                } else return false;\n\n            }\n          }\n\n          newIndex = getNewActiveMatchIndex();\n          if (!$select.selected.length || newIndex === false) $selectMultiple.activeMatchIndex = -1;else $selectMultiple.activeMatchIndex = Math.min(last, Math.max(first, newIndex));\n          return true;\n        }\n\n        $select.searchInput.on(\'keyup\', function (e) {\n          if (!KEY.isVerticalMovement(e.which)) {\n            scope.$evalAsync(function () {\n              $select.activeIndex = $select.taggingLabel === false ? -1 : 0;\n            });\n          } // Push a "create new" item into array if there is a search string\n\n\n          if ($select.tagging.isActivated && $select.search.length > 0) {\n            // return early with these keys\n            if (e.which === KEY.TAB || KEY.isControl(e) || KEY.isFunctionKey(e) || e.which === KEY.ESC || KEY.isVerticalMovement(e.which)) {\n              return;\n            } // always reset the activeIndex to the first item when tagging\n\n\n            $select.activeIndex = $select.taggingLabel === false ? -1 : 0; // taggingLabel === false bypasses all of this\n\n            if ($select.taggingLabel === false) return;\n            var items = angular.copy($select.items);\n            var stashArr = angular.copy($select.items);\n            var newItem;\n            var item;\n            var hasTag = false;\n            var dupeIndex = -1;\n            var tagItems;\n            var tagItem; // case for object tagging via transform `$select.tagging.fct` function\n\n            if ($select.tagging.fct !== undefined) {\n              tagItems = $select.$filter(\'filter\')(items, {\n                \'isTag\': true\n              });\n\n              if (tagItems.length > 0) {\n                tagItem = tagItems[0];\n              } // remove the first element, if it has the `isTag` prop we generate a new one with each keyup, shaving the previous\n\n\n              if (items.length > 0 && tagItem) {\n                hasTag = true;\n                items = items.slice(1, items.length);\n                stashArr = stashArr.slice(1, stashArr.length);\n              }\n\n              newItem = $select.tagging.fct($select.search);\n              newItem.isTag = true; // verify the the tag doesn\'t match the value of an existing item\n\n              if (stashArr.filter(function (origItem) {\n                return angular.equals(origItem, $select.tagging.fct($select.search));\n              }).length > 0) {\n                return;\n              }\n\n              newItem.isTag = true; // handle newItem string and stripping dupes in tagging string context\n            } else {\n              // find any tagging items already in the $select.items array and store them\n              tagItems = $select.$filter(\'filter\')(items, function (item) {\n                return item.match($select.taggingLabel);\n              });\n\n              if (tagItems.length > 0) {\n                tagItem = tagItems[0];\n              }\n\n              item = items[0]; // remove existing tag item if found (should only ever be one tag item)\n\n              if (item !== undefined && items.length > 0 && tagItem) {\n                hasTag = true;\n                items = items.slice(1, items.length);\n                stashArr = stashArr.slice(1, stashArr.length);\n              }\n\n              newItem = $select.search + \' \' + $select.taggingLabel;\n\n              if (_findApproxDupe($select.selected, $select.search) > -1) {\n                return;\n              } // verify the the tag doesn\'t match the value of an existing item from\n              // the searched data set or the items already selected\n\n\n              if (_findCaseInsensitiveDupe(stashArr.concat($select.selected))) {\n                // if there is a tag from prev iteration, strip it / queue the change\n                // and return early\n                if (hasTag) {\n                  items = stashArr;\n                  scope.$evalAsync(function () {\n                    $select.activeIndex = 0;\n                    $select.items = items;\n                  });\n                }\n\n                return;\n              }\n\n              if (_findCaseInsensitiveDupe(stashArr)) {\n                // if there is a tag from prev iteration, strip it\n                if (hasTag) {\n                  $select.items = stashArr.slice(1, stashArr.length);\n                }\n\n                return;\n              }\n            }\n\n            if (hasTag) dupeIndex = _findApproxDupe($select.selected, newItem); // dupe found, shave the first item\n\n            if (dupeIndex > -1) {\n              items = items.slice(dupeIndex + 1, items.length - 1);\n            } else {\n              items = [];\n              items.push(newItem);\n              items = items.concat(stashArr);\n            }\n\n            scope.$evalAsync(function () {\n              $select.activeIndex = 0;\n              $select.items = items;\n            });\n          }\n        });\n\n        function _findCaseInsensitiveDupe(arr) {\n          if (arr === undefined || $select.search === undefined) {\n            return false;\n          }\n\n          var hasDupe = arr.filter(function (origItem) {\n            if ($select.search.toUpperCase() === undefined || origItem === undefined) {\n              return false;\n            }\n\n            return origItem.toUpperCase() === $select.search.toUpperCase();\n          }).length > 0;\n          return hasDupe;\n        }\n\n        function _findApproxDupe(haystack, needle) {\n          var dupeIndex = -1;\n\n          if (angular.isArray(haystack)) {\n            var tempArr = angular.copy(haystack);\n\n            for (var i = 0; i < tempArr.length; i++) {\n              // handle the simple string version of tagging\n              if ($select.tagging.fct === undefined) {\n                // search the array for the match\n                if (tempArr[i] + \' \' + $select.taggingLabel === needle) {\n                  dupeIndex = i;\n                } // handle the object tagging implementation\n\n              } else {\n                var mockObj = tempArr[i];\n                mockObj.isTag = true;\n\n                if (angular.equals(mockObj, needle)) {\n                  dupeIndex = i;\n                }\n              }\n            }\n          }\n\n          return dupeIndex;\n        }\n\n        $select.searchInput.on(\'blur\', function () {\n          $timeout(function () {\n            $selectMultiple.activeMatchIndex = -1;\n          });\n        });\n      }\n    };\n  }]);\n  uis.directive(\'uiSelectSingle\', [\'$timeout\', \'$compile\', function ($timeout, $compile) {\n    return {\n      restrict: \'EA\',\n      require: [\'^uiSelect\', \'^ngModel\'],\n      link: function link(scope, element, attrs, ctrls) {\n        var $select = ctrls[0];\n        var ngModel = ctrls[1]; //From view --\x3e model\n\n        ngModel.$parsers.unshift(function (inputValue) {\n          var locals = {},\n              result;\n          locals[$select.parserResult.itemName] = inputValue;\n          result = $select.parserResult.modelMapper(scope, locals);\n          return result;\n        }); //From model --\x3e view\n\n        ngModel.$formatters.unshift(function (inputValue) {\n          var data = $select.parserResult.source(scope, {\n            $select: {\n              search: \'\'\n            }\n          }),\n              //Overwrite $search\n          locals = {},\n              result;\n\n          if (data) {\n            var checkFnSingle = function checkFnSingle(d) {\n              locals[$select.parserResult.itemName] = d;\n              result = $select.parserResult.modelMapper(scope, locals);\n              return result == inputValue;\n            }; //If possible pass same object stored in $select.selected\n\n\n            if ($select.selected && checkFnSingle($select.selected)) {\n              return $select.selected;\n            }\n\n            for (var i = data.length - 1; i >= 0; i--) {\n              if (checkFnSingle(data[i])) return data[i];\n            }\n          }\n\n          return inputValue;\n        }); //Update viewValue if model change\n\n        scope.$watch(\'$select.selected\', function (newValue) {\n          if (ngModel.$viewValue !== newValue) {\n            ngModel.$setViewValue(newValue);\n          }\n        });\n\n        ngModel.$render = function () {\n          $select.selected = ngModel.$viewValue;\n        };\n\n        scope.$on(\'uis:select\', function (event, item) {\n          $select.selected = item;\n        });\n        scope.$on(\'uis:close\', function (event, skipFocusser) {\n          $timeout(function () {\n            $select.focusser.prop(\'disabled\', false);\n            if (!skipFocusser) $select.focusser[0].focus();\n          }, 0, false);\n        });\n        scope.$on(\'uis:activate\', function () {\n          focusser.prop(\'disabled\', true); //Will reactivate it on .close()\n        }); //Idea from: https://github.com/ivaynberg/select2/blob/79b5bf6db918d7560bdd959109b7bcfb47edaf43/select2.js#L1954\n\n        var focusser = angular.element("<input ng-disabled=\'$select.disabled\' class=\'ui-select-focusser ui-select-offscreen\' type=\'text\' id=\'{{ $select.focusserId }}\' aria-label=\'{{ $select.focusserTitle }}\' aria-haspopup=\'true\' role=\'button\' />");\n        $compile(focusser)(scope);\n        $select.focusser = focusser; //Input that will handle focus\n\n        $select.focusInput = focusser;\n        element.parent().append(focusser);\n        focusser.bind("focus", function () {\n          scope.$evalAsync(function () {\n            $select.focus = true;\n          });\n        });\n        focusser.bind("blur", function () {\n          scope.$evalAsync(function () {\n            $select.focus = false;\n          });\n        });\n        focusser.bind("keydown", function (e) {\n          if (e.which === KEY.BACKSPACE) {\n            e.preventDefault();\n            e.stopPropagation();\n            $select.select(undefined);\n            scope.$apply();\n            return;\n          }\n\n          if (e.which === KEY.TAB || KEY.isControl(e) || KEY.isFunctionKey(e) || e.which === KEY.ESC) {\n            return;\n          }\n\n          if (e.which == KEY.DOWN || e.which == KEY.UP || e.which == KEY.ENTER || e.which == KEY.SPACE) {\n            e.preventDefault();\n            e.stopPropagation();\n            $select.activate();\n          }\n\n          scope.$digest();\n        });\n        focusser.bind("keyup input", function (e) {\n          if (e.which === KEY.TAB || KEY.isControl(e) || KEY.isFunctionKey(e) || e.which === KEY.ESC || e.which == KEY.ENTER || e.which === KEY.BACKSPACE) {\n            return;\n          }\n\n          $select.activate(focusser.val()); //User pressed some regular key, so we pass it to the search input\n\n          focusser.val(\'\');\n          scope.$digest();\n        });\n      }\n    };\n  }]); // Make multiple matches sortable\n\n  uis.directive(\'uiSelectSort\', [\'$timeout\', \'uiSelectConfig\', \'uiSelectMinErr\', function ($timeout, uiSelectConfig, uiSelectMinErr) {\n    return {\n      require: \'^uiSelect\',\n      link: function link(scope, element, attrs, $select) {\n        if (scope[attrs.uiSelectSort] === null) {\n          throw uiSelectMinErr(\'sort\', "Expected a list to sort");\n        }\n\n        var options = angular.extend({\n          axis: \'horizontal\'\n        }, scope.$eval(attrs.uiSelectSortOptions));\n        var axis = options.axis,\n            draggingClassName = \'dragging\',\n            droppingClassName = \'dropping\',\n            droppingBeforeClassName = \'dropping-before\',\n            droppingAfterClassName = \'dropping-after\';\n        scope.$watch(function () {\n          return $select.sortable;\n        }, function (n) {\n          if (n) {\n            element.attr(\'draggable\', true);\n          } else {\n            element.removeAttr(\'draggable\');\n          }\n        });\n        element.on(\'dragstart\', function (e) {\n          element.addClass(draggingClassName);\n          (e.dataTransfer || e.originalEvent.dataTransfer).setData(\'text/plain\', scope.$index);\n        });\n        element.on(\'dragend\', function () {\n          element.removeClass(draggingClassName);\n        });\n\n        var move = function move(from, to) {\n          /*jshint validthis: true */\n          this.splice(to, 0, this.splice(from, 1)[0]);\n        };\n\n        var dragOverHandler = function dragOverHandler(e) {\n          e.preventDefault();\n          var offset = axis === \'vertical\' ? e.offsetY || e.layerY || (e.originalEvent ? e.originalEvent.offsetY : 0) : e.offsetX || e.layerX || (e.originalEvent ? e.originalEvent.offsetX : 0);\n\n          if (offset < this[axis === \'vertical\' ? \'offsetHeight\' : \'offsetWidth\'] / 2) {\n            element.removeClass(droppingAfterClassName);\n            element.addClass(droppingBeforeClassName);\n          } else {\n            element.removeClass(droppingBeforeClassName);\n            element.addClass(droppingAfterClassName);\n          }\n        };\n\n        var dropTimeout;\n\n        var dropHandler = function dropHandler(e) {\n          e.preventDefault();\n          var droppedItemIndex = parseInt((e.dataTransfer || e.originalEvent.dataTransfer).getData(\'text/plain\'), 10); // prevent event firing multiple times in firefox\n\n          $timeout.cancel(dropTimeout);\n          dropTimeout = $timeout(function () {\n            _dropHandler(droppedItemIndex);\n          }, 20);\n        };\n\n        var _dropHandler = function _dropHandler(droppedItemIndex) {\n          var theList = scope.$eval(attrs.uiSelectSort),\n              itemToMove = theList[droppedItemIndex],\n              newIndex = null;\n\n          if (element.hasClass(droppingBeforeClassName)) {\n            if (droppedItemIndex < scope.$index) {\n              newIndex = scope.$index - 1;\n            } else {\n              newIndex = scope.$index;\n            }\n          } else {\n            if (droppedItemIndex < scope.$index) {\n              newIndex = scope.$index;\n            } else {\n              newIndex = scope.$index + 1;\n            }\n          }\n\n          move.apply(theList, [droppedItemIndex, newIndex]);\n          scope.$apply(function () {\n            scope.$emit(\'uiSelectSort:change\', {\n              array: theList,\n              item: itemToMove,\n              from: droppedItemIndex,\n              to: newIndex\n            });\n          });\n          element.removeClass(droppingClassName);\n          element.removeClass(droppingBeforeClassName);\n          element.removeClass(droppingAfterClassName);\n          element.off(\'drop\', dropHandler);\n        };\n\n        element.on(\'dragenter\', function () {\n          if (element.hasClass(draggingClassName)) {\n            return;\n          }\n\n          element.addClass(droppingClassName);\n          element.on(\'dragover\', dragOverHandler);\n          element.on(\'drop\', dropHandler);\n        });\n        element.on(\'dragleave\', function (e) {\n          if (e.target != element) {\n            return;\n          }\n\n          element.removeClass(droppingClassName);\n          element.removeClass(droppingBeforeClassName);\n          element.removeClass(droppingAfterClassName);\n          element.off(\'dragover\', dragOverHandler);\n          element.off(\'drop\', dropHandler);\n        });\n      }\n    };\n  }]);\n  /**\n   * Parses "repeat" attribute.\n   *\n   * Taken from AngularJS ngRepeat source code\n   * See https://github.com/angular/angular.js/blob/v1.2.15/src/ng/directive/ngRepeat.js#L211\n   *\n   * Original discussion about parsing "repeat" attribute instead of fully relying on ng-repeat:\n   * https://github.com/angular-ui/ui-select/commit/5dd63ad#commitcomment-5504697\n   */\n\n  uis.service(\'uisRepeatParser\', [\'uiSelectMinErr\', \'$parse\', function (uiSelectMinErr, $parse) {\n    var self = this;\n    /**\n     * Example:\n     * expression = "address in addresses | filter: {street: $select.search} track by $index"\n     * itemName = "address",\n     * source = "addresses | filter: {street: $select.search}",\n     * trackByExp = "$index",\n     */\n\n    self.parse = function (expression) {\n      var match;\n      var isObjectCollection = /\\(\\s*([\\$\\w][\\$\\w]*)\\s*,\\s*([\\$\\w][\\$\\w]*)\\s*\\)/.test(expression); // If an array is used as collection\n      // if (isObjectCollection){\n      //00000000000000000000000000000111111111000000000000000222222222222220033333333333333333333330000444444444444444444000000000000000556666660000077777777777755000000000000000000000088888880000000\n\n      match = expression.match(/^\\s*(?:([\\s\\S]+?)\\s+as\\s+)?(?:([\\$\\w][\\$\\w]*)|(?:\\(\\s*([\\$\\w][\\$\\w]*)\\s*,\\s*([\\$\\w][\\$\\w]*)\\s*\\)))\\s+in\\s+(([\\w\\.]+)?\\s*(|\\s*[\\s\\S]+?))?(?:\\s+track\\s+by\\s+([\\s\\S]+?))?\\s*$/); // 1 Alias\n      // 2 Item\n      // 3 Key on (key,value)\n      // 4 Value on (key,value)\n      // 5 Collection expresion (only used when using an array collection)\n      // 6 Object that will be converted to Array when using (key,value) syntax\n      // 7 Filters that will be applied to #6 when using (key,value) syntax\n      // 8 Track by\n\n      if (!match) {\n        throw uiSelectMinErr(\'iexp\', "Expected expression in form of \'_item_ in _collection_[ track by _id_]\' but got \'{0}\'.", expression);\n      }\n\n      if (!match[6] && isObjectCollection) {\n        throw uiSelectMinErr(\'iexp\', "Expected expression in form of \'_item_ as (_key_, _item_) in _ObjCollection_ [ track by _id_]\' but got \'{0}\'.", expression);\n      }\n\n      return {\n        itemName: match[4] || match[2],\n        // (lhs) Left-hand side,\n        keyName: match[3],\n        //for (key, value) syntax\n        source: $parse(!match[3] ? match[5] : match[6]),\n        sourceName: match[6],\n        filters: match[7],\n        trackByExp: match[8],\n        modelMapper: $parse(match[1] || match[4] || match[2]),\n        repeatExpression: function repeatExpression(grouped) {\n          var expression = this.itemName + \' in \' + (grouped ? \'$group.items\' : \'$select.items\');\n\n          if (this.trackByExp) {\n            expression += \' track by \' + this.trackByExp;\n          }\n\n          return expression;\n        }\n      };\n    };\n\n    self.getGroupNgRepeatExpression = function () {\n      return \'$group in $select.groups\';\n    };\n  }]);\n})();\n\nangular.module("ui.select").run(["$templateCache", function ($templateCache) {\n  $templateCache.put("bootstrap/choices.tpl.html", "<ul class=\\"ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu\\" role=\\"listbox\\" ng-show=\\"$select.items.length > 0\\"><li class=\\"ui-select-choices-group\\" id=\\"ui-select-choices-{{ $select.generatedId }}\\"><div class=\\"divider\\" ng-show=\\"$select.isGrouped && $index > 0\\"></div><div ng-show=\\"$select.isGrouped\\" class=\\"ui-select-choices-group-label dropdown-header\\" ng-bind=\\"$group.name\\"></div><div id=\\"ui-select-choices-row-{{ $select.generatedId }}-{{$index}}\\" class=\\"ui-select-choices-row\\" ng-class=\\"{active: $select.isActive(this), disabled: $select.isDisabled(this)}\\" role=\\"option\\"><a href=\\"javascript:void(0)\\" class=\\"ui-select-choices-row-inner\\"></a></div></li></ul>");\n  $templateCache.put("bootstrap/match-multiple.tpl.html", "<span class=\\"ui-select-match\\"><span ng-repeat=\\"$item in $select.selected\\"><span class=\\"ui-select-match-item btn btn-default btn-xs\\" tabindex=\\"-1\\" type=\\"button\\" ng-disabled=\\"$select.disabled\\" ng-click=\\"$selectMultiple.activeMatchIndex = $index;\\" ng-class=\\"{\\\'btn-primary\\\':$selectMultiple.activeMatchIndex === $index, \\\'select-locked\\\':$select.isLocked(this, $index)}\\" ui-select-sort=\\"$select.selected\\"><span class=\\"close ui-select-match-close\\" ng-hide=\\"$select.disabled\\" ng-click=\\"$selectMultiple.removeChoice($index)\\">&nbsp;&times;</span> <span uis-transclude-append=\\"\\"></span></span></span></span>");\n  $templateCache.put("bootstrap/match.tpl.html", "<div class=\\"ui-select-match\\" ng-hide=\\"$select.open\\" ng-disabled=\\"$select.disabled\\" ng-class=\\"{\\\'btn-default-focus\\\':$select.focus}\\"><span tabindex=\\"-1\\" class=\\"btn btn-default form-control ui-select-toggle\\" aria-label=\\"{{ $select.baseTitle }} activate\\" ng-disabled=\\"$select.disabled\\" ng-click=\\"$select.activate()\\" style=\\"outline: 0;\\"><span ng-show=\\"$select.isEmpty()\\" class=\\"ui-select-placeholder text-muted\\">{{$select.placeholder}}</span> <span ng-hide=\\"$select.isEmpty()\\" class=\\"ui-select-match-text pull-left\\" ng-class=\\"{\\\'ui-select-allow-clear\\\': $select.allowClear && !$select.isEmpty()}\\" ng-transclude=\\"\\"></span> <i class=\\"caret pull-right\\" ng-click=\\"$select.toggle($event)\\"></i> <a ng-show=\\"$select.allowClear && !$select.isEmpty()\\" aria-label=\\"{{ $select.baseTitle }} clear\\" style=\\"margin-right: 10px\\" ng-click=\\"$select.clear($event)\\" class=\\"btn btn-xs btn-link pull-right\\"><i class=\\"glyphicon glyphicon-remove\\" aria-hidden=\\"true\\"></i></a></span></div>");\n  $templateCache.put("bootstrap/select-multiple.tpl.html", "<div class=\\"ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control\\" ng-class=\\"{open: $select.open}\\"><div><div class=\\"ui-select-match\\"></div><input type=\\"text\\" autocomplete=\\"false\\" autocorrect=\\"off\\" autocapitalize=\\"off\\" spellcheck=\\"false\\" class=\\"ui-select-search input-xs\\" placeholder=\\"{{$selectMultiple.getPlaceholder()}}\\" ng-disabled=\\"$select.disabled\\" ng-hide=\\"$select.disabled\\" ng-click=\\"$select.activate()\\" ng-model=\\"$select.search\\" role=\\"combobox\\" aria-label=\\"{{ $select.baseTitle }}\\" ondrop=\\"return false;\\"></div><div class=\\"ui-select-choices\\"></div></div>");\n  $templateCache.put("bootstrap/select.tpl.html", "<div class=\\"ui-select-container ui-select-bootstrap dropdown\\" ng-class=\\"{open: $select.open}\\"><div class=\\"ui-select-match\\"></div><input type=\\"text\\" autocomplete=\\"false\\" tabindex=\\"-1\\" aria-expanded=\\"true\\" aria-label=\\"{{ $select.baseTitle }}\\" aria-owns=\\"ui-select-choices-{{ $select.generatedId }}\\" aria-activedescendant=\\"ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}\\" class=\\"form-control ui-select-search\\" placeholder=\\"{{$select.placeholder}}\\" ng-model=\\"$select.search\\" ng-show=\\"$select.searchEnabled && $select.open\\"><div class=\\"ui-select-choices\\"></div></div>");\n  $templateCache.put("selectize/choices.tpl.html", "<div ng-show=\\"$select.open\\" class=\\"ui-select-choices ui-select-dropdown selectize-dropdown single\\"><div class=\\"ui-select-choices-content selectize-dropdown-content\\"><div class=\\"ui-select-choices-group optgroup\\" role=\\"listbox\\"><div ng-show=\\"$select.isGrouped\\" class=\\"ui-select-choices-group-label optgroup-header\\" ng-bind=\\"$group.name\\"></div><div role=\\"option\\" class=\\"ui-select-choices-row\\" ng-class=\\"{active: $select.isActive(this), disabled: $select.isDisabled(this)}\\"><div class=\\"option ui-select-choices-row-inner\\" data-selectable=\\"\\"></div></div></div></div></div>");\n  $templateCache.put("selectize/match.tpl.html", "<div ng-hide=\\"($select.open || $select.isEmpty())\\" class=\\"ui-select-match\\" ng-transclude=\\"\\"></div>");\n  $templateCache.put("selectize/select.tpl.html", "<div class=\\"ui-select-container selectize-control single\\" ng-class=\\"{\\\'open\\\': $select.open}\\"><div class=\\"selectize-input\\" ng-class=\\"{\\\'focus\\\': $select.open, \\\'disabled\\\': $select.disabled, \\\'selectize-focus\\\' : $select.focus}\\" ng-click=\\"$select.activate()\\"><div class=\\"ui-select-match\\"></div><input type=\\"text\\" autocomplete=\\"false\\" tabindex=\\"-1\\" class=\\"ui-select-search ui-select-toggle\\" ng-click=\\"$select.toggle($event)\\" placeholder=\\"{{$select.placeholder}}\\" ng-model=\\"$select.search\\" ng-hide=\\"$select.selected && !$select.open\\" ng-readonly=\\"!$select.searchEnabled\\" ng-disabled=\\"$select.disabled\\" aria-label=\\"{{ $select.baseTitle }}\\"></div><div class=\\"ui-select-choices\\"></div></div>");\n  $templateCache.put("select2/choices.tpl.html", "<ul class=\\"ui-select-choices ui-select-choices-content select2-results\\"><li class=\\"ui-select-choices-group\\" ng-class=\\"{\\\'select2-result-with-children\\\': $select.choiceGrouped($group) }\\"><div ng-show=\\"$select.choiceGrouped($group)\\" class=\\"ui-select-choices-group-label select2-result-label\\" ng-bind=\\"$group.name\\"></div><ul role=\\"listbox\\" id=\\"ui-select-choices-{{ $select.generatedId }}\\" ng-class=\\"{\\\'select2-result-sub\\\': $select.choiceGrouped($group), \\\'select2-result-single\\\': !$select.choiceGrouped($group) }\\"><li role=\\"option\\" id=\\"ui-select-choices-row-{{ $select.generatedId }}-{{$index}}\\" class=\\"ui-select-choices-row\\" ng-class=\\"{\\\'select2-highlighted\\\': $select.isActive(this), \\\'select2-disabled\\\': $select.isDisabled(this)}\\"><div class=\\"select2-result-label ui-select-choices-row-inner\\"></div></li></ul></li></ul>");\n  $templateCache.put("select2/match-multiple.tpl.html", "<span class=\\"ui-select-match\\"><li class=\\"ui-select-match-item select2-search-choice\\" ng-repeat=\\"$item in $select.selected\\" ng-class=\\"{\\\'select2-search-choice-focus\\\':$selectMultiple.activeMatchIndex === $index, \\\'select2-locked\\\':$select.isLocked(this, $index)}\\" ui-select-sort=\\"$select.selected\\"><span uis-transclude-append=\\"\\"></span> <a href=\\"javascript:;\\" class=\\"ui-select-match-close select2-search-choice-close\\" ng-click=\\"$selectMultiple.removeChoice($index)\\" tabindex=\\"-1\\"></a></li></span>");\n  $templateCache.put("select2/match.tpl.html", "<a class=\\"select2-choice ui-select-match\\" ng-class=\\"{\\\'select2-default\\\': $select.isEmpty()}\\" ng-click=\\"$select.toggle($event)\\" aria-label=\\"{{ $select.baseTitle }} select\\"><span ng-show=\\"$select.isEmpty()\\" class=\\"select2-chosen\\">{{$select.placeholder}}</span> <span ng-hide=\\"$select.isEmpty()\\" class=\\"select2-chosen\\" ng-transclude=\\"\\"></span> <abbr ng-if=\\"$select.allowClear && !$select.isEmpty()\\" class=\\"select2-search-choice-close\\" ng-click=\\"$select.clear($event)\\"></abbr> <span class=\\"select2-arrow ui-select-toggle\\"><b></b></span></a>");\n  $templateCache.put("select2/select-multiple.tpl.html", "<div class=\\"ui-select-container ui-select-multiple select2 select2-container select2-container-multi\\" ng-class=\\"{\\\'select2-container-active select2-dropdown-open open\\\': $select.open, \\\'select2-container-disabled\\\': $select.disabled}\\"><ul class=\\"select2-choices\\"><span class=\\"ui-select-match\\"></span><li class=\\"select2-search-field\\"><input type=\\"text\\" autocomplete=\\"false\\" autocorrect=\\"off\\" autocapitalize=\\"off\\" spellcheck=\\"false\\" role=\\"combobox\\" aria-expanded=\\"true\\" aria-owns=\\"ui-select-choices-{{ $select.generatedId }}\\" aria-label=\\"{{ $select.baseTitle }}\\" aria-activedescendant=\\"ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}\\" class=\\"select2-input ui-select-search\\" placeholder=\\"{{$selectMultiple.getPlaceholder()}}\\" ng-disabled=\\"$select.disabled\\" ng-hide=\\"$select.disabled\\" ng-model=\\"$select.search\\" ng-click=\\"$select.activate()\\" style=\\"width: 34px;\\" ondrop=\\"return false;\\"></li></ul><div class=\\"ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active\\" ng-class=\\"{\\\'select2-display-none\\\': !$select.open}\\"><div class=\\"ui-select-choices\\"></div></div></div>");\n  $templateCache.put("select2/select.tpl.html", "<div class=\\"ui-select-container select2 select2-container\\" ng-class=\\"{\\\'select2-container-active select2-dropdown-open open\\\': $select.open, \\\'select2-container-disabled\\\': $select.disabled, \\\'select2-container-active\\\': $select.focus, \\\'select2-allowclear\\\': $select.allowClear && !$select.isEmpty()}\\"><div class=\\"ui-select-match\\"></div><div class=\\"ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active\\" ng-class=\\"{\\\'select2-display-none\\\': !$select.open}\\"><div class=\\"select2-search\\" ng-show=\\"$select.searchEnabled\\"><input type=\\"text\\" autocomplete=\\"false\\" autocorrect=\\"false\\" autocapitalize=\\"off\\" spellcheck=\\"false\\" role=\\"combobox\\" aria-expanded=\\"true\\" aria-owns=\\"ui-select-choices-{{ $select.generatedId }}\\" aria-label=\\"{{ $select.baseTitle }}\\" aria-activedescendant=\\"ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}\\" class=\\"ui-select-search select2-input\\" ng-model=\\"$select.search\\"></div><div class=\\"ui-select-choices\\"></div></div></div>");\n}]);'},2995:n=>{n.exports='/*\n  Modifications made by CourseHero:\n  * Removed all locale data other than en.\n*/\n(function () {\n  var k,\n      aa = this;\n\n  function n(a, b) {\n    var c = a.split("."),\n        d = aa;\n    c[0] in d || !d.execScript || d.execScript("var " + c[0]);\n\n    for (var e; c.length && (e = c.shift());) {\n      c.length || void 0 === b ? d = d[e] ? d[e] : d[e] = {} : d[e] = b;\n    }\n  }\n\n  function p(a, b) {\n    function c() {}\n\n    c.prototype = b.prototype;\n    a.ya = b.prototype;\n    a.prototype = new c();\n    a.prototype.constructor = a;\n\n    a.Ea = function (a, c, f) {\n      for (var g = Array(arguments.length - 2), h = 2; h < arguments.length; h++) {\n        g[h - 2] = arguments[h];\n      }\n\n      return b.prototype[c].apply(a, g);\n    };\n  }\n\n  ;\n\n  function q(a, b) {\n    null != a && this.append.apply(this, arguments);\n  }\n\n  k = q.prototype;\n  k.e = "";\n\n  k.set = function (a) {\n    this.e = "" + a;\n  };\n\n  k.append = function (a, b, c) {\n    this.e += a;\n    if (null != b) for (var d = 1; d < arguments.length; d++) {\n      this.e += arguments[d];\n    }\n    return this;\n  };\n\n  k.clear = function () {\n    this.e = "";\n  };\n\n  k.toString = function () {\n    return this.e;\n  };\n\n  function ba(a, b) {\n    a.sort(b || ca);\n  }\n\n  function ca(a, b) {\n    return a > b ? 1 : a < b ? -1 : 0;\n  }\n\n  ;\n\n  function da(a) {\n    var b = [],\n        c = 0,\n        d;\n\n    for (d in a) {\n      b[c++] = a[d];\n    }\n\n    return b;\n  }\n\n  ;\n\n  function ea(a, b, c) {\n    this.ua = a;\n    this.na = b.name || null;\n    this.m = {};\n\n    for (a = 0; a < c.length; a++) {\n      b = c[a], this.m[b.i] = b;\n    }\n  }\n\n  ea.prototype.getName = function () {\n    return this.na;\n  };\n\n  function fa(a) {\n    a = da(a.m);\n    ba(a, function (a, c) {\n      return a.i - c.i;\n    });\n    return a;\n  }\n\n  ;\n\n  function ga(a, b, c) {\n    this.i = b;\n    this.na = c.name;\n    this.ea = !!c.fa;\n    this.o = c.a;\n    this.oa = c.type;\n    this.ka = !1;\n\n    switch (this.o) {\n      case ha:\n      case ia:\n      case ja:\n      case ka:\n      case la:\n      case ma:\n      case na:\n        this.ka = !0;\n    }\n\n    this.u = c.defaultValue;\n  }\n\n  var na = 1,\n      ma = 2,\n      ha = 3,\n      ia = 4,\n      ja = 6,\n      ka = 16,\n      la = 18;\n\n  ga.prototype.getName = function () {\n    return this.na;\n  };\n\n  function r() {\n    this.c = {};\n    this.m = this.q().m;\n    this.f = this.ma = null;\n  }\n\n  k = r.prototype;\n\n  k.q = function () {\n    var a = this.constructor,\n        b;\n\n    if (!(b = a.ra)) {\n      var c;\n      b = a.xa;\n      var d = [],\n          e = b[0];\n\n      for (c in b) {\n        0 != c && d.push(new ga(0, c, b[c]));\n      }\n\n      c = new ea(a, e, d);\n      b = a.ra = c;\n    }\n\n    return b;\n  };\n\n  k.has = function (a) {\n    return null != this.c[a.i];\n  };\n\n  k.get = function (a, b) {\n    return t(this, a.i, b);\n  };\n\n  k.set = function (a, b) {\n    u(this, a.i, b);\n  };\n\n  k.add = function (a, b) {\n    oa(this, a.i, b);\n  };\n\n  k.clear = function (a) {\n    pa(this, a.i);\n  };\n\n  function qa(a, b) {\n    for (var c = fa(a.q()), d = 0; d < c.length; d++) {\n      var e = c[d],\n          f = e.i;\n\n      if (null != b.c[f]) {\n        a.f && delete a.f[e.i];\n        var g = 11 == e.o || 10 == e.o;\n        if (e.ea) for (var e = v(b, f) || [], h = 0; h < e.length; h++) {\n          oa(a, f, g ? e[h].clone() : e[h]);\n        } else e = v(b, f), g ? (g = v(a, f)) ? qa(g, e) : u(a, f, e.clone()) : u(a, f, e);\n      }\n    }\n  }\n\n  k.clone = function () {\n    var a = new this.constructor();\n    a != this && (a.c = {}, a.f && (a.f = {}), qa(a, this));\n    return a;\n  };\n\n  function v(a, b) {\n    var c = a.c[b];\n    if (null == c) return null;\n\n    if (a.ma) {\n      if (!(b in a.f)) {\n        var d = a.ma,\n            e = a.m[b];\n        if (null != c) if (e.ea) {\n          for (var f = [], g = 0; g < c.length; g++) {\n            f[g] = d.da(e, c[g]);\n          }\n\n          c = f;\n        } else c = d.da(e, c);\n        return a.f[b] = c;\n      }\n\n      return a.f[b];\n    }\n\n    return c;\n  }\n\n  function t(a, b, c) {\n    var d = v(a, b);\n    return a.m[b].ea ? d[c || 0] : d;\n  }\n\n  function w(a, b) {\n    var c;\n    if (null != a.c[b]) c = t(a, b, void 0);else a: {\n      c = a.m[b];\n\n      if (void 0 === c.u) {\n        var d = c.oa;\n        if (d === Boolean) c.u = !1;else if (d === Number) c.u = 0;else if (d === String) c.u = c.ka ? "0" : "";else {\n          c = new d();\n          break a;\n        }\n      }\n\n      c = c.u;\n    }\n    return c;\n  }\n\n  function x(a, b) {\n    return a.m[b].ea ? null != a.c[b] ? a.c[b].length : 0 : null != a.c[b] ? 1 : 0;\n  }\n\n  function u(a, b, c) {\n    a.c[b] = c;\n    a.f && (a.f[b] = c);\n  }\n\n  function oa(a, b, c) {\n    a.c[b] || (a.c[b] = []);\n    a.c[b].push(c);\n    a.f && delete a.f[b];\n  }\n\n  function pa(a, b) {\n    delete a.c[b];\n    a.f && delete a.f[b];\n  }\n\n  function y(a, b) {\n    a.xa = b;\n\n    a.q = function () {\n      return a.ra || new a().q();\n    };\n  }\n\n  ;\n  /*\n  Protocol Buffer 2 Copyright 2008 Google Inc.\n  All other code copyright its respective owners.\n  Copyright (C) 2010 The Libphonenumber Authors\n  Licensed under the Apache License, Version 2.0 (the "License");\n  you may not use this file except in compliance with the License.\n  You may obtain a copy of the License at\n  http://www.apache.org/licenses/LICENSE-2.0\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an "AS IS" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n  */\n\n  function A() {\n    r.apply(this);\n  }\n\n  p(A, r);\n\n  function B() {\n    r.apply(this);\n  }\n\n  p(B, r);\n\n  function C() {\n    r.apply(this);\n  }\n\n  p(C, r);\n\n  C.prototype.sa = function () {\n    return t(this, 10);\n  };\n\n  C.prototype.k = function () {\n    return w(this, 10);\n  };\n\n  C.prototype.aa = function (a) {\n    u(this, 10, a);\n  };\n\n  function D() {\n    r.apply(this);\n  }\n\n  p(D, r);\n\n  D.prototype.getMetadata = function (a) {\n    return t(this, 1, a);\n  };\n\n  y(A, {\n    0: {\n      name: "NumberFormat",\n      ca: "i18n.phonenumbers.NumberFormat"\n    },\n    1: {\n      name: "pattern",\n      required: !0,\n      a: 9,\n      type: String\n    },\n    2: {\n      name: "format",\n      required: !0,\n      a: 9,\n      type: String\n    },\n    3: {\n      name: "leading_digits_pattern",\n      fa: !0,\n      a: 9,\n      type: String\n    },\n    4: {\n      name: "national_prefix_formatting_rule",\n      a: 9,\n      type: String\n    },\n    6: {\n      name: "national_prefix_optional_when_formatting",\n      a: 8,\n      type: Boolean\n    },\n    5: {\n      name: "domestic_carrier_code_formatting_rule",\n      a: 9,\n      type: String\n    }\n  });\n  y(B, {\n    0: {\n      name: "PhoneNumberDesc",\n      ca: "i18n.phonenumbers.PhoneNumberDesc"\n    },\n    2: {\n      name: "national_number_pattern",\n      a: 9,\n      type: String\n    },\n    3: {\n      name: "possible_number_pattern",\n      a: 9,\n      type: String\n    },\n    6: {\n      name: "example_number",\n      a: 9,\n      type: String\n    }\n  });\n  y(C, {\n    0: {\n      name: "PhoneMetadata",\n      ca: "i18n.phonenumbers.PhoneMetadata"\n    },\n    1: {\n      name: "general_desc",\n      required: !0,\n      a: 11,\n      type: B\n    },\n    2: {\n      name: "fixed_line",\n      required: !0,\n      a: 11,\n      type: B\n    },\n    3: {\n      name: "mobile",\n      required: !0,\n      a: 11,\n      type: B\n    },\n    4: {\n      name: "toll_free",\n      required: !0,\n      a: 11,\n      type: B\n    },\n    5: {\n      name: "premium_rate",\n      required: !0,\n      a: 11,\n      type: B\n    },\n    6: {\n      name: "shared_cost",\n      required: !0,\n      a: 11,\n      type: B\n    },\n    7: {\n      name: "personal_number",\n      required: !0,\n      a: 11,\n      type: B\n    },\n    8: {\n      name: "voip",\n      required: !0,\n      a: 11,\n      type: B\n    },\n    21: {\n      name: "pager",\n      required: !0,\n      a: 11,\n      type: B\n    },\n    25: {\n      name: "uan",\n      required: !0,\n      a: 11,\n      type: B\n    },\n    27: {\n      name: "emergency",\n      required: !0,\n      a: 11,\n      type: B\n    },\n    28: {\n      name: "voicemail",\n      required: !0,\n      a: 11,\n      type: B\n    },\n    24: {\n      name: "no_international_dialling",\n      required: !0,\n      a: 11,\n      type: B\n    },\n    9: {\n      name: "id",\n      required: !0,\n      a: 9,\n      type: String\n    },\n    10: {\n      name: "country_code",\n      required: !0,\n      a: 5,\n      type: Number\n    },\n    11: {\n      name: "international_prefix",\n      required: !0,\n      a: 9,\n      type: String\n    },\n    17: {\n      name: "preferred_international_prefix",\n      a: 9,\n      type: String\n    },\n    12: {\n      name: "national_prefix",\n      a: 9,\n      type: String\n    },\n    13: {\n      name: "preferred_extn_prefix",\n      a: 9,\n      type: String\n    },\n    15: {\n      name: "national_prefix_for_parsing",\n      a: 9,\n      type: String\n    },\n    16: {\n      name: "national_prefix_transform_rule",\n      a: 9,\n      type: String\n    },\n    18: {\n      name: "same_mobile_and_fixed_line_pattern",\n      a: 8,\n      defaultValue: !1,\n      type: Boolean\n    },\n    19: {\n      name: "number_format",\n      fa: !0,\n      a: 11,\n      type: A\n    },\n    20: {\n      name: "intl_number_format",\n      fa: !0,\n      a: 11,\n      type: A\n    },\n    22: {\n      name: "main_country_for_code",\n      a: 8,\n      defaultValue: !1,\n      type: Boolean\n    },\n    23: {\n      name: "leading_digits",\n      a: 9,\n      type: String\n    },\n    26: {\n      name: "leading_zero_possible",\n      a: 8,\n      defaultValue: !1,\n      type: Boolean\n    }\n  });\n  y(D, {\n    0: {\n      name: "PhoneMetadataCollection",\n      ca: "i18n.phonenumbers.PhoneMetadataCollection"\n    },\n    1: {\n      name: "metadata",\n      fa: !0,\n      a: 11,\n      type: C\n    }\n  });\n  /*\n  Protocol Buffer 2 Copyright 2008 Google Inc.\n  All other code copyright its respective owners.\n  Copyright (C) 2010 The Libphonenumber Authors\n  Licensed under the Apache License, Version 2.0 (the "License");\n  you may not use this file except in compliance with the License.\n  You may obtain a copy of the License at\n  http://www.apache.org/licenses/LICENSE-2.0\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an "AS IS" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n  */\n\n  function E() {\n    r.apply(this);\n  }\n\n  p(E, r);\n\n  E.prototype.sa = function () {\n    return t(this, 1);\n  };\n\n  E.prototype.k = function () {\n    return w(this, 1);\n  };\n\n  E.prototype.aa = function (a) {\n    u(this, 1, a);\n  };\n\n  E.prototype.getExtension = function () {\n    return t(this, 3);\n  };\n\n  y(E, {\n    0: {\n      name: "PhoneNumber",\n      ca: "i18n.phonenumbers.PhoneNumber"\n    },\n    1: {\n      name: "country_code",\n      required: !0,\n      a: 5,\n      type: Number\n    },\n    2: {\n      name: "national_number",\n      required: !0,\n      a: 4,\n      type: Number\n    },\n    3: {\n      name: "extension",\n      a: 9,\n      type: String\n    },\n    4: {\n      name: "italian_leading_zero",\n      a: 8,\n      type: Boolean\n    },\n    8: {\n      name: "number_of_leading_zeros",\n      a: 5,\n      defaultValue: 1,\n      type: Number\n    },\n    5: {\n      name: "raw_input",\n      a: 9,\n      type: String\n    },\n    6: {\n      name: "country_code_source",\n      a: 14,\n      defaultValue: 1,\n      type: {\n        Da: 1,\n        Ca: 5,\n        Ba: 10,\n        Aa: 20\n      }\n    },\n    7: {\n      name: "preferred_domestic_carrier_code",\n      a: 9,\n      type: String\n    }\n  });\n\n  function F() {}\n\n  F.prototype.v = function (a) {\n    new a.ua();\n    throw Error("Unimplemented");\n  };\n\n  F.prototype.da = function (a, b) {\n    if (11 == a.o || 10 == a.o) return b instanceof r ? b : this.v(a.oa.q(), b);\n    if (14 == a.o || !a.ka) return b;\n    var c = a.oa;\n\n    if (c === String) {\n      if ("number" == typeof b) return String(b);\n    } else if (c === Number && "string" == typeof b && ("Infinity" === b || "-Infinity" === b || "NaN" === b || /^-?[0-9]+$/.test(b))) return Number(b);\n\n    return b;\n  };\n\n  function G() {}\n\n  p(G, F);\n\n  G.prototype.v = function (a, b) {\n    var c = new a.ua();\n    c.ma = this;\n    c.c = b;\n    c.f = {};\n    return c;\n  };\n\n  function H() {}\n\n  p(H, G);\n  H.prototype.za = !1;\n\n  H.prototype.da = function (a, b) {\n    return 8 == a.o ? !!b : F.prototype.da.apply(this, arguments);\n  };\n\n  H.prototype.v = function (a, b) {\n    var c = b;\n\n    if (this.za) {\n      var c = [],\n          d;\n\n      for (d in b) {\n        c[parseInt(d, 10) + 1] = b[d];\n      }\n    }\n\n    return H.ya.v.call(this, a, c);\n  };\n  /*\n  Copyright (C) 2010 The Libphonenumber Authors\n  Licensed under the Apache License, Version 2.0 (the "License");\n  you may not use this file except in compliance with the License.\n  You may obtain a copy of the License at\n  http://www.apache.org/licenses/LICENSE-2.0\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an "AS IS" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n  */\n\n\n  var I = {\n    1: ["US"]\n  },\n      ra = {\n    US: [, [,, "[2-9]\\\\d{9}", "\\\\d{7}(?:\\\\d{3})?"], [,, "(?:2(?:0[1-35-9]|1[02-9]|2[4589]|3[149]|4[08]|5[1-46]|6[0279]|7[026]|8[13])|3(?:0[1-57-9]|1[02-9]|2[0135]|3[014679]|4[67]|5[12]|6[014]|8[56])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[0235]|58|69|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[19]|6[1-37]|7[013-5]|8[056])|6(?:0[1-35-9]|1[024-9]|2[036]|3[016]|4[16]|5[017]|6[0-279]|78|8[12])|7(?:0[1-46-8]|1[02-9]|2[0457]|3[1247]|4[07]|5[47]|6[02359]|7[02-59]|8[156])|8(?:0[1-68]|1[02-8]|28|3[0-25]|4[3578]|5[06-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[01678]|4[0179]|5[12469]|7[0-3589]|8[0459]))[2-9]\\\\d{6}", "\\\\d{7}(?:\\\\d{3})?",,, "2015555555"], [,, "(?:2(?:0[1-35-9]|1[02-9]|2[4589]|3[149]|4[08]|5[1-46]|6[0279]|7[026]|8[13])|3(?:0[1-57-9]|1[02-9]|2[0135]|3[014679]|4[67]|5[12]|6[014]|8[56])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[0235]|58|69|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[19]|6[1-37]|7[013-5]|8[056])|6(?:0[1-35-9]|1[024-9]|2[036]|3[016]|4[16]|5[017]|6[0-279]|78|8[12])|7(?:0[1-46-8]|1[02-9]|2[0457]|3[1247]|4[07]|5[47]|6[02359]|7[02-59]|8[156])|8(?:0[1-68]|1[02-8]|28|3[0-25]|4[3578]|5[06-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[01678]|4[0179]|5[12469]|7[0-3589]|8[0459]))[2-9]\\\\d{6}", "\\\\d{7}(?:\\\\d{3})?",,, "2015555555"], [,, "8(?:00|44|55|66|77|88)[2-9]\\\\d{6}", "\\\\d{10}",,, "8002345678"], [,, "900[2-9]\\\\d{6}", "\\\\d{10}",,, "9002345678"], [,, "NA", "NA"], [,, "5(?:00|33|44|66|77)[2-9]\\\\d{6}", "\\\\d{10}",,, "5002345678"], [,, "NA", "NA"], "US", 1, "011", "1",,, "1",,, 1, [[, "(\\\\d{3})(\\\\d{4})", "$1-$2",, "", "", 1], [, "(\\\\d{3})(\\\\d{3})(\\\\d{4})", "($1) $2-$3",, "", "", 1]], [[, "(\\\\d{3})(\\\\d{3})(\\\\d{4})", "$1-$2-$3"]], [,, "NA", "NA"], 1,, [,, "NA", "NA"], [,, "NA", "NA"],,, [,, "NA", "NA"]]\n  };\n  /*\n  \n   Copyright (C) 2010 The Libphonenumber Authors.\n  \n   Licensed under the Apache License, Version 2.0 (the "License");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n  \n   http://www.apache.org/licenses/LICENSE-2.0\n  \n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an "AS IS" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n  */\n\n  function J() {\n    this.va = {};\n  }\n\n  J.r = function () {\n    return J.ta ? J.ta : J.ta = new J();\n  };\n\n  var K = {\n    0: "0",\n    1: "1",\n    2: "2",\n    3: "3",\n    4: "4",\n    5: "5",\n    6: "6",\n    7: "7",\n    8: "8",\n    9: "9",\n    "\\uFF10": "0",\n    "\\uFF11": "1",\n    "\\uFF12": "2",\n    "\\uFF13": "3",\n    "\\uFF14": "4",\n    "\\uFF15": "5",\n    "\\uFF16": "6",\n    "\\uFF17": "7",\n    "\\uFF18": "8",\n    "\\uFF19": "9",\n    "\\u0660": "0",\n    "\\u0661": "1",\n    "\\u0662": "2",\n    "\\u0663": "3",\n    "\\u0664": "4",\n    "\\u0665": "5",\n    "\\u0666": "6",\n    "\\u0667": "7",\n    "\\u0668": "8",\n    "\\u0669": "9",\n    "\\u06F0": "0",\n    "\\u06F1": "1",\n    "\\u06F2": "2",\n    "\\u06F3": "3",\n    "\\u06F4": "4",\n    "\\u06F5": "5",\n    "\\u06F6": "6",\n    "\\u06F7": "7",\n    "\\u06F8": "8",\n    "\\u06F9": "9"\n  },\n      sa = {\n    0: "0",\n    1: "1",\n    2: "2",\n    3: "3",\n    4: "4",\n    5: "5",\n    6: "6",\n    7: "7",\n    8: "8",\n    9: "9",\n    "\\uFF10": "0",\n    "\\uFF11": "1",\n    "\\uFF12": "2",\n    "\\uFF13": "3",\n    "\\uFF14": "4",\n    "\\uFF15": "5",\n    "\\uFF16": "6",\n    "\\uFF17": "7",\n    "\\uFF18": "8",\n    "\\uFF19": "9",\n    "\\u0660": "0",\n    "\\u0661": "1",\n    "\\u0662": "2",\n    "\\u0663": "3",\n    "\\u0664": "4",\n    "\\u0665": "5",\n    "\\u0666": "6",\n    "\\u0667": "7",\n    "\\u0668": "8",\n    "\\u0669": "9",\n    "\\u06F0": "0",\n    "\\u06F1": "1",\n    "\\u06F2": "2",\n    "\\u06F3": "3",\n    "\\u06F4": "4",\n    "\\u06F5": "5",\n    "\\u06F6": "6",\n    "\\u06F7": "7",\n    "\\u06F8": "8",\n    "\\u06F9": "9",\n    A: "2",\n    B: "2",\n    C: "2",\n    D: "3",\n    E: "3",\n    F: "3",\n    G: "4",\n    H: "4",\n    I: "4",\n    J: "5",\n    K: "5",\n    L: "5",\n    M: "6",\n    N: "6",\n    O: "6",\n    P: "7",\n    Q: "7",\n    R: "7",\n    S: "7",\n    T: "8",\n    U: "8",\n    V: "8",\n    W: "9",\n    X: "9",\n    Y: "9",\n    Z: "9"\n  },\n      ta = RegExp("[+\\uFF0B]+"),\n      L = RegExp("^[+\\uFF0B]+"),\n      ua = RegExp("([0-9\\uFF10-\\uFF19\\u0660-\\u0669\\u06F0-\\u06F9])"),\n      va = RegExp("[+\\uFF0B0-9\\uFF10-\\uFF19\\u0660-\\u0669\\u06F0-\\u06F9]"),\n      wa = /[\\\\\\/] *x/,\n      xa = RegExp("[^0-9\\uFF10-\\uFF19\\u0660-\\u0669\\u06F0-\\u06F9A-Za-z#]+$"),\n      ya = /(?:.*?[A-Za-z]){3}.*/,\n      za = RegExp("(?:;ext=([0-9\\uFF10-\\uFF19\\u0660-\\u0669\\u06F0-\\u06F9]{1,7})|[ \\xA0\\\\t,]*(?:e?xt(?:ensi(?:o\\u0301?|\\xF3))?n?|\\uFF45?\\uFF58\\uFF54\\uFF4E?|[,x\\uFF58#\\uFF03~\\uFF5E]|int|anexo|\\uFF49\\uFF4E\\uFF54)[:\\\\.\\uFF0E]?[ \\xA0\\\\t,-]*([0-9\\uFF10-\\uFF19\\u0660-\\u0669\\u06F0-\\u06F9]{1,7})#?|[- ]+([0-9\\uFF10-\\uFF19\\u0660-\\u0669\\u06F0-\\u06F9]{1,5})#)$", "i"),\n      Aa = RegExp("^[0-9\\uFF10-\\uFF19\\u0660-\\u0669\\u06F0-\\u06F9]{2}$|^[+\\uFF0B]*(?:[-x\\u2010-\\u2015\\u2212\\u30FC\\uFF0D-\\uFF0F \\xA0\\xAD\\u200B\\u2060\\u3000()\\uFF08\\uFF09\\uFF3B\\uFF3D.\\\\[\\\\]/~\\u2053\\u223C\\uFF5E*]*[0-9\\uFF10-\\uFF19\\u0660-\\u0669\\u06F0-\\u06F9]){3,}[-x\\u2010-\\u2015\\u2212\\u30FC\\uFF0D-\\uFF0F \\xA0\\xAD\\u200B\\u2060\\u3000()\\uFF08\\uFF09\\uFF3B\\uFF3D.\\\\[\\\\]/~\\u2053\\u223C\\uFF5E*A-Za-z0-9\\uFF10-\\uFF19\\u0660-\\u0669\\u06F0-\\u06F9]*(?:;ext=([0-9\\uFF10-\\uFF19\\u0660-\\u0669\\u06F0-\\u06F9]{1,7})|[ \\xA0\\\\t,]*(?:e?xt(?:ensi(?:o\\u0301?|\\xF3))?n?|\\uFF45?\\uFF58\\uFF54\\uFF4E?|[,x\\uFF58#\\uFF03~\\uFF5E]|int|anexo|\\uFF49\\uFF4E\\uFF54)[:\\\\.\\uFF0E]?[ \\xA0\\\\t,-]*([0-9\\uFF10-\\uFF19\\u0660-\\u0669\\u06F0-\\u06F9]{1,7})#?|[- ]+([0-9\\uFF10-\\uFF19\\u0660-\\u0669\\u06F0-\\u06F9]{1,5})#)?$", "i"),\n      Ba = /(\\$\\d)/,\n      Ca = /^\\(?\\$1\\)?$/;\n\n  function Da(a) {\n    var b = a.search(va);\n    0 <= b ? (a = a.substring(b), a = a.replace(xa, ""), b = a.search(wa), 0 <= b && (a = a.substring(0, b))) : a = "";\n    return a;\n  }\n\n  function Ea(a) {\n    return 2 > a.length ? !1 : M(Aa, a);\n  }\n\n  function Fa(a) {\n    return M(ya, a) ? N(a, sa) : N(a, K);\n  }\n\n  function Ga(a) {\n    var b = Fa(a.toString());\n    a.clear();\n    a.append(b);\n  }\n\n  function N(a, b) {\n    for (var c = new q(), d, e = a.length, f = 0; f < e; ++f) {\n      d = a.charAt(f), d = b[d.toUpperCase()], null != d && c.append(d);\n    }\n\n    return c.toString();\n  }\n\n  function O(a) {\n    return null != a && isNaN(a) && a.toUpperCase() in ra;\n  }\n\n  J.prototype.format = function (a, b) {\n    if (0 == t(a, 2) && null != a.c[5]) {\n      var c = w(a, 5);\n      if (0 < c.length) return c;\n    }\n\n    var c = a.k(),\n        d = P(a);\n    if (0 == b) return Ha(c, 0, d, "");\n    if (!(c in I)) return d;\n    var e = Q(this, c, R(c)),\n        f;\n    f = null != a.c[3] && 0 != a.getExtension().length ? 3 == b ? ";ext=" + a.getExtension() : null != e.c[13] ? t(e, 13) + w(a, 3) : " ext. " + w(a, 3) : "";\n\n    a: {\n      for (var e = 0 == (v(e, 20) || []).length || 2 == b ? v(e, 19) || [] : v(e, 20) || [], g, h = e.length, l = 0; l < h; ++l) {\n        g = e[l];\n        var m = x(g, 3);\n        if (0 == m || 0 == d.search(t(g, 3, m - 1))) if (m = new RegExp(t(g, 1)), M(m, d)) {\n          e = g;\n          break a;\n        }\n      }\n\n      e = null;\n    }\n\n    null != e && (h = e, e = w(h, 2), g = new RegExp(t(h, 1)), w(h, 5), l = "", h = w(h, 4), l = 2 == b && null != h && 0 < h.length ? d.replace(g, e.replace(Ba, h)) : d.replace(g, e), 3 == b && (l = l.replace(RegExp("^[-x\\u2010-\\u2015\\u2212\\u30FC\\uFF0D-\\uFF0F \\xA0\\xAD\\u200B\\u2060\\u3000()\\uFF08\\uFF09\\uFF3B\\uFF3D.\\\\[\\\\]/~\\u2053\\u223C\\uFF5E]+"), ""), l = l.replace(RegExp("[-x\\u2010-\\u2015\\u2212\\u30FC\\uFF0D-\\uFF0F \\xA0\\xAD\\u200B\\u2060\\u3000()\\uFF08\\uFF09\\uFF3B\\uFF3D.\\\\[\\\\]/~\\u2053\\u223C\\uFF5E]+", "g"), "-")), d = l);\n    return Ha(c, b, d, f);\n  };\n\n  function Q(a, b, c) {\n    return "001" == c ? S(a, "" + b) : S(a, c);\n  }\n\n  function P(a) {\n    var b = "" + t(a, 2);\n    return null != a.c[4] && t(a, 4) ? Array(w(a, 8) + 1).join("0") + b : b;\n  }\n\n  function Ha(a, b, c, d) {\n    switch (b) {\n      case 0:\n        return "+" + a + c + d;\n\n      case 1:\n        return "+" + a + " " + c + d;\n\n      case 3:\n        return "tel:+" + a + "-" + c + d;\n\n      default:\n        return c + d;\n    }\n  }\n\n  function Ia(a, b) {\n    switch (b) {\n      case 4:\n        return t(a, 5);\n\n      case 3:\n        return t(a, 4);\n\n      case 1:\n        return t(a, 3);\n\n      case 0:\n      case 2:\n        return t(a, 2);\n\n      case 5:\n        return t(a, 6);\n\n      case 6:\n        return t(a, 8);\n\n      case 7:\n        return t(a, 7);\n\n      case 8:\n        return t(a, 21);\n\n      case 9:\n        return t(a, 25);\n\n      case 10:\n        return t(a, 28);\n\n      default:\n        return t(a, 1);\n    }\n  }\n\n  function T(a, b) {\n    return U(a, t(b, 1)) ? U(a, t(b, 5)) ? 4 : U(a, t(b, 4)) ? 3 : U(a, t(b, 6)) ? 5 : U(a, t(b, 8)) ? 6 : U(a, t(b, 7)) ? 7 : U(a, t(b, 21)) ? 8 : U(a, t(b, 25)) ? 9 : U(a, t(b, 28)) ? 10 : U(a, t(b, 2)) ? t(b, 18) || U(a, t(b, 3)) ? 2 : 0 : !t(b, 18) && U(a, t(b, 3)) ? 1 : -1 : -1;\n  }\n\n  function S(a, b) {\n    if (null == b) return null;\n    b = b.toUpperCase();\n    var c = a.va[b];\n\n    if (null == c) {\n      c = ra[b];\n      if (null == c) return null;\n      c = new H().v(C.q(), c);\n      a.va[b] = c;\n    }\n\n    return c;\n  }\n\n  function U(a, b) {\n    return M(w(b, 3), a) && M(w(b, 2), a);\n  }\n\n  function Ja(a, b) {\n    if (null == b) return null;\n    var c = b.k(),\n        c = I[c];\n    if (null == c) c = null;else if (1 == c.length) c = c[0];else a: {\n      for (var d = P(b), e, f = c.length, g = 0; g < f; g++) {\n        e = c[g];\n        var h = S(a, e);\n\n        if (null != h.c[23]) {\n          if (0 == d.search(t(h, 23))) {\n            c = e;\n            break a;\n          }\n        } else if (-1 != T(d, h)) {\n          c = e;\n          break a;\n        }\n      }\n\n      c = null;\n    }\n    return c;\n  }\n\n  function R(a) {\n    a = I[a];\n    return null == a ? "ZZ" : a[0];\n  }\n\n  function Ka(a, b) {\n    var c = S(a, b);\n    if (null == c) throw "Invalid region code: " + b;\n    return c.k();\n  }\n\n  function V(a, b) {\n    return M(a, b) ? 0 : 0 == b.search(a) ? 3 : 2;\n  }\n\n  function La(a, b) {\n    var c = a.toString();\n    if (0 == c.length || "0" == c.charAt(0)) return 0;\n\n    for (var d, e = c.length, f = 1; 3 >= f && f <= e; ++f) {\n      if (d = parseInt(c.substring(0, f), 10), d in I) return b.append(c.substring(f)), d;\n    }\n\n    return 0;\n  }\n\n  function Ma(a, b, c, d, e) {\n    if (0 == a.length) return 0;\n    a = new q(a);\n    var f;\n    null != b && (f = t(b, 11));\n    null == f && (f = "NonMatch");\n    var g = a.toString();\n    if (0 == g.length) f = 20;else if (L.test(g)) g = g.replace(L, ""), a.clear(), a.append(Fa(g)), f = 1;else {\n      g = new RegExp(f);\n      Ga(a);\n      f = a.toString();\n\n      if (0 == f.search(g)) {\n        var g = f.match(g)[0].length,\n            h = f.substring(g).match(ua);\n        h && null != h[1] && 0 < h[1].length && "0" == N(h[1], K) ? f = !1 : (a.clear(), a.append(f.substring(g)), f = !0);\n      } else f = !1;\n\n      f = f ? 5 : 20;\n    }\n    d && u(e, 6, f);\n\n    if (20 != f) {\n      if (2 >= a.e.length) throw "Phone number too short after IDD";\n      c = La(a, c);\n      if (0 != c) return e.aa(c), c;\n      throw "Invalid country calling code";\n    }\n\n    if (null != b && (f = b.k(), g = "" + f, h = a.toString(), 0 == h.lastIndexOf(g, 0))) {\n      var l = new q(h.substring(g.length)),\n          h = t(b, 1),\n          g = new RegExp(w(h, 2));\n      Na(l, b, null);\n      b = l.toString();\n      h = w(h, 3);\n      if (!M(g, a.toString()) && M(g, b) || 3 == V(h, a.toString())) return c.append(b), d && u(e, 6, 10), e.aa(f), f;\n    }\n\n    e.aa(0);\n    return 0;\n  }\n\n  function Na(a, b, c) {\n    var d = a.toString(),\n        e = d.length,\n        f = t(b, 15);\n\n    if (0 != e && null != f && 0 != f.length && (f = new RegExp("^(?:" + f + ")"), e = f.exec(d))) {\n      var g = RegExp,\n          h;\n      h = t(b, 1);\n      h = w(h, 2);\n      g = new g(h);\n      h = M(g, d);\n      var l = e.length - 1;\n      b = t(b, 16);\n\n      if (null == b || 0 == b.length || null == e[l] || 0 == e[l].length) {\n        if (!h || M(g, d.substring(e[0].length))) null != c && 0 < l && null != e[l] && c.append(e[1]), a.set(d.substring(e[0].length));\n      } else if (d = d.replace(f, b), !h || M(g, d)) null != c && 0 < l && c.append(e[1]), a.set(d);\n    }\n  }\n\n  J.prototype.parse = function (a, b) {\n    return Oa(this, a, b, !1);\n  };\n\n  function W(a, b, c) {\n    if (!O(c) && 0 < b.length && "+" != b.charAt(0)) throw "Invalid country calling code";\n    return Oa(a, b, c, !0);\n  }\n\n  function Oa(a, b, c, d) {\n    if (null == b) throw "The string supplied did not seem to be a phone number";\n    if (250 < b.length) throw "The string supplied is too long to be a phone number";\n    var e = new q(),\n        f = b.indexOf(";phone-context=");\n\n    if (0 < f) {\n      var g = f + 15;\n\n      if ("+" == b.charAt(g)) {\n        var h = b.indexOf(";", g);\n        0 < h ? e.append(b.substring(g, h)) : e.append(b.substring(g));\n      }\n\n      g = b.indexOf("tel:");\n      e.append(b.substring(0 <= g ? g + 4 : 0, f));\n    } else e.append(Da(b));\n\n    f = e.toString();\n    g = f.indexOf(";isub=");\n    0 < g && (e.clear(), e.append(f.substring(0, g)));\n    if (!Ea(e.toString())) throw "The string supplied did not seem to be a phone number";\n    f = e.toString();\n    if (!(O(c) || null != f && 0 < f.length && L.test(f))) throw "Invalid country calling code";\n    f = new E();\n    d && u(f, 5, b);\n\n    a: {\n      b = e.toString();\n      g = b.search(za);\n      if (0 <= g && Ea(b.substring(0, g))) for (var h = b.match(za), l = h.length, m = 1; m < l; ++m) {\n        if (null != h[m] && 0 < h[m].length) {\n          e.clear();\n          e.append(b.substring(0, g));\n          b = h[m];\n          break a;\n        }\n      }\n      b = "";\n    }\n\n    0 < b.length && u(f, 3, b);\n    g = S(a, c);\n    b = new q();\n    h = 0;\n    l = e.toString();\n\n    try {\n      h = Ma(l, g, b, d, f);\n    } catch (z) {\n      if ("Invalid country calling code" == z && L.test(l)) {\n        if (l = l.replace(L, ""), h = Ma(l, g, b, d, f), 0 == h) throw z;\n      } else throw z;\n    }\n\n    0 != h ? (e = R(h), e != c && (g = Q(a, h, e))) : (Ga(e), b.append(e.toString()), null != c ? (h = g.k(), f.aa(h)) : d && pa(f, 6));\n    if (2 > b.e.length) throw "The string supplied is too short to be a phone number";\n    null != g && (a = new q(), c = new q(b.toString()), Na(c, g, a), e = c.toString(), g = t(g, 1), g = w(g, 3), 2 != V(g, e) && (b = c, d && u(f, 7, a.toString())));\n    d = b.toString();\n    a = d.length;\n    if (2 > a) throw "The string supplied is too short to be a phone number";\n    if (17 < a) throw "The string supplied is too long to be a phone number";\n\n    if (1 < d.length && "0" == d.charAt(0)) {\n      u(f, 4, !0);\n\n      for (a = 1; a < d.length - 1 && "0" == d.charAt(a);) {\n        a++;\n      }\n\n      1 != a && u(f, 8, a);\n    }\n\n    u(f, 2, parseInt(d, 10));\n    return f;\n  }\n\n  function M(a, b) {\n    var c = "string" == typeof a ? b.match("^(?:" + a + ")$") : b.match(a);\n    return c && c[0].length == b.length ? !0 : !1;\n  }\n\n  ;\n  /*\n  Copyright (C) 2010 The Libphonenumber Authors.\n  Licensed under the Apache License, Version 2.0 (the "License");\n  you may not use this file except in compliance with the License.\n  You may obtain a copy of the License at\n  http://www.apache.org/licenses/LICENSE-2.0\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an "AS IS" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n  */\n\n  function Pa(a) {\n    this.qa = "\\u2008";\n    this.ha = new RegExp(this.qa);\n    this.ia = "";\n    this.p = new q();\n    this.ba = "";\n    this.j = new q();\n    this.t = new q();\n    this.l = !0;\n    this.w = this.s = this.la = !1;\n    this.pa = J.r();\n    this.$ = 0;\n    this.d = new q();\n    this.ga = !1;\n    this.n = "";\n    this.b = new q();\n    this.g = [];\n    this.ja = a;\n    this.wa = this.h = X(this, this.ja);\n  }\n\n  var Qa = new C();\n  u(Qa, 11, "NA");\n  var Ra = /\\[([^\\[\\]])*\\]/g,\n      Sa = /\\d(?=[^,}][^,}])/g,\n      Ta = RegExp("^[-x\\u2010-\\u2015\\u2212\\u30FC\\uFF0D-\\uFF0F \\xA0\\xAD\\u200B\\u2060\\u3000()\\uFF08\\uFF09\\uFF3B\\uFF3D.\\\\[\\\\]/~\\u2053\\u223C\\uFF5E]*(\\\\$\\\\d[-x\\u2010-\\u2015\\u2212\\u30FC\\uFF0D-\\uFF0F \\xA0\\xAD\\u200B\\u2060\\u3000()\\uFF08\\uFF09\\uFF3B\\uFF3D.\\\\[\\\\]/~\\u2053\\u223C\\uFF5E]*)+$"),\n      Ua = /[- ]/;\n\n  function X(a, b) {\n    var c = O(b) ? Ka(a.pa, b) : 0,\n        c = S(a.pa, R(c));\n    return null != c ? c : Qa;\n  }\n\n  function Va(a) {\n    for (var b = a.g.length, c = 0; c < b; ++c) {\n      var d = a.g[c],\n          e = w(d, 1);\n      if (a.ba == e) return !1;\n      var f;\n      f = a;\n      var g = d,\n          h = w(g, 1);\n      if (-1 != h.indexOf("|")) f = !1;else {\n        h = h.replace(Ra, "\\\\d");\n        h = h.replace(Sa, "\\\\d");\n        f.p.clear();\n        var l;\n        l = f;\n        var g = w(g, 2),\n            m = "999999999999999".match(h)[0];\n        m.length < l.b.e.length ? l = "" : (h = m.replace(new RegExp(h, "g"), g), l = h = h.replace(RegExp("9", "g"), l.qa));\n        0 < l.length ? (f.p.append(l), f = !0) : f = !1;\n      }\n      if (f) return a.ba = e, a.ga = Ua.test(t(d, 4)), a.$ = 0, !0;\n    }\n\n    return a.l = !1;\n  }\n\n  function Wa(a, b) {\n    for (var c = [], d = b.length - 3, e = a.g.length, f = 0; f < e; ++f) {\n      var g = a.g[f];\n      if (0 == x(g, 3)) c.push(a.g[f]);else {\n        var h = Math.min(d, x(g, 3) - 1),\n            g = t(g, 3, h);\n        0 == b.search(g) && c.push(a.g[f]);\n      }\n    }\n\n    a.g = c;\n  }\n\n  Pa.prototype.clear = function () {\n    this.ia = "";\n    this.j.clear();\n    this.t.clear();\n    this.p.clear();\n    this.$ = 0;\n    this.ba = "";\n    this.d.clear();\n    this.n = "";\n    this.b.clear();\n    this.l = !0;\n    this.w = this.s = this.la = !1;\n    this.g = [];\n    this.ga = !1;\n    this.h != this.wa && (this.h = X(this, this.ja));\n  };\n\n  function Xa(a, b) {\n    a.ia = Ya(a, b);\n    return a.ia;\n  }\n\n  function Ya(a, b) {\n    a.j.append(b);\n    var c = b;\n\n    if (ua.test(c) || 1 == a.j.e.length && ta.test(c)) {\n      var c = b,\n          d;\n      "+" == c ? (d = c, a.t.append(c)) : (d = K[c], a.t.append(d), a.b.append(d));\n      b = d;\n    } else a.l = !1, a.la = !0;\n\n    if (!a.l) {\n      if (!a.la) if (Za(a)) {\n        if ($a(a)) return ab(a);\n      } else if (0 < a.n.length && (c = a.b.toString(), a.b.clear(), a.b.append(a.n), a.b.append(c), c = a.d.toString(), d = c.lastIndexOf(a.n), a.d.clear(), a.d.append(c.substring(0, d))), a.n != bb(a)) return a.d.append(" "), ab(a);\n      return a.j.toString();\n    }\n\n    switch (a.t.e.length) {\n      case 0:\n      case 1:\n      case 2:\n        return a.j.toString();\n\n      case 3:\n        if (Za(a)) a.w = !0;else return a.n = bb(a), Y(a);\n\n      default:\n        if (a.w) return $a(a) && (a.w = !1), a.d.toString() + a.b.toString();\n\n        if (0 < a.g.length) {\n          c = cb(a, b);\n          d = db(a);\n          if (0 < d.length) return d;\n          Wa(a, a.b.toString());\n          return Va(a) ? eb(a) : a.l ? Z(a, c) : a.j.toString();\n        }\n\n        return Y(a);\n    }\n  }\n\n  function ab(a) {\n    a.l = !0;\n    a.w = !1;\n    a.g = [];\n    return Y(a);\n  }\n\n  function db(a) {\n    for (var b = a.b.toString(), c = a.g.length, d = 0; d < c; ++d) {\n      var e = a.g[d],\n          f = w(e, 1);\n      if (new RegExp("^(?:" + f + ")$").test(b)) return a.ga = Ua.test(t(e, 4)), b = b.replace(new RegExp(f, "g"), t(e, 2)), Z(a, b);\n    }\n\n    return "";\n  }\n\n  function Z(a, b) {\n    var c = a.d.e.length;\n    return a.ga && 0 < c && " " != a.d.toString().charAt(c - 1) ? a.d + " " + b : a.d + b;\n  }\n\n  function Y(a) {\n    var b = a.b.toString();\n\n    if (3 <= b.length) {\n      for (var c = a.s && 0 < x(a.h, 20) ? v(a.h, 20) || [] : v(a.h, 19) || [], d = c.length, e = 0; e < d; ++e) {\n        var f = c[e],\n            g;\n        (g = null == a.h.c[12] || a.s || t(f, 6)) || (g = w(f, 4), g = 0 == g.length || Ca.test(g));\n        g && (g = w(f, 2), Ta.test(g) && a.g.push(f));\n      }\n\n      Wa(a, b);\n      b = db(a);\n      return 0 < b.length ? b : Va(a) ? eb(a) : a.j.toString();\n    }\n\n    return Z(a, b);\n  }\n\n  function eb(a) {\n    var b = a.b.toString(),\n        c = b.length;\n\n    if (0 < c) {\n      for (var d = "", e = 0; e < c; e++) {\n        d = cb(a, b.charAt(e));\n      }\n\n      return a.l ? Z(a, d) : a.j.toString();\n    }\n\n    return a.d.toString();\n  }\n\n  function bb(a) {\n    var b = a.b.toString(),\n        c = 0,\n        d;\n    1 != a.h.sa() ? d = !1 : (d = a.b.toString(), d = "1" == d.charAt(0) && "0" != d.charAt(1) && "1" != d.charAt(1));\n    d ? (c = 1, a.d.append("1").append(" "), a.s = !0) : null != a.h.c[15] && (d = new RegExp("^(?:" + t(a.h, 15) + ")"), d = b.match(d), null != d && null != d[0] && 0 < d[0].length && (a.s = !0, c = d[0].length, a.d.append(b.substring(0, c))));\n    a.b.clear();\n    a.b.append(b.substring(c));\n    return b.substring(0, c);\n  }\n\n  function Za(a) {\n    var b = a.t.toString(),\n        c = new RegExp("^(?:\\\\+|" + t(a.h, 11) + ")"),\n        c = b.match(c);\n    return null != c && null != c[0] && 0 < c[0].length ? (a.s = !0, c = c[0].length, a.b.clear(), a.b.append(b.substring(c)), a.d.clear(), a.d.append(b.substring(0, c)), "+" != b.charAt(0) && a.d.append(" "), !0) : !1;\n  }\n\n  function $a(a) {\n    if (0 == a.b.e.length) return !1;\n    var b = new q(),\n        c = La(a.b, b);\n    if (0 == c) return !1;\n    a.b.clear();\n    a.b.append(b.toString());\n    b = R(c);\n    "001" == b ? a.h = S(a.pa, "" + c) : b != a.ja && (a.h = X(a, b));\n    a.d.append("" + c).append(" ");\n    a.n = "";\n    return !0;\n  }\n\n  function cb(a, b) {\n    var c = a.p.toString();\n\n    if (0 <= c.substring(a.$).search(a.ha)) {\n      var d = c.search(a.ha),\n          c = c.replace(a.ha, b);\n      a.p.clear();\n      a.p.append(c);\n      a.$ = d;\n      return c.substring(0, a.$ + 1);\n    }\n\n    1 == a.g.length && (a.l = !1);\n    a.ba = "";\n    return a.j.toString();\n  }\n\n  ;\n  n("intlTelInputUtils", {});\n  n("intlTelInputUtils.formatNumber", function (a, b, c, d, e) {\n    try {\n      var f = a.replace(/\\D/g, ""),\n          g = new Pa(b);\n      b = "";\n      var h;\n      "+" == a.substr(0, 1) && (f = "+" + f);\n\n      for (var l = 0; l < f.length; l++) {\n        h = Xa(g, f.charAt(l));\n\n        if (d && b && h.length <= b.length && -1 == h.indexOf(" ")) {\n          h = -1;\n          break;\n        }\n\n        b = h;\n      }\n\n      " " == b.charAt(b.length - 1) && (b = b.substr(0, b.length - 1));\n\n      if (c) {\n        var m = Xa(g, "5");\n        " " == m.charAt(m.length - 1) && (m = m.substr(0, m.length - 1));\n        if (isNaN(parseFloat(m.substr(m.length - 2, 1)))) return m.substr(0, m.length - 1);\n        if (d && b && m.length <= b.length && -1 == m.indexOf(" ") && !e) return b + " ext. ";\n      }\n\n      -1 == h && (b += " ext. " + f.substring(l, f.length));\n      return b;\n    } catch (z) {\n      return a;\n    }\n  });\n  n("intlTelInputUtils.formatNumberByType", function (a, b, c) {\n    try {\n      var d = J.r(),\n          e = W(d, a, b);\n      return d.format(e, "undefined" == typeof c ? 0 : c);\n    } catch (f) {\n      return "";\n    }\n  });\n  n("intlTelInputUtils.getExampleNumber", function (a, b, c) {\n    try {\n      var d = J.r(),\n          e;\n\n      a: {\n        if (O(a)) {\n          var f = Ia(S(d, a), c);\n\n          try {\n            if (null != f.c[6]) {\n              e = d.parse(w(f, 6), a);\n              break a;\n            }\n          } catch (g) {}\n        }\n\n        e = null;\n      }\n\n      return d.format(e, b ? 2 : 1);\n    } catch (h) {\n      return "";\n    }\n  });\n  n("intlTelInputUtils.getNumberType", function (a, b) {\n    try {\n      var c = J.r(),\n          d;\n      var e = W(c, a, b),\n          f = Ja(c, e),\n          g = Q(c, e.k(), f);\n      if (null == g) d = -1;else {\n        var h = P(e);\n        d = T(h, g);\n      }\n      return d;\n    } catch (l) {\n      return -99;\n    }\n  });\n  n("intlTelInputUtils.getValidationError", function (a, b) {\n    try {\n      var c = J.r(),\n          d;\n      var e = W(c, a, b),\n          f = P(e),\n          g = e.k();\n\n      if (g in I) {\n        var h,\n            l = Q(c, g, R(g));\n        h = t(l, 1);\n        var m = w(h, 3);\n        d = V(m, f);\n      } else d = 1;\n\n      return d;\n    } catch (z) {\n      return "Invalid country calling code" == z ? 1 : "The string supplied did not seem to be a phone number" == z ? 4 : "Phone number too short after IDD" == z || "The string supplied is too short to be a phone number" == z ? 2 : "The string supplied is too long to be a phone number" == z ? 3 : -99;\n    }\n  });\n  n("intlTelInputUtils.isValidNumber", function (a, b) {\n    try {\n      var c = J.r(),\n          d = W(c, a, b),\n          e;\n      var f = Ja(c, d),\n          g = d.k(),\n          h = Q(c, g, f);\n      if (null == h || "001" != f && g != Ka(c, f)) e = !1;else {\n        var l = P(d);\n        e = -1 != T(l, h);\n      }\n      return e;\n    } catch (m) {\n      return !1;\n    }\n  });\n  n("intlTelInputUtils.numberType", {\n    FIXED_LINE: 0,\n    MOBILE: 1,\n    FIXED_LINE_OR_MOBILE: 2,\n    TOLL_FREE: 3,\n    PREMIUM_RATE: 4,\n    SHARED_COST: 5,\n    VOIP: 6,\n    PERSONAL_NUMBER: 7,\n    PAGER: 8,\n    UAN: 9,\n    VOICEMAIL: 10,\n    UNKNOWN: -1\n  });\n  n("intlTelInputUtils.validationError", {\n    IS_POSSIBLE: 0,\n    INVALID_COUNTRY_CODE: 1,\n    TOO_SHORT: 2,\n    TOO_LONG: 3,\n    NOT_A_NUMBER: 4\n  });\n  n("intlTelInputUtils.numberFormat", {\n    E164: 0,\n    INTERNATIONAL: 1,\n    NATIONAL: 2,\n    RFC3966: 3\n  });\n})();'},69931:n=>{n.exports="function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n// SweetAlert\n// 2014-2015 (c) - Tristan Edwards\n// github.com/t4t5/sweetalert\n;\n\n(function (window, document, undefined) {\n  var modalClass = '.ch-alert',\n      overlayClass = '.ch-overlay',\n      alertTypes = ['error', 'warning', 'info', 'success', 'input', 'prompt'],\n      defaultParams = {\n    title: '',\n    text: '',\n    type: null,\n    allowOutsideClick: false,\n    showConfirmButton: true,\n    showCancelButton: false,\n    closeOnConfirm: true,\n    closeOnCancel: true,\n    confirmButtonText: 'OK',\n    confirmButtonColor: 'confirm',\n    cancelButtonText: 'Cancel',\n    imageUrl: null,\n    imageSize: null,\n    timer: null,\n    customClass: '',\n    html: false,\n    animation: true,\n    allowEscapeKey: true,\n    inputType: 'text',\n    inputPlaceholder: '',\n    inputValue: '',\n    hasBottomPromo: false,\n    bottomPromoHtml: ''\n  };\n  /*\n   * Manipulate DOM\n   */\n\n  var getModal = function getModal() {\n    var $modal = document.querySelector(modalClass);\n\n    if (!$modal) {\n      sweetAlertInitialize();\n      $modal = getModal();\n    }\n\n    return $modal;\n  };\n\n  var getInput = function getInput() {\n    var modal = getModal();\n\n    if (modal) {\n      return modal.querySelector('input');\n    }\n  },\n      getOverlay = function getOverlay() {\n    return document.querySelector(overlayClass);\n  },\n      hasClass = function hasClass(elem, className) {\n    return new RegExp(' ' + className + ' ').test(' ' + elem.className + ' ');\n  },\n      addClass = function addClass(elem, className) {\n    if (!hasClass(elem, className)) {\n      elem.className += ' ' + className;\n    }\n  },\n      removeClass = function removeClass(elem, className) {\n    var newClass = ' ' + elem.className.replace(/[\\t\\r\\n]/g, ' ') + ' ';\n\n    if (hasClass(elem, className)) {\n      while (newClass.indexOf(' ' + className + ' ') >= 0) {\n        newClass = newClass.replace(' ' + className + ' ', ' ');\n      }\n\n      elem.className = newClass.replace(/^\\s+|\\s+$/g, '');\n    }\n  },\n      escapeHtml = function escapeHtml(str) {\n    var div = document.createElement('div');\n    div.appendChild(document.createTextNode(str));\n    return div.innerHTML;\n  },\n      _show = function _show(elem) {\n    elem.style.opacity = '';\n    elem.style.display = 'block';\n  },\n      show = function show(elems) {\n    if (elems && !elems.length) {\n      return _show(elems);\n    }\n\n    for (var i = 0; i < elems.length; ++i) {\n      _show(elems[i]);\n    }\n  },\n      _hide = function _hide(elem) {\n    elem.style.opacity = '';\n    elem.style.display = 'none';\n  },\n      hide = function hide(elems) {\n    if (elems && !elems.length) {\n      return _hide(elems);\n    }\n\n    for (var i = 0; i < elems.length; ++i) {\n      _hide(elems[i]);\n    }\n  },\n      isDescendant = function isDescendant(parent, child) {\n    var node = child.parentNode;\n\n    while (node !== null) {\n      if (node === parent) {\n        return true;\n      }\n\n      node = node.parentNode;\n    }\n\n    return false;\n  },\n      getTopMargin = function getTopMargin(elem) {\n    elem.style.left = '-9999px';\n    elem.style.display = 'block';\n    var height = elem.clientHeight,\n        padding;\n\n    if (typeof getComputedStyle !== \"undefined\") {\n      // IE 8\n      padding = parseInt(getComputedStyle(elem).getPropertyValue('padding-top'), 10);\n    } else {\n      padding = parseInt(elem.currentStyle.padding);\n    }\n\n    elem.style.left = '';\n    elem.style.display = 'none';\n    return '-' + parseInt((height + padding) / 2) + 'px';\n  },\n      fadeIn = function fadeIn(elem, interval) {\n    if (+elem.style.opacity < 1) {\n      interval = interval || 16;\n      elem.style.opacity = 0;\n      elem.style.display = 'block';\n      var last = +new Date();\n\n      var tick = function tick() {\n        elem.style.opacity = +elem.style.opacity + (new Date() - last) / 100;\n        last = +new Date();\n\n        if (+elem.style.opacity < 1) {\n          setTimeout(tick, interval);\n        }\n      };\n\n      tick();\n    }\n\n    elem.style.display = 'block'; //fallback IE8\n  },\n      fadeOut = function fadeOut(elem, interval) {\n    interval = interval || 16;\n    elem.style.opacity = 1;\n    var last = +new Date();\n\n    var tick = function tick() {\n      elem.style.opacity = +elem.style.opacity - (new Date() - last) / 100;\n      last = +new Date();\n\n      if (+elem.style.opacity > 0) {\n        setTimeout(tick, interval);\n      } else {\n        elem.style.display = 'none';\n      }\n    };\n\n    tick();\n  },\n      fireClick = function fireClick(node) {\n    // Taken from http://www.nonobtrusive.com/2011/11/29/programatically-fire-crossbrowser-click-event-with-javascript/\n    // Then fixed for today's Chrome browser.\n    if (typeof MouseEvent === 'function') {\n      // Up-to-date approach\n      var mevt = new MouseEvent('click', {\n        view: window,\n        bubbles: false,\n        cancelable: true\n      });\n      node.dispatchEvent(mevt);\n    } else if (document.createEvent) {\n      // Fallback\n      var evt = document.createEvent('MouseEvents');\n      evt.initEvent('click', false, false);\n      node.dispatchEvent(evt);\n    } else if (document.createEventObject) {\n      node.fireEvent('onclick');\n    } else if (typeof node.onclick === 'function') {\n      node.onclick();\n    }\n  },\n      stopEventPropagation = function stopEventPropagation(e) {\n    // In particular, make sure the space bar doesn't scroll the main window.\n    if (typeof e.stopPropagation === 'function') {\n      e.stopPropagation();\n      e.preventDefault();\n    } else if (window.event && window.event.hasOwnProperty('cancelBubble')) {\n      window.event.cancelBubble = true;\n    }\n  }; // Remember state in cases where opening and handling a modal will fiddle with it.\n\n\n  var previousActiveElement, previousWindowKeyDown, lastFocusedButton;\n  /*\n   * Add modal + overlay to DOM\n   */\n\n  var sweetAlertInitialize = function sweetAlertInitialize() {\n    var sweetHTML = '<div class=\"ch-overlay\" tabIndex=\"-1\"></div><div class=\"ch-alert\"><div class=\"sa-icon sa-error\"><span class=\"sa-x-mark\"><span class=\"sa-line sa-left\"></span><span class=\"sa-line sa-right\"></span></span></div><div class=\"sa-icon sa-warning\"> <span class=\"sa-body\"></span> <span class=\"sa-dot\"></span> </div> <div class=\"sa-icon sa-info\"></div> <div class=\"sa-icon sa-success\"> <span class=\"sa-line sa-tip\"></span> <span class=\"sa-line sa-long\"></span> <div class=\"sa-placeholder\"></div> <div class=\"sa-fix\"></div> </div> <div class=\"sa-icon sa-custom\"></div> <h2>Title</h2><p>Text</p><fieldset><input type=\"text\" tabIndex=\"3\" /></fieldset> <div class=\"sa-error-container error\"><span class=\"sa_error_prompt-icon\"><i class=\"fa fa-exclamation-triangle\"></i></span> <p>Not valid!</p></div> <button class=\"confirm\" tabIndex=\"1\">OK</button><button class=\"cancel\" tabIndex=\"2\">Cancel</button><div class=\"ch-sa-bottom-div\"></div></div>',\n        sweetWrap = document.createElement('div');\n    sweetWrap.innerHTML = sweetHTML; // Append elements to body\n\n    while (sweetWrap.firstChild) {\n      document.body.appendChild(sweetWrap.firstChild);\n    }\n  };\n  /*\n   * Global sweetAlert function\n   */\n\n\n  var sweetAlert, swal;\n\n  sweetAlert = swal = function swal() {\n    var customizations = arguments[0];\n    addClass(document.body, 'stop-scrolling');\n    resetInput();\n    /*\n     * Use argument if defined or default value from params object otherwise.\n     * Supports the case where a default value is boolean true and should be\n     * overridden by a corresponding explicit argument which is boolean false.\n     */\n\n    function argumentOrDefault(key) {\n      var args = customizations;\n\n      if (typeof args[key] !== 'undefined') {\n        return args[key];\n      } else {\n        return defaultParams[key];\n      }\n    }\n\n    if (arguments[0] === undefined) {\n      logStr('SweetAlert expects at least 1 attribute!');\n      return false;\n    }\n\n    var params = extend({}, defaultParams);\n\n    switch (_typeof(arguments[0])) {\n      // Ex: swal(\"Hello\", \"Just testing\", \"info\");\n      case 'string':\n        params.title = arguments[0];\n        params.text = arguments[1] || '';\n        params.type = arguments[2] || '';\n        break;\n      // Ex: swal({title:\"Hello\", text: \"Just testing\", type: \"info\"});\n\n      case 'object':\n        if (arguments[0].title === undefined) {\n          logStr('Missing \"title\" argument!');\n          return false;\n        }\n\n        params.title = arguments[0].title;\n        var availableCustoms = ['text', 'type', 'customClass', 'allowOutsideClick', 'showConfirmButton', 'showCancelButton', 'closeOnConfirm', 'closeOnCancel', 'timer', 'confirmButtonColor', 'cancelButtonText', 'imageUrl', 'imageSize', 'html', 'animation', 'allowEscapeKey', 'inputType', 'inputPlaceholder', 'inputValue', 'hasBottomPromo', 'bottomPromoHtml']; // It would be nice to just use .forEach here, but IE8... :(\n\n        var numCustoms = availableCustoms.length;\n\n        for (var customIndex = 0; customIndex < numCustoms; customIndex++) {\n          var customName = availableCustoms[customIndex];\n          params[customName] = argumentOrDefault(customName);\n        } // Show \"Confirm\" instead of \"OK\" if cancel button is visible\n\n\n        params.confirmButtonText = params.showCancelButton ? 'Confirm' : defaultParams.confirmButtonText;\n        params.confirmButtonText = argumentOrDefault('confirmButtonText'); // Function to call when clicking on cancel/OK\n\n        params.doneFunction = arguments[1] || null;\n        break;\n\n      default:\n        logStr('Unexpected type of argument! Expected \"string\" or \"object\", got ' + _typeof(arguments[0]));\n        return false;\n    }\n\n    setParameters(params);\n    fixVerticalPosition();\n    openModal(); // Modal interactions\n\n    var modal = getModal(); // Mouse interactions\n\n    var onButtonEvent = function onButtonEvent(event) {\n      var e = event || window.event;\n      var target = e.target || e.srcElement,\n          targetedConfirm = target.className.indexOf(\"confirm\") !== -1,\n          targetedOverlay = target.className.indexOf(\"ch-overlay\") !== -1,\n          modalIsVisible = hasClass(modal, 'visible'),\n          doneFunctionExists = params.doneFunction && modal.getAttribute('data-has-done-function') === 'true';\n\n      switch (e.type) {\n        case \"focus\":\n          var $confirmButton = modal.querySelector('button.confirm'),\n              $cancelButton = modal.querySelector('button.cancel');\n          break;\n\n        case \"click\":\n          if (targetedConfirm && doneFunctionExists && modalIsVisible) {\n            // Clicked \"confirm\"\n            handleConfirm();\n          } else if (doneFunctionExists && modalIsVisible || targetedOverlay) {\n            // Clicked \"cancel\"\n            handleCancel();\n          } else if (isDescendant(modal, target) && target.tagName === \"BUTTON\") {\n            sweetAlert.close();\n          }\n\n          break;\n      }\n    };\n\n    function handleConfirm() {\n      var callbackValue = true;\n\n      if (hasClass(modal, 'show-input')) {\n        callbackValue = modal.querySelector('input').value;\n\n        if (!callbackValue) {\n          callbackValue = \"\";\n        }\n      }\n\n      params.doneFunction(callbackValue);\n\n      if (params.closeOnConfirm) {\n        sweetAlert.close();\n      }\n    }\n\n    function handleCancel() {\n      // Check if callback function expects a parameter (to track cancel actions)\n      var functionAsStr = String(params.doneFunction).replace(/\\s/g, '');\n      var functionHandlesCancel = functionAsStr.substring(0, 9) === \"function(\" && functionAsStr.substring(9, 10) !== \")\";\n\n      if (functionHandlesCancel) {\n        params.doneFunction(false);\n      }\n\n      if (params.closeOnCancel) {\n        sweetAlert.close();\n      }\n    }\n\n    var $buttons = modal.querySelectorAll('button');\n\n    for (var i = 0; i < $buttons.length; i++) {\n      $buttons[i].onclick = onButtonEvent;\n      $buttons[i].onmouseover = onButtonEvent;\n      $buttons[i].onmouseout = onButtonEvent;\n      $buttons[i].onmousedown = onButtonEvent;\n      $buttons[i].onmouseup = onButtonEvent;\n      $buttons[i].onfocus = onButtonEvent;\n    }\n\n    if (params.allowOutsideClick) {\n      getOverlay().onclick = onButtonEvent;\n    } // Keyboard interactions\n\n\n    var $okButton = modal.querySelector('button.confirm'),\n        $cancelButton = modal.querySelector('button.cancel'),\n        $modalButtons = modal.querySelectorAll('button[tabindex]');\n\n    function handleKeyDown(event) {\n      var e = event || window.event;\n      var keyCode = e.keyCode || e.which;\n\n      if ([9, 13, 32, 27].indexOf(keyCode) === -1) {\n        // Don't do work on keys we don't care about.\n        return;\n      }\n\n      var $targetElement = e.target || e.srcElement;\n      var btnIndex = -1; // Find the button - note, this is a nodelist, not an array.\n\n      for (var i = 0; i < $modalButtons.length; i++) {\n        if ($targetElement === $modalButtons[i]) {\n          btnIndex = i;\n          break;\n        }\n      }\n\n      if (keyCode === 9) {\n        // TAB\n        if (btnIndex === -1) {\n          // No button focused. Jump to the confirm button.\n          $targetElement = $okButton;\n        } else {\n          // Cycle to the next button\n          if (btnIndex === $modalButtons.length - 1) {\n            $targetElement = $modalButtons[0];\n          } else {\n            $targetElement = $modalButtons[btnIndex + 1];\n          }\n        }\n\n        stopEventPropagation(e);\n        $targetElement.focus();\n      } else {\n        if (keyCode === 13) {\n          if ($targetElement.tagName === \"INPUT\") {\n            $targetElement = $okButton;\n            $okButton.focus();\n          }\n\n          if (btnIndex === -1) {\n            // ENTER/SPACE clicked outside of a button.\n            $targetElement = $okButton;\n          } else {\n            // Do nothing - let the browser handle it.\n            $targetElement = undefined;\n          }\n        } else if (keyCode === 27 && params.allowEscapeKey === true) {\n          $targetElement = $cancelButton;\n          fireClick($targetElement, e);\n        } else {\n          // Fallback - let the browser handle it.\n          $targetElement = undefined;\n        }\n      }\n    }\n\n    previousWindowKeyDown = window.onkeydown;\n    window.onkeydown = handleKeyDown;\n    /*\n     * Makes stuff unselectable. Is it needed? --\x3e\n     */\n    // function handleOnBlur(event) {\n    //   var e = event || window.event;\n    //   var $targetElement = e.target || e.srcElement,\n    //       $focusElement = e.relatedTarget,\n    //       modalIsVisible = hasClass(modal, 'visible');\n    //   if (modalIsVisible) {\n    //     var btnIndex = -1; // Find the button - note, this is a nodelist, not an array.\n    //     if ($focusElement !== null) {\n    //       // If we picked something in the DOM to focus to, let's see if it was a button.\n    //       for (var i = 0; i < $modalButtons.length; i++) {\n    //         if ($focusElement === $modalButtons[i]) {\n    //           btnIndex = i;\n    //           break;\n    //         }\n    //       }\n    //       if (btnIndex === -1) {\n    //         // Something in the dom, but not a visible button. Focus back on the button.\n    //         $targetElement.focus();\n    //       }\n    //     } else {\n    //       // Exiting the DOM (e.g. clicked in the URL bar);\n    //       lastFocusedButton = $targetElement;\n    //     }\n    //   }\n    // }\n    // $okButton.onblur = handleOnBlur;\n    // $cancelButton.onblur = handleOnBlur;\n\n    window.onfocus = function () {\n      // When the user has focused away and focused back from the whole window.\n      window.setTimeout(function () {\n        // Put in a timeout to jump out of the event sequence. Calling focus() in the event\n        // sequence confuses things.\n        if (lastFocusedButton !== undefined) {\n          lastFocusedButton.focus();\n          lastFocusedButton = undefined;\n        }\n      }, 0);\n    };\n  };\n  /*\n   * Set default params for each popup\n   * @param {Object} userParams\n   */\n\n\n  sweetAlert.setDefaults = swal.setDefaults = function (userParams) {\n    if (!userParams) {\n      throw new Error('userParams is required');\n    }\n\n    if (_typeof(userParams) !== 'object') {\n      throw new Error('userParams has to be a object');\n    }\n\n    extend(defaultParams, userParams);\n  };\n  /*\n   * Set type, text and actions on modal\n   */\n\n\n  function setParameters(params) {\n    var modal = getModal();\n    var $title = modal.querySelector('h2'),\n        $text = modal.querySelector('p'),\n        $cancelBtn = modal.querySelector('button.cancel'),\n        $confirmBtn = modal.querySelector('button.confirm'),\n        $bottomDiv = modal.querySelector('.ch-sa-bottom-div'); // Title\n\n    $title.innerHTML = params.html ? params.title : escapeHtml(params.title).split(\"\\n\").join(\"<br>\"); // Text\n\n    $text.innerHTML = params.html ? params.text : escapeHtml(params.text || '').split(\"\\n\").join(\"<br>\");\n\n    if (params.text) {\n      show($text);\n    } //Custom Class\n\n\n    if (params.customClass) {\n      addClass(modal, params.customClass);\n      modal.setAttribute('data-custom-class', params.customClass);\n    } else {\n      // Find previously set classes and remove them\n      var customClass = modal.getAttribute('data-custom-class');\n      removeClass(modal, customClass);\n      modal.setAttribute('data-custom-class', \"\");\n    } // Icon\n\n\n    hide(modal.querySelectorAll('.sa-icon'));\n\n    if (params.type && !isIE8()) {\n      var validType = false;\n\n      for (var i = 0; i < alertTypes.length; i++) {\n        if (params.type === alertTypes[i]) {\n          validType = true;\n          break;\n        }\n      }\n\n      if (!validType) {\n        logStr('Unknown alert type: ' + params.type);\n        return false;\n      }\n\n      var typesWithIcons = ['success', 'error', 'warning', 'info'];\n      var $icon;\n\n      if (typesWithIcons.indexOf(params.type) !== -1) {\n        $icon = modal.querySelector('.sa-icon.' + 'sa-' + params.type);\n        show($icon);\n      }\n\n      var $input = getInput(); // Animate icon\n\n      switch (params.type) {\n        case \"success\":\n          addClass($icon, 'animate');\n          addClass($icon.querySelector('.sa-tip'), 'animateSuccessTip');\n          addClass($icon.querySelector('.sa-long'), 'animateSuccessLong');\n\n          if (params.inputPlaceholder.length > 0) {\n            $input.setAttribute('type', params.inputType);\n            $input.value = params.inputValue;\n            $input.setAttribute('placeholder', params.inputPlaceholder);\n            addClass(modal, 'show-input');\n            setTimeout(function () {\n              $input.focus();\n              $input.addEventListener('keyup', swal.resetInputError);\n            }, 400);\n          }\n\n          break;\n\n        case \"error\":\n          addClass($icon, 'animateErrorIcon');\n          addClass($icon.querySelector('.sa-x-mark'), 'animateXMark');\n          break;\n\n        case \"warning\":\n          addClass($icon, 'pulseWarning');\n          addClass($icon.querySelector('.sa-body'), 'pulseWarningIns');\n          addClass($icon.querySelector('.sa-dot'), 'pulseWarningIns');\n          break;\n\n        case \"input\":\n        case \"prompt\":\n          $input.setAttribute('type', params.inputType);\n          addClass(modal, 'show-input');\n          setTimeout(function () {\n            $input.focus();\n            $input.addEventListener('keyup', swal.resetInputError);\n          }, 400);\n          break;\n      }\n    } // Custom image\n\n\n    if (params.imageUrl) {\n      var $customIcon = modal.querySelector('.sa-icon.sa-custom');\n      $customIcon.style.backgroundImage = 'url(' + params.imageUrl + ')';\n      show($customIcon);\n      var _imgWidth = 80,\n          _imgHeight = 80;\n\n      if (params.imageSize) {\n        var dimensions = params.imageSize.toString().split('x');\n        var imgWidth = dimensions[0];\n        var imgHeight = dimensions[1];\n\n        if (!imgWidth || !imgHeight) {\n          logStr(\"Parameter imageSize expects value with format WIDTHxHEIGHT, got \" + params.imageSize);\n        } else {\n          _imgWidth = imgWidth;\n          _imgHeight = imgHeight;\n        }\n      }\n\n      $customIcon.setAttribute('style', $customIcon.getAttribute('style') + 'width:' + _imgWidth + 'px; height:' + _imgHeight + 'px');\n    } // Show cancel button?\n\n\n    modal.setAttribute('data-has-cancel-button', params.showCancelButton);\n\n    if (params.showCancelButton) {\n      $cancelBtn.style.display = 'inline-block';\n    } else {\n      hide($cancelBtn);\n    } // Show confirm button?\n\n\n    modal.setAttribute('data-has-confirm-button', params.showConfirmButton);\n\n    if (params.showConfirmButton) {\n      $confirmBtn.style.display = 'inline-block';\n    } else {\n      hide($confirmBtn);\n    } // Edit text on cancel and confirm buttons\n\n\n    if (params.cancelButtonText) {\n      $cancelBtn.innerHTML = escapeHtml(params.cancelButtonText);\n    }\n\n    if (params.confirmButtonText) {\n      $confirmBtn.innerHTML = escapeHtml(params.confirmButtonText);\n    }\n\n    if (params.confirmButtonColor) {\n      // Set confirm button to selected background color\n      $confirmBtn.style.backgroundColor = params.confirmButtonColor;\n    } // Allow outside click?\n\n\n    modal.setAttribute('data-allow-ouside-click', params.allowOutsideClick); // Done-function\n\n    var hasDoneFunction = params.doneFunction ? true : false;\n    modal.setAttribute('data-has-done-function', hasDoneFunction);\n\n    if (!params.animation) {\n      // No animation\n      modal.setAttribute('data-animation', 'none');\n    } else if (typeof params.animation === \"string\") {\n      modal.setAttribute('data-animation', params.animation); // Custom animation\n    } else {\n      modal.setAttribute('data-animation', 'pop');\n    }\n\n    if (params.hasBottomPromo && params.bottomPromoHtml) {\n      $bottomDiv.innerHTML = params.bottomPromoHtml;\n      show($bottomDiv);\n    } else {\n      hide($bottomDiv);\n    } // Close timer\n\n\n    modal.setAttribute('data-timer', params.timer);\n  }\n  /*\n   * Set hover, active and focus-states for buttons (source: http://www.sitepoint.com/javascript-generate-lighter-darker-color)\n   */\n\n\n  function colorLuminance(hex, lum) {\n    // Validate hex string\n    hex = String(hex).replace(/[^0-9a-f]/gi, '');\n\n    if (hex.length < 6) {\n      hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\n    }\n\n    lum = lum || 0; // Convert to decimal and change luminosity\n\n    var rgb = \"#\",\n        c,\n        i;\n\n    for (i = 0; i < 3; i++) {\n      c = parseInt(hex.substr(i * 2, 2), 16);\n      c = Math.round(Math.min(Math.max(0, c + c * lum), 255)).toString(16);\n      rgb += (\"00\" + c).substr(c.length);\n    }\n\n    return rgb;\n  }\n\n  function extend(a, b) {\n    for (var key in b) {\n      if (b.hasOwnProperty(key)) {\n        a[key] = b[key];\n      }\n    }\n\n    return a;\n  }\n\n  function hexToRgb(hex) {\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? parseInt(result[1], 16) + ', ' + parseInt(result[2], 16) + ', ' + parseInt(result[3], 16) : null;\n  } // Animation when opening modal\n\n\n  function openModal() {\n    var modal = getModal();\n    fadeIn(getOverlay(), 10);\n    show(modal);\n    addClass(modal, 'showchAlert');\n    removeClass(modal, 'hidechAlert');\n    previousActiveElement = document.activeElement;\n    var $okButton = modal.querySelector('button.confirm');\n    modal.setAttribute('data-cy', 'alert-modal');\n    $okButton.focus();\n    setTimeout(function () {\n      addClass(modal, 'visible');\n    }, 500);\n    var timer = modal.getAttribute('data-timer');\n\n    if (timer !== \"null\" && timer !== \"\") {\n      modal.timeout = setTimeout(function () {\n        sweetAlert.close();\n      }, timer);\n    }\n  } // Aninmation when closing modal\n\n\n  sweetAlert.close = swal.close = function () {\n    var modal = getModal();\n    fadeOut(getOverlay(), 5);\n    fadeOut(modal, 5);\n    removeClass(modal, 'showchAlert');\n    addClass(modal, 'hidechAlert');\n    removeClass(modal, 'visible'); // Reset icon animations\n\n    var $successIcon = modal.querySelector('.sa-icon.sa-success');\n    removeClass($successIcon, 'animate');\n    removeClass($successIcon.querySelector('.sa-tip'), 'animateSuccessTip');\n    removeClass($successIcon.querySelector('.sa-long'), 'animateSuccessLong');\n    var $errorIcon = modal.querySelector('.sa-icon.sa-error');\n    removeClass($errorIcon, 'animateErrorIcon');\n    removeClass($errorIcon.querySelector('.sa-x-mark'), 'animateXMark');\n    var $warningIcon = modal.querySelector('.sa-icon.sa-warning');\n    removeClass($warningIcon, 'pulseWarning');\n    removeClass($warningIcon.querySelector('.sa-body'), 'pulseWarningIns');\n    removeClass($warningIcon.querySelector('.sa-dot'), 'pulseWarningIns');\n    removeClass(document.body, 'stop-scrolling'); // Reset the page to its previous state\n\n    window.onkeydown = previousWindowKeyDown;\n\n    if (previousActiveElement) {\n      previousActiveElement.focus();\n    }\n\n    lastFocusedButton = undefined;\n    clearTimeout(modal.timeout);\n  };\n  /*\n   * Validation of the input field is done by user\n   * If something is wrong => call showInputError with errorMessage\n   */\n\n\n  sweetAlert.showInputError = swal.showInputError = function (errorMessage) {\n    var modal = getModal();\n    var $errorInput = modal.querySelector('input');\n    addClass($errorInput, 'error');\n    var $errorContainer = modal.querySelector('.sa-error-container');\n    addClass($errorContainer, 'show');\n    $errorContainer.querySelector('p').innerHTML = errorMessage;\n    modal.querySelector('input').focus();\n  };\n\n  function resetInput() {\n    var $modal = getModal();\n    var $input = getInput();\n    removeClass($modal, 'show-input');\n    $input.value = \"\";\n    $input.setAttribute('type', defaultParams.inputType);\n    swal.resetInputError();\n  }\n\n  sweetAlert.resetInputError = swal.resetInputError = function (event) {\n    // If press enter => ignore\n    if (event && event.keyCode === 13) {\n      return false;\n    }\n\n    var $modal = getModal();\n    var $errorInput = $modal.querySelector('input');\n    removeClass($errorInput, 'error');\n    var $errorContainer = $modal.querySelector('.sa-error-container');\n    removeClass($errorContainer, 'show');\n  };\n  /*\n   * Set \"margin-top\"-property on modal based on its computed height\n   */\n\n\n  function fixVerticalPosition() {\n    var modal = getModal();\n    modal.style.marginTop = getTopMargin(getModal());\n  } // If browser is Internet Explorer 8\n\n\n  function isIE8() {\n    if (window.attachEvent && !window.addEventListener) {\n      return true;\n    } else {\n      return false;\n    }\n  } // Error messages for developers\n\n\n  function logStr(string) {\n    if (window.console) {\n      // IE...\n      window.console.log(\"SweetAlert: \" + string);\n    }\n  }\n\n  if (typeof define === 'function' && define.amd) {\n    define(function () {\n      return sweetAlert;\n    });\n  } else if (typeof module !== 'undefined' && module.exports) {\n    module.exports = sweetAlert;\n  } else if (typeof window !== 'undefined') {\n    window.sweetAlert = window.swal = sweetAlert;\n  }\n})(window, document);"},32128:n=>{n.exports=";\n\n(function () {\n  if (typeof window !== 'undefined' && window.location.hostname === 'www.coursehero.com') {\n    // render in production\n    var primaryTextStyle = \"color:#001a96; font-family: 'Haas Grot Text Web', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-weight: 400; font-style: normal; font-size: 60px;\";\n    var secondaryTextStyle = \"color: #e00099;font-family: 'Haas Grot Text Web', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size: 36px;\";\n    var tertiaryTextStyle = \"color: #3d3d3d;font-family: 'Haas Grot Text Web', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size: 24px;\";\n    console.group(\"Work with us!\");\n    console.log(\"%cCourse Hero%c is hiring.\", primaryTextStyle, tertiaryTextStyle);\n    console.log(\"%c Go to%c https://www.coursehero.com/jobs/ %cto apply!\", tertiaryTextStyle, secondaryTextStyle, tertiaryTextStyle);\n    console.groupEnd();\n  }\n})();"},16827:n=>{n.exports='/*\n AngularJS v1.3.20\n (c) 2010-2014 Google, Inc. http://angularjs.org\n License: MIT\n*/\n(function (p, c, C) {\n  \'use strict\';\n\n  function v(r, h, g) {\n    return {\n      restrict: "ECA",\n      terminal: !0,\n      priority: 400,\n      transclude: "element",\n      link: function link(a, f, b, d, y) {\n        function z() {\n          k && (g.cancel(k), k = null);\n          l && (l.$destroy(), l = null);\n          m && (k = g.leave(m), k.then(function () {\n            k = null;\n          }), m = null);\n        }\n\n        function x() {\n          var b = r.current && r.current.locals;\n\n          if (c.isDefined(b && b.$template)) {\n            var b = a.$new(),\n                d = r.current;\n            m = y(b, function (b) {\n              g.enter(b, null, m || f).then(function () {\n                !c.isDefined(t) || t && !a.$eval(t) || h();\n              });\n              z();\n            });\n            l = d.scope = b;\n            l.$emit("$viewContentLoaded");\n            l.$eval(w);\n          } else z();\n        }\n\n        var l,\n            m,\n            k,\n            t = b.autoscroll,\n            w = b.onload || "";\n        a.$on("$routeChangeSuccess", x);\n        x();\n      }\n    };\n  }\n\n  function A(c, h, g) {\n    return {\n      restrict: "ECA",\n      priority: -400,\n      link: function link(a, f) {\n        var b = g.current,\n            d = b.locals;\n        f.html(d.$template);\n        var y = c(f.contents());\n        b.controller && (d.$scope = a, d = h(b.controller, d), b.controllerAs && (a[b.controllerAs] = d), f.data("$ngControllerController", d), f.children().data("$ngControllerController", d));\n        y(a);\n      }\n    };\n  }\n\n  p = c.module("ngRoute", ["ng"]).provider("$route", function () {\n    function r(a, f) {\n      return c.extend(Object.create(a), f);\n    }\n\n    function h(a, c) {\n      var b = c.caseInsensitiveMatch,\n          d = {\n        originalPath: a,\n        regexp: a\n      },\n          g = d.keys = [];\n      a = a.replace(/([().])/g, "\\\\$1").replace(/(\\/)?:(\\w+)([\\?\\*])?/g, function (a, c, b, d) {\n        a = "?" === d ? d : null;\n        d = "*" === d ? d : null;\n        g.push({\n          name: b,\n          optional: !!a\n        });\n        c = c || "";\n        return "" + (a ? "" : c) + "(?:" + (a ? c : "") + (d && "(.+?)" || "([^/]+)") + (a || "") + ")" + (a || "");\n      }).replace(/([\\/$\\*])/g, "\\\\$1");\n      d.regexp = new RegExp("^" + a + "$", b ? "i" : "");\n      return d;\n    }\n\n    var g = {};\n\n    this.when = function (a, f) {\n      var b = c.copy(f);\n      c.isUndefined(b.reloadOnSearch) && (b.reloadOnSearch = !0);\n      c.isUndefined(b.caseInsensitiveMatch) && (b.caseInsensitiveMatch = this.caseInsensitiveMatch);\n      g[a] = c.extend(b, a && h(a, b));\n\n      if (a) {\n        var d = "/" == a[a.length - 1] ? a.substr(0, a.length - 1) : a + "/";\n        g[d] = c.extend({\n          redirectTo: a\n        }, h(d, b));\n      }\n\n      return this;\n    };\n\n    this.caseInsensitiveMatch = !1;\n\n    this.otherwise = function (a) {\n      "string" === typeof a && (a = {\n        redirectTo: a\n      });\n      this.when(null, a);\n      return this;\n    };\n\n    this.$get = ["$rootScope", "$location", "$routeParams", "$q", "$injector", "$templateRequest", "$sce", function (a, f, b, d, h, p, x) {\n      function l(b) {\n        var e = s.current;\n        (v = (n = k()) && e && n.$$route === e.$$route && c.equals(n.pathParams, e.pathParams) && !n.reloadOnSearch && !w) || !e && !n || a.$broadcast("$routeChangeStart", n, e).defaultPrevented && b && b.preventDefault();\n      }\n\n      function m() {\n        var u = s.current,\n            e = n;\n        if (v) u.params = e.params, c.copy(u.params, b), a.$broadcast("$routeUpdate", u);else if (e || u) w = !1, (s.current = e) && e.redirectTo && (c.isString(e.redirectTo) ? f.path(t(e.redirectTo, e.params)).search(e.params).replace() : f.url(e.redirectTo(e.pathParams, f.path(), f.search())).replace()), d.when(e).then(function () {\n          if (e) {\n            var a = c.extend({}, e.resolve),\n                b,\n                f;\n            c.forEach(a, function (b, e) {\n              a[e] = c.isString(b) ? h.get(b) : h.invoke(b, null, null, e);\n            });\n            c.isDefined(b = e.template) ? c.isFunction(b) && (b = b(e.params)) : c.isDefined(f = e.templateUrl) && (c.isFunction(f) && (f = f(e.params)), c.isDefined(f) && (e.loadedTemplateUrl = x.valueOf(f), b = p(f)));\n            c.isDefined(b) && (a.$template = b);\n            return d.all(a);\n          }\n        }).then(function (f) {\n          e == s.current && (e && (e.locals = f, c.copy(e.params, b)), a.$broadcast("$routeChangeSuccess", e, u));\n        }, function (b) {\n          e == s.current && a.$broadcast("$routeChangeError", e, u, b);\n        });\n      }\n\n      function k() {\n        var a, b;\n        c.forEach(g, function (d, g) {\n          var q;\n\n          if (q = !b) {\n            var h = f.path();\n            q = d.keys;\n            var l = {};\n            if (d.regexp) {\n              if (h = d.regexp.exec(h)) {\n                for (var k = 1, m = h.length; k < m; ++k) {\n                  var n = q[k - 1],\n                      p = h[k];\n                  n && p && (l[n.name] = p);\n                }\n\n                q = l;\n              } else q = null;\n            } else q = null;\n            q = a = q;\n          }\n\n          q && (b = r(d, {\n            params: c.extend({}, f.search(), a),\n            pathParams: a\n          }), b.$$route = d);\n        });\n        return b || g[null] && r(g[null], {\n          params: {},\n          pathParams: {}\n        });\n      }\n\n      function t(a, b) {\n        var d = [];\n        c.forEach((a || "").split(":"), function (a, c) {\n          if (0 === c) d.push(a);else {\n            var f = a.match(/(\\w+)(?:[?*])?(.*)/),\n                g = f[1];\n            d.push(b[g]);\n            d.push(f[2] || "");\n            delete b[g];\n          }\n        });\n        return d.join("");\n      }\n\n      var w = !1,\n          n,\n          v,\n          s = {\n        routes: g,\n        reload: function reload() {\n          w = !0;\n          a.$evalAsync(function () {\n            l();\n            m();\n          });\n        },\n        updateParams: function updateParams(a) {\n          if (this.current && this.current.$$route) a = c.extend({}, this.current.params, a), f.path(t(this.current.$$route.originalPath, a)), f.search(a);else throw B("norout");\n        }\n      };\n      a.$on("$locationChangeStart", l);\n      a.$on("$locationChangeSuccess", m);\n      return s;\n    }];\n  });\n  var B = c.$$minErr("ngRoute");\n  p.provider("$routeParams", function () {\n    this.$get = function () {\n      return {};\n    };\n  });\n  p.directive("ngView", v);\n  p.directive("ngView", A);\n  v.$inject = ["$route", "$anchorScroll", "$animate"];\n  A.$inject = ["$compile", "$controller", "$route"];\n})(window, window.angular);'},93802:n=>{n.exports="(function () {\n  var trackerEndpoint = '/api/connect/';\n\n  if (!window.URL || !window.fetch) {\n    // IE11.\n    var xhr = new XMLHttpRequest();\n\n    if (window.__CH_CF_RAY) {\n      xhr.setRequestHeader(\"Parent-Cf-Ray\", window.__CH_CF_RAY);\n    }\n\n    xhr.open('GET', trackerEndpoint + '?url=' + encodeURIComponent(document.location.href));\n    xhr.send();\n    return;\n  }\n\n  var reqInit = {};\n\n  if (window.__CH_CF_RAY) {\n    reqInit.headers = {\n      \"Parent-Cf-Ray\": window.__CH_CF_RAY\n    };\n  }\n\n  var url = new URL(trackerEndpoint, document.location.origin);\n  url.searchParams.set('url', document.location.href);\n  fetch(url.toString(), reqInit);\n})();"},915:n=>{n.exports="/**\n * For loading product thumbnail stats ajaxically. This is setup so views\n * (angular or HTML) will not modify the data directly, and will treat their \n * data as immutable.\n * \n * Angular/HTML will listen to events and update themselves by pulling data from\n * the stores. This provides a clean path and ensures multiple views/objects can\n * pull clean data and all be notified of updates.\n * \n * Views can submit messages (ProductThumbnailStats.dispatchView) to update \n * data, however in this case we are simply grabbing meta data, so there is no \n * need to update data.\n * \n * The API will do the requests, but will also not update the data directly, but\n * will instead dispatch a server message (ProductThumbnailStats.dispatchServer)\n * to which the stores will decide what to do with the data received.\n * \n * In the case of the Newsfeed, or items that ajaxically pull in data, we \n * provide a function in the app layer that allows you to parse the products \n * from the DOM.\n * \n * The parsing will automatically dispatch the messages and views will \n * automatically be updated throughout.\n * \n * If you are pulling back JSON objects, you can simply submit them to the API\n * call ProductThumbnailStats.api, passing in an array of objects that contains\n * type: and id:, this allows us to use this for multiple product types in the\n * future.\n * \n */\n\n/**\n * Dispatch helper functions\n */\nvar ProductThumbnailStats = new function () {\n  return {\n    /**\n     * Dispatch an action from a view\n     * @param {type} payload\n     */\n    dispatchView: function dispatchView(action, payload) {\n      payload.action = action;\n      this.dispatcher.dispatch(ProductThumbnailStats.dispatcher.type.VIEW, payload);\n    },\n\n    /**\n     * Dispatch an action from the server\n     * @param {type} payload\n     */\n    dispatchServer: function dispatchServer(action, payload) {\n      payload.action = action;\n      this.dispatcher.dispatch(ProductThumbnailStats.dispatcher.type.SERVER, payload);\n    }\n  };\n}();\n/**\n * Controlls dispatching of messages, holds callbacks, and message types\n */\n\nProductThumbnailStats.dispatcher = new function () {\n  return {\n    /**\n     * Holds callbacks to be called when any message is dispatched\n     */\n    callbacks: [],\n\n    /**\n     * Dispatch a message to any registered callbacks\n     * \n     * @param string type\n     * @param object payload\n     * @returns int\n     */\n    dispatch: function dispatch(type, payload) {\n      //type should be used for logging\n      this.callbacks.forEach(function (callback) {\n        if (typeof callback === 'function') {\n          callback(payload);\n        }\n      });\n    },\n\n    /**\n     * Register a callback function for whenever we do a dispatch\n     * @param {type} callback\n     * @returns {ProductThumbnailStats.callbacks.length|Number}\n     */\n    register: function register(callback) {\n      this.callbacks.push(callback);\n      return this.callbacks.length - 1;\n    },\n\n    /**\n     * \n     */\n    unregister: function unregister(index) {\n      if (typeof this.callbacks[index] !== 'undefined') {\n        this.callbacks[index] = null;\n      }\n    },\n\n    /**\n     * Message type, was this called from the view, or from the server\n     */\n    type: {\n      VIEW: 'ProductThumbnailStats.dispatcher.type.VIEW',\n      SERVER: 'ProductThumbnailStats.dispatcher.type.SERVER'\n    }\n  };\n}();\n/**\n * Actions such as receiving, sending, or updating data\n * @type type\n */\n\nProductThumbnailStats.actions = {\n  RECEIVE: 'ProductThumbnailStats.actions.RECEIVE',\n  FAILURE: 'ProductThumbnailStats.actions.FAILURE'\n};\n/**\n * Event types, such as when our data is updated\n * @type type\n */\n\nProductThumbnailStats.events = {\n  UPDATE: 'ProductThumbnailStats.events.UPDATE',\n  FAILURE: 'ProductThumbnailStats.events.FAILURE'\n};\n/**\n * Holds our product records, dispatches events when our data changes, hooks\n * into our dispatcher\n */\n\nProductThumbnailStats.store = new function () {\n  var $ = jQuery;\n  return {\n    products: [],\n\n    /**\n     * \n     */\n    dispatchIndex: ProductThumbnailStats.dispatcher.register(function (payload) {\n      switch (payload.action) {\n        case ProductThumbnailStats.actions.RECEIVE:\n          payload.products.forEach(function (product) {\n            if (typeof ProductThumbnailStats.store.products[product.type] === 'undefined') {\n              ProductThumbnailStats.store.products[product.type] = {};\n            }\n\n            ProductThumbnailStats.store.products[product.type][product.id] = product;\n          });\n          $(window).trigger(ProductThumbnailStats.events.UPDATE); //notify listeners our data has changed\n\n          break;\n\n        case ProductThumbnailStats.actions.FAILURE:\n          //failed to load any data, let's submit an event to listeners so they can hide non-relevant data\n          $(window).trigger(ProductThumbnailStats.events.FAILURE); //notify listeners our data has changed\n\n          break;\n      }\n    }),\n\n    /**\n     * Get all of our products\n     * @returns array\n     */\n    getAll: function getAll() {\n      return this.products;\n    }\n  };\n}();\n/**\n * API for pulling in our meta-data for various products\n */\n\nProductThumbnailStats.api = new function () {\n  var $ = jQuery;\n  /**\n   * When we receive our information from the server\n   * @param {type} response\n   * @returns {undefined}\n   */\n\n  function onReceive(response) {\n    if (response.error) {\n      var message = 'Received error response from server';\n\n      if (JSON && JSON.stringify) {\n        message += ': ' + JSON.stringify(response);\n      }\n\n      throw new Error(message);\n    }\n\n    if (response.products === undefined) {\n      throw new Error('No products returned from server');\n    }\n\n    ProductThumbnailStats.dispatchServer(ProductThumbnailStats.actions.RECEIVE, {\n      products: response.products\n    });\n  }\n  /**\n   * Failed to retrieve JSON from the server, fail gracefully\n   * \n   * @param {Error} err\n   */\n\n\n  function onError(err) {\n    ProductThumbnailStats.dispatchServer(ProductThumbnailStats.actions.FAILURE, {});\n  }\n\n  var API_PULL_URL = '/api/v1/meta-data/';\n  return {\n    /**\n     * Called with list of products (containing, id, and type) will return\n     * available meta data (views, downloads, helpfuls, and unhelpfuls)\n     * \n     * @param array products\n     */\n    getStats: function getStats(products) {\n      if (typeof products === 'undefined' || products.length === 0) {\n        return false;\n      }\n\n      var existing = ProductThumbnailStats.store.getAll();\n      var unique = products.filter(function (a) {\n        return typeof existing[a.type] === 'undefined' || typeof existing[a.type][a.id] === 'undefined';\n      });\n\n      if (unique.length === 0) {\n        return false;\n      }\n\n      var data = {\n        products: unique\n      };\n      $.ajax({\n        url: API_PULL_URL,\n        type: 'POST',\n        data: data,\n        dataType: 'json',\n        success: onReceive,\n        error: onError\n      });\n    }\n  };\n}();\nProductThumbnailStats.app = new function () {\n  var $ = jQuery;\n  return {\n    /**\n     * Start the app, non-angular\n     * @returns {undefined}\n     */\n    start: function start() {\n      /**\n       * Non angular controlled thumbnail updates, otherwise we can just update the model in the angular scope\n       */\n      $(window).on(ProductThumbnailStats.events.UPDATE, function () {\n        var products = ProductThumbnailStats.store.getAll();\n\n        for (var type in products) {\n          products[type].forEach(function (product) {\n            $('.js-enable-product-stats:[data-product-id=\"' + product.id + '\"][data-product-type=\"' + product.type + '\"] span:[data-product-stat]').each(function (_, stat) {\n              var stat_type = $(stat).data('product-stat');\n\n              if (typeof product[stat_type] !== 'undefined') {\n                var html = $(stat).children();\n                $(stat).html(html);\n                $(stat).append(document.createTextNode(' ' + product[stat_type]));\n              }\n            });\n          });\n        }\n      });\n      /**\n       * If we fail to get stats, hide the stat bars\n       */\n\n      $(window).on(ProductThumbnailStats.events.FAILURE, function () {\n        $('.js-enable-product-stats span:[data-product-stat]').hide();\n      });\n      /**\n       * Load initial state from DOM\n       */\n\n      this.fromDOM();\n    },\n\n    /**\n     * Load products from current DOM state\n     * @returns {undefined}\n     */\n    fromDOM: function fromDOM() {\n      var products = [];\n      $('.js-enable-product-stats').each(function (_, stats) {\n        products.push({\n          type: $(stats).data('product-type'),\n          id: $(stats).data('product-id')\n        });\n      });\n      /**\n       * Get all relevant data in one call to the API\n       */\n\n      ProductThumbnailStats.api.getStats(products);\n    },\n\n    /**\n     * Should be called from angular\n     */\n    startAngular: function startAngular() {//do nothing for now\n    }\n  };\n}();"},13672:n=>{n.exports="/**\n *\n */\nif (typeof ProductThumbnailStatsServices === 'undefined') {\n  throw new Error('ProductThumbnailStatsServices is required to use this class');\n}\n\nvar productThumbnailStatsService = ProductThumbnailStatsServices.service('productThumbnailStatsService', function () {\n  var thumbnailService = {\n    getStats: function getStats() {\n      return ProductThumbnailStats.store.getAll();\n    },\n    getStat: function getStat(statsObject, stat, type, id) {\n      if (typeof statsObject[type] !== 'undefined' && typeof statsObject[type][id] !== 'undefined') {\n        if (statsObject[type][id][stat] == 0) {\n          return '~';\n        }\n\n        return statsObject[type][id][stat];\n      }\n\n      return '~';\n    }\n  };\n  return thumbnailService;\n});"},19293:n=>{n.exports="/**\n *\n */\nif (typeof angular === 'undefined') {\n  throw new Error('Angular is required to use the newsfeed services');\n}\n\nvar ProductThumbnailStatsServices = angular.module('ProductThumbnailStatsServices', []);"},5678:n=>{n.exports='function ResponsiveHeader() {\n  this.init = function () {\n    jQuery("#ch-header_mobile-nav_action").click(function (e) {\n      jQuery("body").toggleClass("ch_mobile-nav_enabled");\n      jQuery(this).toggleClass("highlighted");\n      jQuery("#ch-header_product-user-nav_container").toggleClass("show");\n      e.preventDefault();\n    });\n    jQuery("#ch-header_mobile-search_action").click(function (e) {\n      jQuery("#ch-header_secondary-nav_wrapper").slideToggle();\n      jQuery(this).toggleClass("highlighted");\n      e.preventDefault();\n    });\n  };\n}'},89109:n=>{n.exports="/**\n * Common utilities\n */\nvar CourseHeroUtils = new function () {\n  var IMAGE_MISSING_THUMB_PATH = '/img/reviewer_nothumb.gif';\n  return {\n    /**\n     * \n     * @param DOM.Node me\n     * @param string url\n     */\n    imageErrorBackup: function imageErrorBackup(me, url) {\n      if (typeof jQuery === 'undefined' || url === '') {\n        return false;\n      }\n\n      var tries = jQuery.data(me, 'tries');\n\n      if (typeof tries === 'undefined') {\n        tries = 0;\n      }\n\n      tries++;\n      jQuery.data(me, 'tries', tries);\n\n      if (tries < 2) {\n        me.src = url;\n      } else {\n        me.src = IMAGE_MISSING_THUMB_PATH;\n      }\n    },\n\n    /**\n     * Truncates a string to a certain size, can be used as an angular filter\n     * @returns {Function}\n     */\n    truncate: function truncate() {\n      return function (text, length, end) {\n        if (typeof text == 'undefined') {\n          return '';\n        }\n\n        if (isNaN(length)) length = 10;\n        if (end === undefined) end = \"...\";\n\n        if (text.length <= length || text.length - end.length <= length) {\n          return text;\n        } else {\n          return String(text).substring(0, length - end.length) + end;\n        }\n      };\n    },\n\n    /**\n     * \n     * @param {type} source\n     * @param {type} word\n     * @returns {undefined}\n     */\n    boldWord: function boldWord(source, word) {\n      var regex = new RegExp('(' + word + ')', \"gi\");\n      return source.replace(regex, \"<strong>$1</strong>\");\n    },\n\n    /**\n     * \n     * @param {type} number\n     * @returns {undefined}\n     */\n    formatNumber: function formatNumber(number) {\n      return number.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n    }\n  };\n}();"},6865:n=>{n.exports="/**\n * Payment actions for interacting with PaymentOptions\n * Can mark payments as primary, save new options, and remove existing options\n * Used to load a user's current payment options\n */\nif (typeof paymentServices === 'undefined') {\n  throw new Error('paymentServices must be included in order to use paymentActions');\n}\n\npaymentServices.service('paymentActions', ['dispatcher', 'apiService', 'notificationService', function (dispatcher, apiService, notificationService) {\n  var braintreeFieldInstance = null;\n  var braintreeClientInstance = null;\n  var braintreeDeviceData = null;\n  var braintreeAuthorization = null;\n  var braintreeActions = {\n    initHostedFields: function initHostedFields(form, submit, clientToken) {\n      braintree.client.create({\n        authorization: clientToken\n      }, function (clientErr, clientInstance) {\n        if (clientErr) {\n          console.error(clientErr);\n          return;\n        }\n\n        braintreeClientInstance = clientInstance; // This example shows Hosted Fields, but you can also use this\n        // client instance to create additional components here, such as\n        // PayPal or Data Collector.\n\n        braintreeActions.createHostedFields(clientInstance);\n        braintree.dataCollector.create({\n          client: clientInstance,\n          kount: true\n        }, function (dataCollectorErr, dataCollectorInstance) {\n          if (dataCollectorErr) {\n            console.error(dataCollectorErr);\n            return;\n          }\n\n          braintreeDeviceData = dataCollectorInstance.deviceData;\n        });\n      });\n    },\n    createHostedFields: function createHostedFields(clientInstance) {\n      var fields = {};\n      fields = {\n        number: {\n          selector: '#card-number',\n          placeholder: 'Card number'\n        },\n        expirationDate: {\n          selector: '#expiration-date',\n          placeholder: 'MM/YYYY'\n        },\n        postalCode: {\n          selector: '#postal-code',\n          placeholder: 'Zip Code'\n        }\n      };\n      braintree.hostedFields.create({\n        client: clientInstance,\n        styles: {\n          'input': {\n            'font-size': '14px'\n          },\n          'input.invalid': {\n            'color': 'red'\n          },\n          'input.valid': {}\n        },\n        fields: fields\n      }, function (hostedFieldsErr, hostedFieldsInstance) {\n        braintreeFieldInstance = hostedFieldsInstance;\n\n        if (hostedFieldsErr) {\n          console.error(hostedFieldsErr);\n          return;\n        }\n      });\n    },\n    setUpBraintree: function setUpBraintree(form, submit) {\n      if (braintreeAuthorization !== null) {\n        braintreeActions.initHostedFields(form, submit, braintreeAuthorization);\n      } else {\n        jQuery.get('/api/v1/payments/client_token/').success(function (data) {\n          braintreeAuthorization = data['clientToken'];\n          braintreeActions.initHostedFields(form, submit, braintreeAuthorization);\n        }).error(function () {\n          console.log(\"Client token generation failed\");\n        });\n      }\n    },\n    tearDownAndResetBraintree: function tearDownAndResetBraintree() {\n      if (typeof braintreeFieldInstance === 'undefined' || braintreeFieldInstance === null) {\n        return false;\n      }\n\n      braintreeFieldInstance.teardown(function (error) {\n        if (error) {\n          console.error(\"Could not tear down Hosted Fields!\");\n        } else {\n          braintreeActions.createHostedFields(braintreeClientInstance);\n        }\n      });\n    },\n    hasBraintreeSetup: function hasBraintreeSetup() {\n      return braintreeAuthorization !== null;\n    }\n  };\n  var paymentActions = {\n    /**\n     * Load our payment options from the API\n     * @returns {undefined}\n     */\n    loadPaymentOptions: function loadPaymentOptions() {\n      if (revenueIntegrationEnabled) {\n        paymentApi.getPaymentOptionsRevenue();\n      } // Fetch Braintree options in all cases as, even if revenueIntegrationEnabled is true,\n      // this response may include methods used to make a-la-carte purchases.\n\n\n      paymentApi.getPaymentOptions(revenueIntegrationEnabled);\n    },\n\n    /**\n     * Save a payment option\n     * @param {type} paymentOption\n     * @returns {undefined}\n     */\n    savePaymentOption: function savePaymentOption(paymentOption, success, error) {\n      paymentApi.savePaymentOption(paymentOption, success, error);\n    },\n\n    /**\n    * Save a payment option\n    * @param {type} userId\n    * @returns {undefined}\n    */\n    savePaymentOptionRevenue: function savePaymentOptionRevenue(userId, token, success, error) {\n      paymentApi.savePaymentOptionRevenue(userId, token, success, error);\n    },\n\n    /**\n     * Set a payment option as the primary for user\n     * @param {type} paymentOption\n     * @returns {undefined}\n     */\n    setPaymentOptionPrimary: function setPaymentOptionPrimary(paymentOption, userId) {\n      if (revenueIntegrationEnabled) {\n        paymentApi.setPaymentRevenueOptionPrimary(paymentOption.customer_payment_method_id, userId);\n      } else {\n        paymentApi.setPaymentOptionPrimary(paymentOption.payment_option_id);\n      }\n    },\n\n    /**\n     * Remove a payment option\n     * @param {type} paymentOption\n     * @returns {undefined}\n     */\n    removePaymentOption: function removePaymentOption(paymentOption) {\n      if (revenueIntegrationEnabled) {\n        paymentApi.removePaymentOptionRevenue(paymentOption.customer_payment_method_id);\n      } else {\n        paymentApi.removePaymentOption(paymentOption.payment_option_id);\n      }\n    },\n\n    /**\n     * Remove a Braintree payment option used for a-la-carte purchase\n     * @param {type} paymentOption\n     * @returns {undefined}\n     */\n    removeBraintreeAlacartePaymentOption: function removeBraintreeAlacartePaymentOption(paymentOption) {\n      paymentApi.removePaymentOption(paymentOption.payment_option_id, true);\n    },\n\n    /**\n     * Receive new payment options, or updated payment options\n     * @param {type} paymentOptions\n     * @returns {undefined}\n     */\n    onReceivePaymentOptions: function onReceivePaymentOptions(paymentOptions) {\n      //dispatch\n      dispatcher.dispatch(paymentActions.types.RECEIVE_PAYMENT_OPTIONS, paymentOptions);\n    },\n\n    /**\n     * Remove a payment option from the store\n     * @param {type} paymentOptionId\n     * @returns {undefined}\n     */\n    onRemovePaymentOption: function onRemovePaymentOption(paymentOptionId) {\n      dispatcher.dispatch(paymentActions.types.REMOVE_PAYMENT_OPTION, paymentOptionId);\n    },\n\n    /**\n     * Receive Braintree payment options used for a-la-carte purchase from the store\n     * @param {type} paymentOptions\n     * @returns {undefined}\n     */\n    onReceiveAlacartePaymentOptions: function onReceiveAlacartePaymentOptions(paymentOptions) {\n      //dispatch\n      dispatcher.dispatch(paymentActions.types.RECEIVE_ALACARTE_PAYMENT_OPTIONS, paymentOptions);\n    },\n\n    /**\n     * Remove a Braintree payment option used for a-la-carte purchase from the store\n     * @param {type} paymentOptionId\n     * @returns {undefined}\n     */\n    onRemoveAlacartePaymentOption: function onRemoveAlacartePaymentOption(paymentOptionId) {\n      dispatcher.dispatch(paymentActions.types.REMOVE_ALACARTE_PAYMENT_OPTION, paymentOptionId);\n    },\n\n    /**\n     * Mark a payment option as primary in our store\n     * @param {type} paymentOptionId\n     * @returns {undefined}\n     */\n    onPrimaryPaymentOption: function onPrimaryPaymentOption(paymentOptionId) {\n      dispatcher.dispatch(paymentActions.types.PRIMARY_PAYMENT_OPTION, paymentOptionId);\n    },\n\n    /**\n     * Set up braintree hosted fields\n     * @returns {undefined}\n     */\n    setUpBraintree: function setUpBraintree() {\n      braintreeActions.setUpBraintree();\n    },\n\n    /**\n     * Tear down braintree hosted fields, then set up again\n     */\n    tearDownAndResetBraintree: function tearDownAndResetBraintree() {\n      braintreeActions.tearDownAndResetBraintree();\n    },\n\n    /**\n     * Returns if braintree hosted fields are set up\n     * @returns {boolean}\n     */\n    hasBraintreeSetup: function hasBraintreeSetup() {\n      return braintreeActions.hasBraintreeSetup();\n    },\n\n    /**\n     * Our action types\n     */\n    types: {\n      'RECEIVE_PAYMENT_OPTIONS': 'paymentActions.types.RECEIVE_PAYMENT_OPTIONS',\n      'REMOVE_PAYMENT_OPTION': 'paymentActions.types.REMOVE_PAYMENT_OPTION',\n      'PRIMARY_PAYMENT_OPTION': 'paymentActions.types.PRIMARY_PAYMENT_OPTION',\n      'RECEIVE_ALACARTE_PAYMENT_OPTIONS': 'paymentActions.types.RECEIVE_ALACARTE_PAYMENT_OPTIONS',\n      'REMOVE_ALACARTE_PAYMENT_OPTION': 'paymentActions.types.REMOVE_ALACARTE_PAYMENT_OPTION'\n    }\n  }; //paymentActions.store set by paymentStore automatically\n\n  var paymentApi = new function () {\n    var API_PAYMENT_OPTIONS = '/api/v1/payment/options/';\n    var API_PAYMENT_OPTION_REMOVE = '/api/v1/payment/options/{paymentOptionId}/';\n    var API_PAYMENT_OPTION_PRIMARY = '/api/v1/payment/options/{paymentOptionId}/primary/';\n    var API_REVENUE_PAYMENT_OPTIONS = '/api/v1/revenue/users/me/payment-methods/';\n    var API_REVENUE_PAYMENT_OPTION_REMOVE = '/api/v1/revenue/users/me/payment-methods/{paymentMethodId}/';\n    var API_REVENUE_PAYMENT_OPTION_CREATE = '/api/v1/revenue/users/{userId}/payment-methods/create/';\n    var API_REVENUE_PAYMENT_OPTION_UPDATE = '/api/v1/revenue/users/{userId}/payment-methods/{paymentMethodId}/update/';\n    return {\n      getPaymentOptions: function getPaymentOptions(isRevenueEnabled) {\n        apiService.get(API_PAYMENT_OPTIONS, {}).success(function (paymentOptions) {\n          // Invoke a callback function based on the scenario (Revenue vs Legacy) to update the corresponding local state.\n          // This is a trade-off for using a single API function that fetches Braintree methods in both scenarios.\n          if (isRevenueEnabled) {\n            paymentActions.onReceiveAlacartePaymentOptions(paymentOptions);\n          } else {\n            paymentActions.onReceivePaymentOptions(paymentOptions);\n          }\n        }).error(function (response) {\n          if (typeof response.error !== 'undefined') {\n            notificationService.error([response.error.message], 'payment_options', true);\n          }\n        });\n      },\n      getPaymentOptionsRevenue: function getPaymentOptionsRevenue() {\n        apiService.get(API_REVENUE_PAYMENT_OPTIONS, {}).success(function (paymentOptions) {\n          paymentActions.onReceivePaymentOptions(paymentOptions.customer_payment_methods);\n        }).error(function (response, code) {\n          // Basic Users will not be found in the Revenue DB until a purchase is made.\n          if (code !== 404) {\n            notificationService.error([\"There was an error while loading payment methods. Please refresh the page.\"], 'payment_options', true);\n          }\n        });\n      },\n\n      /**\n       * \n       * @param {type} paymentOption\n       * @returns {undefined}\n       */\n      savePaymentOption: function savePaymentOption(paymentOption, success, error) {\n        // BRAINTREE MIGRATION LOGIC\n        if (typeof braintreeFieldInstance !== 'undefined' && braintreeFieldInstance !== null) {\n          braintreeFieldInstance.tokenize({\n            cardholderName: paymentOption.name\n          }, function (tokenizeErr, payload) {\n            if (tokenizeErr) {\n              errors = [tokenizeErr.message];\n              notificationService.error(errors, 'payment_options_add_card', true);\n              return;\n            }\n\n            paymentOption.nonce = payload.nonce;\n            paymentOption.deviceData = braintreeDeviceData;\n            apiService.post(API_PAYMENT_OPTIONS, paymentOption).success(function (response) {\n              //verify success, otherwise let's notify the user\n              if (typeof response[0].payment_option_id !== 'undefined') {\n                //clear errors, hide our popup\n                notificationService.error([], 'payment_options_add_card', true);\n                notificationService.error([], 'payment_options', true);\n                paymentActions.onReceivePaymentOptions(response);\n                paymentApi.setPaymentOptionPrimary(response[response.length - 1].payment_option_id);\n                var form = $(\"#add_payment_option\");\n                form.trigger(\"reset\");\n                paymentActions.tearDownAndResetBraintree();\n\n                if (typeof success === 'function') {\n                  success(response);\n                }\n              } else {\n                //successful status code, but not what we wanted\n                if (typeof error === 'function') {\n                  error(response);\n                }\n              }\n            }).error(function (response) {\n              if (response) {\n                if (typeof response.errors !== 'undefined') {\n                  var errors = [];\n\n                  for (var i in response.errors) {\n                    errors.push(response.errors[i]);\n                  }\n\n                  notificationService.error(errors, 'payment_options_add_card', true);\n                  notificationService.error(errors, 'payment_options', true);\n                }\n\n                if (typeof error === 'function') {\n                  error(response);\n                }\n              }\n            });\n          });\n        } else {\n          apiService.post(API_PAYMENT_OPTIONS, paymentOption).success(function (response) {\n            //verify success, otherwise let's notify the user\n            if (typeof response.payment_option_id !== 'undefined') {\n              //clear errors, hide our popup\n              notificationService.error([], 'payment_options_add_card', true);\n              notificationService.error([], 'payment_options', true);\n              paymentActions.onReceivePaymentOptions([response]);\n              paymentApi.setPaymentOptionPrimary(response.payment_option_id);\n\n              if (typeof success === 'function') {\n                success(response);\n              }\n            } else {\n              //successful status code, but not what we wanted\n              if (typeof error === 'function') {\n                error(response);\n              }\n            }\n          }).error(function (response) {\n            if (typeof response.error !== 'undefined') {\n              if (typeof response.error.errors === 'undefined') {\n                var errors = [response.error.message];\n              } else {\n                var errors = [];\n\n                for (var i in response.error.errors) {\n                  var error = response.error.errors[i];\n                  errors.push(error);\n                }\n              }\n\n              notificationService.error(errors, 'payment_options_add_card', true);\n              notificationService.error(errors, 'payment_options', true);\n            }\n\n            if (typeof error === 'function') {\n              error(response);\n            }\n          });\n        }\n      },\n\n      /**\n       * Set given payment option ID as primary\n       */\n      setPaymentOptionPrimary: function setPaymentOptionPrimary(paymentOptionId) {\n        apiService.post(API_PAYMENT_OPTION_PRIMARY, {\n          paymentOptionId: paymentOptionId\n        }).success(function (response) {\n          //verify success, otherwise let's notify the user\n          paymentActions.onPrimaryPaymentOption(paymentOptionId);\n        }).error(function (response) {\n          if (typeof response.error !== 'undefined') {\n            notificationService.error([response.error.message], 'payment_options', true);\n          }\n        });\n      },\n      removePaymentOption: function removePaymentOption(paymentOptionId, isRevenueEnabled) {\n        apiService[\"delete\"](API_PAYMENT_OPTION_REMOVE, {\n          paymentOptionId: paymentOptionId\n        }).success(function (response) {\n          //verify success, notify our stores, notify the user\n          if (response.success) {\n            // Invoke a callback function based on the scenario (Revenue vs Legacy) to update the corresponding local state.\n            // This is a trade-off for using a single API function that deletes Braintree methods in both scenarios.\n            if (isRevenueEnabled) {\n              // In Revenue workflow a-la-carte purchases are still handled by Braintree\n              paymentActions.onRemoveAlacartePaymentOption(paymentOptionId);\n            } else {\n              // legacy workflow\n              paymentActions.onRemovePaymentOption(paymentOptionId);\n            }\n\n            notificationService.success(['Successfully removed payment method'], 'payment_options', true);\n          }\n        }).error(function (response) {\n          if (typeof response.error !== 'undefined') {\n            notificationService.error([response.error.message], 'payment_options', true);\n          }\n        });\n      },\n      removePaymentOptionRevenue: function removePaymentOptionRevenue(paymentOptionId) {\n        apiService[\"delete\"](API_REVENUE_PAYMENT_OPTION_REMOVE, {\n          paymentMethodId: paymentOptionId\n        }).success(function (response) {\n          paymentActions.onRemovePaymentOption(paymentOptionId);\n          notificationService.success(['Successfully removed payment method'], 'payment_options', true);\n        }).error(function (response) {\n          notificationService.error([\"Please select a new primary or cancel recurring before removing this payment method.\"], 'payment_options', true);\n        });\n      },\n      savePaymentOptionRevenue: function savePaymentOptionRevenue(userId, token, success, error) {\n        apiService.post(API_REVENUE_PAYMENT_OPTION_CREATE, {\n          userId: userId,\n          token: token,\n          is_primary: true // defaulting to true to follow legacy pattern\n\n        }).success(function (response) {\n          //verify success, otherwise let's notify the user\n          if (typeof response.customer_payment_method_id !== 'undefined') {\n            //clear errors\n            notificationService.error([], 'payment_options_add_card', true);\n            notificationService.error([], 'payment_options', true);\n            paymentActions.onReceivePaymentOptions([response]);\n            paymentActions.onPrimaryPaymentOption(response.customer_payment_method_id);\n\n            if (typeof success === 'function') {\n              success(response);\n            }\n          } else {\n            //successful status code, but not what we wanted\n            if (typeof error === 'function') {\n              error(response);\n              $('#add-card-popup-btn').val('Add Card');\n              $('#add-card-popup-btn').attr(\"disabled\", \"disabled\");\n            }\n          }\n        }).error(function (response) {\n          $('#add-card-popup-btn').val('Add Card');\n          $('#add-card-popup-btn').attr(\"disabled\", \"disabled\");\n\n          if (response) {\n            if (typeof response.errors !== 'undefined') {\n              var errors = [];\n\n              for (var i in response.errors) {\n                errors.push(response.errors[i]);\n              }\n\n              notificationService.error(errors, 'payment_options_add_card', true);\n              notificationService.error(errors, 'payment_options', true);\n            }\n\n            if (typeof error === 'function') {\n              error(response);\n            }\n          }\n        });\n      },\n      setPaymentRevenueOptionPrimary: function setPaymentRevenueOptionPrimary(paymentMethodId, userId) {\n        apiService.put(API_REVENUE_PAYMENT_OPTION_UPDATE, {\n          userId: userId,\n          paymentMethodId: paymentMethodId,\n          is_primary: true // currently will use this func to update to primary - will repurpose to do all updates eventually\n\n        }).success(function () {\n          // handle success response\n          paymentActions.onPrimaryPaymentOption(paymentMethodId);\n        }).error(function (response) {\n          // handle error response\n          if (typeof response.error !== 'undefined') {\n            notificationService.error([response.error.message], 'payment_options', true);\n          }\n        });\n      }\n    };\n  }();\n  return paymentActions;\n}]);"},70373:n=>{n.exports="/**\n * Payment services\n */\nif (typeof angular === 'undefined') {\n  throw new Error('Angular must be included in order to use the paymentServices');\n}\n\nvar paymentServices = angular.module('paymentServices', []);\npaymentServices.factory('PaymentFormatService', PaymentFormatService);\n\nfunction PaymentFormatService($filter) {\n  var PRICE_MULTIPLIER = 100;\n  return {\n    dollarFormat: dollarFormat,\n    PRICE_MULTIPLIER: PRICE_MULTIPLIER\n  };\n  /**\n   * ex. 250 -> 2.50\n   * ex. 200 -> 2 or 2.00 if keepDecimalPlaces is true\n   *\n   * @param num\n   * @param keepDecimalPlaces whether or not to keep the .00\n   * @returns {string}\n   */\n\n  function dollarFormat(num, keepDecimalPlaces, currencySymbol) {\n    if (typeof currencySymbol === 'undefined') {\n      currencySymbol = '$';\n    }\n\n    num = num / PRICE_MULTIPLIER;\n    return $filter('currency')(num, currencySymbol, keepDecimalPlaces || hasSignificantDecimal(num) ? 2 : 0);\n  }\n  /**\n   * check if a number has a nonzero decimal\n   * @param num\n   * @returns {boolean}\n   */\n\n\n  function hasSignificantDecimal(num) {\n    return parseFloat(num, 10) != parseInt(num, 10);\n  }\n}"},48718:n=>{n.exports="/**\n * User store to hold user object(s), details, etc\n */\nif (typeof paymentServices === 'undefined') {\n  throw new Error('paymentServices must be included in order to use the paymentStore');\n}\n\npaymentServices.service('paymentStore', ['dispatcher', 'paymentActions', 'localeService', function (dispatcher, paymentActions, localeService) {\n  var paymentStore = DataStore.create({\n    /**\n     * Our dispatcher index\n     */\n    dispatcherIndex: dispatcher.register(function (payload) {\n      var action = payload.action;\n      var data = payload.data;\n\n      switch (action) {\n        case paymentActions.types.RECEIVE_PAYMENT_OPTIONS:\n          paymentStore.receivePaymentOptions(data);\n          break;\n\n        case paymentActions.types.PRIMARY_PAYMENT_OPTION:\n          paymentStore.setPrimaryPaymentOption(data);\n          break;\n\n        case paymentActions.types.REMOVE_PAYMENT_OPTION:\n          paymentStore.removePaymentOption(data);\n          break;\n\n        case paymentActions.types.RECEIVE_ALACARTE_PAYMENT_OPTIONS:\n          paymentStore.receiveAlacartePaymentOptions(data);\n          break;\n\n        case paymentActions.types.REMOVE_ALACARTE_PAYMENT_OPTION:\n          paymentStore.removeAlacartePaymentOption(data);\n          break;\n      }\n    }),\n\n    /**\n     * Receive payment methods\n     * @param {type} rawPaymentOptions\n     * @returns {undefined}\n     */\n    receivePaymentOptions: function receivePaymentOptions(rawPaymentOptions) {\n      var $me = this;\n\n      if (revenueIntegrationEnabled) {\n        rawPaymentOptions.forEach(function (rawPaymentOption) {\n          $me.upsertRow('paymentOptions', 'customer_payment_method_id', rawPaymentOption.customer_payment_method_id, $me.sanitize(rawPaymentOption, paymentStore.SCHEMA.Card));\n        });\n      } else {\n        rawPaymentOptions.forEach(function (rawPaymentOption) {\n          $me.upsertRow('paymentOptions', 'last_four_credit_card_number', rawPaymentOption.last_four_credit_card_number, $me.sanitize(rawPaymentOption, paymentStore.SCHEMA.Card));\n        });\n      }\n\n      paymentStore.emit(paymentStore.events.UPDATE);\n    },\n\n    /**\n     * Receive Braintree payment methods used for A-la-carte purchases\n     * @param {type} rawPaymentOptions\n     * @returns {undefined}\n     */\n    receiveAlacartePaymentOptions: function receiveAlacartePaymentOptions(rawPaymentOptions) {\n      var $me = this;\n      rawPaymentOptions.forEach(function (rawPaymentOption) {\n        $me.upsertRow('braintreePaymentOptions', 'last_four_credit_card_number', rawPaymentOption.last_four_credit_card_number, $me.sanitize(rawPaymentOption, paymentStore.SCHEMA.Card));\n      });\n      paymentStore.emit(paymentStore.events.UPDATE);\n    },\n\n    /**\n     * Set the primary payment option\n     * @param {type} paymentOptionId\n     * @returns {undefined}\n     */\n    setPrimaryPaymentOption: function setPrimaryPaymentOption(paymentOptionId) {\n      var $me = this;\n      this.getPaymentOptions().forEach(function (paymentOption) {\n        if (revenueIntegrationEnabled) {\n          if (paymentOption.customer_payment_method_id === paymentOptionId) {\n            paymentOption.is_primary = true;\n          } else {\n            paymentOption.is_primary = false;\n          }\n\n          $me.upsertRow('paymentOptions', 'customer_payment_method_id', paymentOption.customer_payment_method_id, paymentOption);\n        } else {\n          if (paymentOption.payment_option_id == paymentOptionId) {\n            paymentOption.is_primary_card = true;\n          } else {\n            paymentOption.is_primary_card = false;\n          }\n\n          $me.upsertRow('paymentOptions', 'last_four_credit_card_number', paymentOption.last_four_credit_card_number, paymentOption);\n        }\n      });\n      paymentStore.emit(paymentStore.events.UPDATE);\n    },\n\n    /**\n     * Remove a payment method by ID\n     * @param {type} paymentOptionId\n     * @returns {undefined}\n     */\n    removePaymentOption: function removePaymentOption(paymentOptionId) {\n      var keyField = revenueIntegrationEnabled ? 'customer_payment_method_id' : 'payment_option_id';\n      this.removeRow('paymentOptions', keyField, paymentOptionId);\n      paymentStore.emit(paymentStore.events.UPDATE);\n    },\n\n    /**\n     * Remove a Braintree payment method (used for A-la-carte purchase) by ID\n     * @param {type} paymentOptionId\n     * @returns {undefined}\n     */\n    removeAlacartePaymentOption: function removeAlacartePaymentOption(paymentOptionId) {\n      var keyField = 'payment_option_id'; // only invoked for Braintree\n\n      this.removeRow('braintreePaymentOptions', keyField, paymentOptionId);\n      paymentStore.emit(paymentStore.events.UPDATE);\n    },\n\n    /**\n     * Return our payment options\n     * @returns {payment.store_L9.payment.storeAnonym$1@call;getRows}\n     */\n    getPaymentOptions: function getPaymentOptions() {\n      return this.getRows('paymentOptions');\n    },\n\n    /**\n     * Return payment methods vaulted in Braintree used to make a-la-carte purchases\n     * @returns {undefined}\n     */\n    getBraintreePaymentOptions: function getBraintreePaymentOptions() {\n      return this.getRows('braintreePaymentOptions');\n    },\n\n    /**\n     * Events this store can emit\n     */\n    events: {\n      UPDATE: 'paymentStore.events.UPDATE',\n      REACTIVATE: 'paymentStore.events.REACTIVATE'\n    },\n\n    /*\n     * Holds schemas of our JSON objects\n     */\n    SCHEMA: {\n      /**\n       * Credit Card\n       */\n      Card: {\n        payment_option_id: {\n          type: 'string'\n        },\n        name: {\n          label: 'Name',\n          type: 'string',\n          validation: {\n            required: true,\n            minLength: 3,\n            maxLength: 32\n          }\n        },\n        street1: {\n          type: 'string'\n        },\n        street2: {\n          type: 'string'\n        },\n        city: {\n          type: 'string'\n        },\n        state: {\n          type: 'string'\n        },\n        cctype: {\n          type: 'string'\n        },\n        credit_card_type_name: {\n          type: 'string'\n        },\n        ccnum: {\n          label: 'Credit Card Number',\n          type: 'int',\n          validation: {\n            required: true\n          }\n        },\n        ccnumlastfour: {\n          type: 'string',\n          maxLength: 4\n        },\n        last_four_credit_card_number: {\n          type: 'string',\n          maxLength: 4\n        },\n        primary_card: {\n          type: 'bool'\n        },\n        date_added: {\n          type: 'date',\n          initial: function initial() {\n            return new Date();\n          }\n        },\n        date_removed: {\n          type: 'date'\n        },\n        reason_removed: {\n          type: 'string'\n        },\n        cvv: {\n          //not permastored, used for sending to the server only\n          label: 'CVV',\n          type: 'string'\n        },\n        exp_month: {\n          type: 'object',\n          schema: function schema() {\n            return paymentStore.SCHEMA.ExpMonth;\n          },\n          initial: function initial() {\n            return localeService.getMonth(new Date().getMonth() + 1);\n          },\n          validation: {\n            required: true\n          }\n        },\n        exp_year: {\n          type: 'int',\n          initial: function initial() {\n            return new Date().getFullYear();\n          },\n          validation: {\n            required: true\n          }\n        },\n        credit_card_expiration: {\n          type: 'string'\n        },\n        country: {\n          type: 'object',\n          schema: function schema() {\n            return paymentStore.SCHEMA.Country;\n          },\n          initial: function initial() {\n            return {\n              label: 'United States',\n              value: 'US'\n            };\n          },\n          validation: {\n            required: true\n          }\n        },\n        zip: {\n          label: 'Zip Code',\n          type: 'string',\n          validation: {\n            required: true\n          }\n        },\n        is_primary_card: {\n          type: 'bool'\n        },\n        nonce: {\n          type: 'string'\n        },\n        // START REVENUE API MODEL\n        customer_payment_method_id: {\n          type: 'int'\n        },\n        payment_method: {\n          type: 'object',\n          schema: function schema() {\n            return {\n              payment_method_id: {\n                type: 'int'\n              },\n              payment_type: {\n                type: 'string'\n              },\n              card_type: {\n                type: 'string'\n              },\n              cardholder_name: {\n                type: 'string'\n              },\n              card_last_four: {\n                type: 'string'\n              },\n              card_expiration_date: {\n                type: 'string'\n              }\n            };\n          }\n        },\n        is_primary: {\n          type: 'bool'\n        },\n        postal_code: {\n          type: 'string'\n        } // END REVENUE API MODEL\n\n      },\n\n      /**\n       * Country model\n       */\n      Country: {\n        label: {\n          type: 'string'\n        },\n        value: {\n          type: 'string'\n        }\n      },\n\n      /**\n       * Expiration month model\n       */\n      ExpMonth: {\n        label: {\n          type: 'string'\n        },\n        \"short\": {\n          type: 'string'\n        },\n        id: {\n          type: 'int'\n        }\n      },\n\n      /**\n       * Payment types\n       */\n      PaymentType: {\n        duration: {\n          type: 'int'\n        },\n        interval: {\n          type: 'string'\n        },\n        total_price: {\n          type: 'int'\n        }\n      }\n    }\n  });\n  paymentActions.store = paymentStore;\n  return paymentStore;\n}]);"},53212:n=>{n.exports="var searchServices = angular.module('searchServices', ['ui', 'utilServices', 'paymentServices', 'userServices']);\nsearchServices.config(['$interpolateProvider', function ($interpolateProvider) {\n  $interpolateProvider.startSymbol('{[').endSymbol(']}');\n}]);\nsearchServices.directive('chSmartSearch', function () {\n  $ = jQuery.noConflict();\n  return {\n    scope: {\n      userId: '='\n    },\n    controller: function controller($scope, searchActions, $sce) {\n      $scope.query = '';\n      $scope.boldedWord = '';\n      $scope.placeholder = '';\n      $scope.initialQuery = '';\n      $scope.hasSearchBarOverlayLoaded = false;\n      $scope.isStickyHomepageSearchBar = false;\n      $scope.isStickyHeaderActive = false;\n      $scope.isMobile = typeof isMobile !== 'undefined' && isMobile == true || false;\n      $scope.isEducator = false;\n\n      var defaultAutocompleteResults = function defaultAutocompleteResults() {\n        $scope.autocomplete = [];\n      };\n\n      defaultAutocompleteResults();\n      $scope.show = false;\n      $scope.autoLoading = false;\n      /**\n       * grabs the search results and the autocomplete results\n       */\n\n      $scope.doSearch = $.throttle(100, function (searchTerm) {\n        $scope.autoLoading = true;\n        searchActions.autocomplete(searchTerm, $scope.parseAutocomplete);\n      });\n\n      $scope.parseAutocomplete = function (response) {\n        if (typeof response === 'undefined' || response.data.length === 0) {\n          defaultAutocompleteResults();\n        } else {\n          $scope.autocomplete = response.data;\n        }\n\n        $scope.autoLoading = false;\n      };\n      /**\n       * Recent searches are stored in localStorage as:\n       * key                : ch-recentSearches-USER_ID\n       * value (JSON string): '[\"search1\", \"search2\", ... , \"search5\"]'.\n       */\n\n\n      $scope.showRecentSearches = false;\n      $scope.recentSearches = [];\n\n      var attemptToSaveToLocalStorage = function attemptToSaveToLocalStorage(recentSearches, maxNum) {\n        var key = 'ch-recentSearches-' + ($scope.userId || 'loggedOut');\n        var error = null;\n\n        do {\n          try {\n            error = null;\n            var data = JSON.stringify(recentSearches.slice(0, maxNum));\n            localStorage.setItem(key, data);\n          } catch (e) {\n            error = e;\n            maxNum--;\n          }\n        } while (maxNum > 0 && !!error);\n\n        if (error) {\n          throw error;\n        }\n      };\n\n      $scope.saveRecentSearchToLocalStorage = function saveRecentSearchToLocalStorage(query) {\n        query = query.trim();\n        var existingIndex = $scope.recentSearches.indexOf(query);\n\n        if (existingIndex === -1) {\n          $scope.recentSearches.unshift(query);\n        } else {\n          var firstArray = $scope.recentSearches.slice(0, existingIndex);\n          var secondArray = $scope.recentSearches.slice(existingIndex + 1);\n          $scope.recentSearches = [query].concat(firstArray).concat(secondArray);\n        }\n\n        $scope.recentSearches = $scope.recentSearches.slice(0, 5);\n        attemptToSaveToLocalStorage($scope.recentSearches, 5);\n      };\n\n      (function getRecentSearchesFromLocalStorage() {\n        try {\n          var storedSearches = JSON.parse(localStorage.getItem('ch-recentSearches-' + ($scope.userId || 'loggedOut')));\n          $scope.recentSearches = Array.isArray(storedSearches) ? storedSearches : [];\n        } catch (e) {\n          $scope.recentSearches = [];\n        }\n      })();\n      /**\n       * listens for changes on the search bar\n       */\n\n\n      $scope.$watch('query', function (newValue, oldValue) {\n        if (typeof newValue === 'undefined' || typeof oldValue === 'undefined' || newValue.length === 0 && oldValue.length === 0) {\n          return;\n        }\n\n        if (newValue !== oldValue && newValue !== $scope.initialQuery) {\n          $scope.show = true;\n          $scope.showRecentSearches = false;\n        }\n\n        $scope.boldedWord = newValue;\n\n        if (newValue === '') {\n          defaultAutocompleteResults();\n          $scope.showRecentSearches = true;\n        } else {\n          $scope.doSearch(newValue);\n        }\n      });\n      jQuery(window).on(\"ContentStore.events.UPDATE\", function (e) {\n        if (typeof ContentStore !== 'undefined') {\n          $scope.query = ContentStore.getQuery();\n\n          if ($scope.initialQuery === '') {\n            $scope.initialQuery = $scope.query;\n          }\n\n          if (!$scope.$$phase) {\n            $scope.$digest();\n          }\n        }\n      });\n      /**\n       *\n       * @param {type} source\n       * @param {type} word\n       * @returns {undefined}\n       */\n\n      var boldWord = function boldWord(source, word) {\n        var regex = new RegExp('(' + word + ')', \"gi\");\n        return source.replace(regex, \"<strong>$1</strong>\");\n      };\n      /**\n       * bolds the query in the autocomplete suggestions\n       * @param source\n       * @returns {*}\n       */\n\n\n      $scope.boldAutocomplete = function (source) {\n        return $sce.trustAsHtml(boldWord(source, $scope.boldedWord));\n      };\n      /**\n       * Wraps contents in a span and escapes html\n       * @param string source\n       * @return string\n       */\n\n\n      $scope.spanWrapAndEscapeHtml = function (source) {\n        var escapedSource = angular.element('<div/>').text(source).html();\n        return $sce.trustAsHtml('<span>' + escapedSource + '</span>');\n      };\n      /**\n       * get the name to display on the frontend in the Categories section of the smart search\n       * @param product\n       * @returns {*}\n       */\n\n\n      $scope.getProductName = function (product) {\n        if (product == 'questions') {\n          return 'Q&A';\n        }\n\n        if (product == 'documents') {\n          return 'Documents';\n        }\n\n        return product;\n      };\n      /**\n       * get the url to the search results page when the parts of the Categories sections are clicked\n       * @param product\n       * @param data\n       * @returns {string}\n       */\n\n\n      $scope.getProductSearch = function (product) {\n        return '/search/results/' + '?stx=' + encodeURIComponent($scope.query) + '&filters_product=' + product;\n      };\n      /**\n       * returns a top_results search for the given query\n       * @param {string|object} query\n       * @param {boolean} isAutocomplete\n       * @param {number} position\n       */\n\n\n      $scope.getSearchUrl = function (query, isAutocomplete, position) {\n        var filter = 'top_results';\n        var path = document.location.pathname;\n\n        if (path.indexOf('/homework-help/') !== -1 || path.indexOf('/tutor-problems/') !== -1) {\n          filter = 'questions';\n        }\n\n        if (path.indexOf('/file/') !== -1) {\n          filter = 'documents';\n        }\n\n        var url;\n\n        if (isAutocomplete) {\n          url = '/search/results/' + '?stx=' + encodeURIComponent(query.suggestion) + '&filters_product=' + filter + '&source=' + query.source + '&initial_query=' + encodeURIComponent($scope.query) + '&search_suggestion_id=' + query.search_suggestion_id + '&position=' + position + '&referrer=' + window.location.pathname + '&autocomplete=1';\n        } else {\n          // from Recent Searches or See All Results\n          url = '/search/results/' + '?stx=' + encodeURIComponent(query) + '&filter_products=' + filter;\n        }\n\n        return url;\n      };\n\n      $scope.scholarshipBannerClick = function (url) {\n        window.location = url;\n      };\n    },\n    link: function link(scope, elem, attrs) {\n      elem.removeClass('ch_h-search-form_input');\n      scope.placeholder = attrs['placeholder'];\n      scope.isStickyHomepageSearchBar = attrs['chaLocation'] === 'Homepage header' || false;\n      scope.isEducator = attrs['chaIsEducator'] || false;\n\n      if (typeof search_term === 'string') {\n        scope.query = search_term;\n      }\n\n      if (typeof ContentStore !== 'undefined') {\n        scope.query = ContentStore.getQuery();\n      }\n\n      var inputElement = elem.find('input'); // This variable is to accommodate the mobile sticky search bar only on the homepage, which is shown by clicking .ch_search_header.\n      // To allow the placeholder to be changed, the inputElement variable is kept separate. This will be changed once we roll out the new header altogether.\n\n      var searchBarElements = scope.isStickyHomepageSearchBar === true && scope.isMobile === true ? $('.ch_search_header') : inputElement; //If the user does not click on the search bar, dont show it\n\n      $(document).on('click touchend', function (e) {\n        if (!$(e.target).is('.ch_edu_remove_icon') && $(e.target).is('.ch_h-search-widget, .ch_h-search-widget *, .ch_search_header')) {\n          return;\n        } // Homepage sticky search bar\n\n\n        if ($(e.target).is('.overlay, .close_cta, .ch_edu_remove_icon')) {\n          e.stopImmediatePropagation();\n          e.preventDefault();\n          setTimeout(function () {\n            scope.hasSearchBarOverlayLoaded = false;\n            $(\"#ch-header\").removeClass(\"searchActive\");\n            $(\"#ch-header\").addClass(\"searchInactive\");\n            $(\"html, body\").removeClass(\"noScroll\");\n            $(\".overlay\").fadeOut(600, function () {\n              $(this).remove();\n            });\n            $(\".close_cta\").remove();\n            $(\".ch_edu_remove_btn\").hide();\n\n            if ($(e.target).is('.ch_edu_remove_icon')) {\n              ////clear the inputs if educator clicks on the close button\n              $(\"#ch_search_form_input_content\").val('');\n            }\n\n            $('#ch-header .ch_h-search-form_input').attr('placeholder', 'Search');\n            scope.$apply();\n          }, 50);\n        }\n\n        $(\".ch_search_innerWrapper\").removeClass(\"shouldExpand\");\n        inputElement.blur();\n        scope.show = false;\n        scope.showRecentSearches = false;\n\n        if (!scope.$$phase) {\n          scope.$digest();\n        }\n      }); //handle Recent Searches on form submission\n\n      var searchForm = elem.parent().parent();\n      searchForm.on('submit', function (e) {\n        scope.showRecentSearches = false;\n\n        if (scope.query !== '') {\n          scope.saveRecentSearchToLocalStorage(scope.query);\n        }\n      });\n      searchForm.find('input[type=submit]').on('click', function (e) {\n        e.preventDefault();\n        return searchForm.submit();\n      }); //If the user does click on the search bar, show it if it has a query\n\n      searchBarElements.on('focus click touchend', function (e) {\n        var ctaInsertClass = scope.isMobile === true ? '#ch-header .hp_search_wrapper .hp_search_container' : '#ch-header .hp_search_wrapper .hp_search_container .ch_h-search-form_input_container .ch_h-search-widget';\n\n        if (inputElement.attr('placeholder').trim() === 'Search') {\n          // check if the maximum width of window is 375 or less\n          var width = window.innerWidth > 0 ? window.innerWidth : screen.width;\n\n          if (width >= 375) {\n            inputElement.attr('placeholder', 'Search Course Hero');\n          }\n        } // Add different classes for homepage sticky header search bar\n\n\n        if ((scope.isStickyHomepageSearchBar || scope.isEducator) && scope.hasSearchBarOverlayLoaded === false) {\n          e.stopImmediatePropagation();\n          $(\"#ch-header\").removeClass(\"searchInactive\");\n          $(\"#ch-header\").addClass(\"searchActive\");\n          $('<div class=\"overlay\"></div>').insertBefore(\"#ch-body\");\n          $('html, body').addClass(\"noScroll\");\n          scope.hasSearchBarOverlayLoaded = true;\n\n          if (scope.isStickyHomepageSearchBar) {\n            $('<div class=\"close_cta\"></div>').insertBefore(ctaInsertClass);\n          } else if (scope.isEducator) {\n            $(\".ch_edu_remove_btn\").show();\n          }\n        } else if ($('.ch_search_innerWrapper').has(this).length) {\n          $(\".ch_search_innerWrapper\").addClass(\"shouldExpand\");\n        }\n\n        if (scope.query === '') {\n          scope.showRecentSearches = true;\n        }\n\n        scope.show = true;\n\n        if (!scope.$$phase) {\n          scope.$digest();\n        }\n      }); //If the user hits enter while the input is selected, stop showing the search bar (needed for the search results page)\n\n      inputElement.on('keyup', function (e) {\n        if (e.keyCode === 13) {\n          scope.show = false;\n          searchForm.submit();\n\n          if (!scope.$$phase) {\n            scope.$digest();\n          }\n        }\n      });\n      inputElement.on(\"blur\", function (e) {\n        e.preventDefault();\n\n        if (inputElement.attr('placeholder').trim() === 'Search Course Hero') {\n          inputElement.attr('placeholder', 'Search');\n        }\n      });\n    },\n    templateUrl: function templateUrl(elem, attrs) {\n      var location = attrs['chaLocation'];\n      var ampTrackingTitle = attrs['ampTracking'] || '';\n      return '/_template/_widget/smart-search/?location=' + location + '&ampTrackingTitle=' + ampTrackingTitle;\n    },\n    replace: true\n  };\n});\nsearchServices.service(\"searchActions\", function ($q, apiService) {\n  var API_AUTOCOMPLETE = '/api/v1/search/suggest/';\n  var searchActions = new function () {\n    return {\n      _lastAutocomplete: null,\n      autocomplete: function autocomplete(data, callback) {\n        /**\n         * If we are doing several autocompletes, let's abort these so\n         * we don't built up several requests at once. Since apiService\n         * uses the $http service, we can use a promise in the timeout\n         * field, and resolve it to cancel the request\n         */\n        if (this._lastAutocomplete !== null) {\n          this._lastAutocomplete.resolve();\n        }\n\n        this._lastAutocomplete = $q.defer();\n        apiService.get(API_AUTOCOMPLETE, {\n          query: data\n        }, {\n          timeout: this._lastAutocomplete.promise\n        }).then(callback, function () {});\n      }\n    };\n  }();\n  return searchActions;\n});"},33339:n=>{n.exports="function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n/**\n * Holds our actions for interacting with our Newsfeed Data\n */\nuserServices.service(\"userActions\", function (dispatcher, apiService, notificationService) {\n  var userActions = new function () {\n    return {\n      /**\n       * Receive rows\n       * @param {type} rows\n       * @returns {undefined}\n       */\n      receive: function receive(rows) {\n        //todo: data cleanup\n        dispatcher.dispatch(userActions.type.RECEIVE, rows);\n      },\n\n      /**\n       * Load my details\n       * @param {type} details\n       * @returns {undefined}\n       */\n      loadMe: function loadMe(details, success, error) {\n        userApi.load();\n\n        if (details) {\n          userActions.loadDetails(success, error);\n        }\n      },\n\n      /**\n       * Load my details\n       * @returns {undefined}\n       */\n      loadDetails: function loadDetails(success, error) {\n        userApi.loadDetails(success, error);\n      },\n\n      /**\n       * Save my information\n       * @param {type} details\n       * @param {type} success\n       * @param {type} error\n       * @returns {undefined}\n       */\n      saveMe: function saveMe(details, success, error, notifications) {\n        userApi.save(userActions.store.sanitize(details, userActions.store.schema.User), success, error, notifications);\n      },\n\n      /**\n       * Pause my membership\n       * @param {type} months\n       * @param {type} success\n       * @param {type} error\n       * @returns {undefined}\n       */\n      pauseMe: function pauseMe(months, success, error, isRecurlySubscription, userId) {\n        userApi.pause(months, success, error, isRecurlySubscription, userId);\n      },\n\n      /**\n       * Resume my membership\n       * @param {type} success\n       * @param {type} error\n       * @returns {undefined}\n       */\n      resumeMe: function resumeMe(isRecurlySubscription, userId) {\n        userApi.resume(isRecurlySubscription, userId);\n      },\n\n      /**\n       * Do a password change\n       * @param {type} passwords\n       * @param {type} success\n       * @param {type} error\n       * @returns {undefined}\n       */\n      changePassword: function changePassword(passwords, success, error) {\n        userApi.changePassword(passwords, success, error);\n      },\n\n      /**\n       * Deletes the user's profile photo\n       * @returns {undefined}\n       */\n      removePhoto: function removePhoto() {\n        userApi.removePhoto();\n      },\n\n      /**\n       * Saves Remember Me in Session data\n       * @returns {undefined}\n       */\n      rememberMeApi: function rememberMeApi(callback, url) {\n        userApi.rememberMeApi(callback, url);\n      },\n\n      /**\n       * Check if user is logged in\n       * @returns {undefined}\n       */\n      checkLogin: function checkLogin() {\n        userApi.checkLogin();\n      },\n      resubscribe: function resubscribe(callback, clickType, userId) {\n        userApi.resubscribe(callback, clickType);\n      },\n\n      /**\n       * Hold Action Types\n       */\n      type: {\n        RECEIVE: 'userActions.type.RECEIVE'\n      }\n    };\n  }();\n  var userApi = new function () {\n    var API_USERS_URL = '/api/v1/users/';\n    var API_USERS_DETAILS = '/api/v1/users/details/';\n    var API_USERS_CHANGE_PASSWORD = '/api/v1/users/password/';\n    var API_USERS_REMOVE_PROFILE_PHOTO = '/api/v1/users/removeProfilePhoto/';\n    var API_USERS_PAUSE_MEMBERSHIP = '/api/user.php?method=pause';\n    var API_USERS_RESUME_MEMBERSHIP = '/api/user.php?method=resume';\n    var API_IS_REMEMBER_ME = '/api/v1/users/rememberMe/';\n    var API_USER_CHECK_LOGIN = '/api/v1/users/checkLogin/';\n    var API_USER_RESUBSCRIBE = '/api/v1/users/resubscribe/';\n    var API_REVENUE_USER_PAUSE = '/api/v1/revenue/users/{user_id}/subscriptions/current/pause/';\n    var API_REVENUE_USER_RESUME = '/api/v1/revenue/users/{user_id}/subscriptions/current/resume/';\n    return {\n      /**\n       * Load additional detail into our user object\n       * @returns {undefined}\n       */\n      loadDetails: function loadDetails(success, error) {\n        apiService.get(API_USERS_DETAILS, {}).success(function (response) {\n          userActions.receive([response]);\n\n          if (typeof success !== 'undefined') {\n            success(response);\n          }\n        }).error(function (response) {\n          if (typeof error !== 'undefined') {\n            error(response);\n          }\n        });\n      },\n\n      /**\n       * Load my user\n       */\n      load: function load() {\n        apiService.get(API_USERS_URL, {}).success(function (response) {\n          userActions.receive([response]);\n        }).error(function () {});\n      },\n\n      /**\n       * Save my user\n       * @param {type} user\n       * @returns {undefined}\n       */\n      save: function save(user, success, error, notifications) {\n        apiService.post(API_USERS_DETAILS, user).success(function (response) {\n          userActions.receive([response]); //do errors\n\n          if (response.errors instanceof Array && response.errors.length > 0 || _typeof(response.errors) === 'object' && !(response.errors instanceof Array)) {\n            if (typeof notifications === 'undefined' || notifications === true) {\n              if (response.errors instanceof Array) {\n                notificationService.error(response.errors, 'profile_errors');\n              } else {\n                for (var field in response.errors) {\n                  notificationService.error([response.errors[field]], 'profile_errors');\n                }\n              }\n            }\n\n            typeof error !== 'undefined' ? error(response) : null;\n          } else {\n            if (typeof notifications === 'undefined' || notifications === true) {\n              notificationService.success(['Successfully saved profile'], 'profile_errors', true);\n              notificationService.error([], 'profile_errors', true);\n            }\n\n            typeof success !== 'undefined' ? success(response) : null;\n          }\n        }).error(function (response) {\n          typeof error !== 'undefined' ? error(response) : null;\n\n          if (response.error && response.error.message === 'Access Denied') {\n            document.location = '/login/';\n          }\n\n          if (response.error && response.error.message && response.error.message.relogin === true) {\n            document.location = '/relogin.php';\n          }\n        });\n      },\n\n      /**\n       * Pause our membership\n       * @param {int} months\n       * @param {function} success\n       * @param {function} error\n       * @param {type} isRecurlySubscription\n       * @param {type} userId\n       * @returns {undefined}\n       */\n      pause: function pause(months, success, error, isRecurlySubscription, userId) {\n        if (!!isRecurlySubscription) {\n          var url = API_REVENUE_USER_PAUSE.replace('{user_id}', userId);\n          apiService.put(url, {\n            duration: months\n          }).then(function () {\n            notificationService.success('Your Premier Subscription has been paused.', 'general', null, success);\n            userActions.loadDetails();\n          }, function (response) {\n            var errors = (response.data ? response.data.errors : []) || [];\n            console.error(errors);\n\n            if (errors.length > 0) {\n              notificationService.error([errors[0]], 'general', null, error);\n            }\n          });\n        } else {\n          apiService.post(API_USERS_PAUSE_MEMBERSHIP, {\n            pause_duration: months\n          }).success(function (response) {\n            if (typeof response.message !== 'undefined') {\n              notificationService.success([response.message], 'general', null, success);\n            }\n\n            userActions.loadDetails();\n          }).error(function (response) {\n            if (typeof response.error !== 'undefined') {\n              notificationService.error([response.error.message], 'general', null, error);\n            }\n          });\n        }\n\n        window.amplitudeService.trackCtaClicked({\n          actionType: 'Primary',\n          xpath: 'pause page',\n          text: 'Pause account',\n          intent: 'Pause account for ' + months + ' month(s)'\n        });\n      },\n\n      /**\n       * Resume our membership\n       * @param {type} isRecurlySubscription\n       * @param {type} userId\n       * @returns {undefined}\n       */\n      resume: function resume(isRecurlySubscription, userId) {\n        if (!!isRecurlySubscription) {\n          var url = API_REVENUE_USER_RESUME.replace('{user_id}', userId);\n          apiService.put(url, {}).then(function () {\n            notificationService.success('Your Premier Subscription has been resumed.', 'general');\n            userActions.loadDetails();\n          }, function (response) {\n            var errors = (response.data ? response.data.errors : []) || [];\n            console.error(errors);\n\n            if (errors.length > 0) {\n              notificationService.error([errors[0]], 'general', null, null);\n            }\n          });\n        } else {\n          apiService.post(API_USERS_RESUME_MEMBERSHIP, {}).success(function (response) {\n            if (typeof response.message !== 'undefined') {\n              notificationService.success([response.message], 'general');\n            }\n\n            userActions.loadDetails();\n          }).error(function (response) {\n            if (typeof response.error !== 'undefined') {\n              notificationService.error([response.error.message], 'general');\n            }\n          });\n        }\n      },\n      resubscribe: function resubscribe(callback, clickType) {\n        apiService.post(API_USER_RESUBSCRIBE, {}).success(function (response) {\n          callback(response, clickType);\n        }).error(function (response) {\n          callback(response, clickType);\n        });\n      },\n\n      /**\n       * Do password change\n       * @param {object} passwords\n       * @param {function} success\n       * @param {function} error\n       * @returns {undefined}\n       */\n      changePassword: function changePassword(passwords, success, error) {\n        apiService.post(API_USERS_CHANGE_PASSWORD, passwords).success(function (response) {\n          if (response.error && response.error.trim() !== '') {\n            notificationService.error([response.error.trim()], 'profile_password_errors');\n            typeof error !== 'undefined' ? error(response) : null;\n          } else {\n            notificationService.success(['Successfully changed password'], 'profile_password_errors');\n            typeof success !== 'undefined' ? success(response) : null;\n          }\n        }).error(function (response) {\n          if (response.error && response.error.trim() !== '') {\n            notificationService.error([response.error.trim()], 'profile_password_errors');\n            typeof error !== 'undefined' ? error(response) : null;\n          }\n        });\n      },\n      removePhoto: function removePhoto() {\n        apiService[\"delete\"](API_USERS_REMOVE_PROFILE_PHOTO, {}).success(function (response) {\n          userActions.receive([response]);\n        });\n      },\n      rememberMeApi: function rememberMeApi(callback, url) {\n        url = typeof url === 'undefined' ? '/home/#/settings' : url;\n        apiService.post(API_IS_REMEMBER_ME, {\n          redirect: url\n        }).success(function (response) {\n          if (typeof callback != 'undefined') {\n            callback();\n          }\n        }).error(function () {\n          document.location = '/relogin.php';\n        });\n      },\n\n      /**\n       * The last time we checked the login,\n       */\n      lastChecked: null,\n\n      /**\n       * Check if user is logged in\n       */\n      checkLogin: function checkLogin() {\n        //within a minute\n        var minuteAgo = moment().subtract(1, 'minutes');\n\n        if (this.lastChecked !== null && this.lastChecked.isAfter(minuteAgo)) {\n          return; //checked within a minute\n        }\n\n        this.lastChecked = moment();\n        apiService.get(API_USER_CHECK_LOGIN).success(function (response) {\n          if (!response.success) {\n            document.location = '/login/?_force=1';\n          }\n        }).error(function (response) {\n          document.location = '/login/?_force=1';\n        });\n      }\n    };\n  }();\n  return userActions;\n});"},75897:n=>{n.exports="/**\n * \n */\nif (typeof angular === 'undefined') {\n  throw new Error('Angular must be included in order to use the user service');\n}\n\nvar userServices = angular.module('userServices', ['utilServices']);"},91259:n=>{n.exports="/**\n * User store to hold user object(s), details, etc\n */\nif (typeof userServices === 'undefined') {\n  throw new Error('userServices must be included in order to use the userStore');\n}\n\nuserServices.service('userStore', ['dispatcher', 'userActions', 'paymentStore', function (dispatcher, userActions, paymentStore) {\n  var userStore = DataStore.create({\n    /**\n     * Hook into the dispatcher\n     */\n    dispatcherIndex: dispatcher.register(function (payload) {\n      var data = payload.data;\n      var action = payload.action;\n\n      switch (action) {\n        case userActions.type.RECEIVE:\n          userStore.receive(data);\n          break;\n      }\n    }),\n\n    /**\n     * Receive newsfeed content\n     */\n    receive: function receive(rawUsers) {\n      var $me = this;\n      rawUsers.forEach(function (rawRow) {\n        $me.upsertRow('user', 'user_id', rawRow.user_id, userStore.sanitize(rawRow, userStore.schema.User));\n      });\n      this.emit(this.events.UPDATE);\n    },\n    getProfile: function getProfile() {\n      if (typeof this.rows['user'] === 'undefined' || this.rows['user'].length === 0) {\n        return this.sanitize({}, userStore.schema.User);\n      }\n\n      var user = this.rows['user'][0];\n      return user;\n    },\n\n    /**\n     *\n     * END ACTIONS\n     *\n     */\n\n    /**\n     * Available events to emit / listen to\n     */\n    events: {\n      /**\n       * Our data was updated\n       */\n      UPDATE: 'userStore.events.UPDATE'\n    },\n\n    /**\n     * Holds our schema for our javascript objects\n     */\n    schema: {\n      /**\n       * iOS Subscription\n       */\n      iOSSubscription: {\n        id: {\n          type: 'integer'\n        },\n        subscription_id: {\n          type: 'int'\n        },\n        user_id: {\n          type: 'string'\n        },\n        ios_receipt_id: {\n          type: 'integer'\n        },\n        start_date: {\n          type: 'datetime'\n        },\n        end_date: {\n          type: 'datetime'\n        },\n        active: {\n          type: 'bool'\n        }\n      },\n\n      /**\n       * Litle subscription\n       */\n      LitleSubscription: {\n        months: {\n          type: 'integer'\n        },\n        payment_type: {\n          type: 'object',\n          schema: function schema() {\n            return paymentStore.SCHEMA.PaymentType;\n          }\n        },\n        active: {\n          type: 'bool'\n        },\n        next_payment_date: {\n          type: 'datetime'\n        }\n      },\n\n      /**\n       * Location of our school\n       */\n      SchoolLocation: {\n        city: {\n          type: 'string'\n        },\n        state: {\n          type: 'string'\n        }\n      },\n\n      /**\n       * User Object\n       */\n      User: {\n        user_id: {\n          type: 'string',\n          maxLength: 255\n        },\n        username: {\n          type: 'string',\n          maxLength: 60,\n          initial: function initial() {\n            return '...';\n          },\n          validation: {\n            minLength: 5,\n            maxLength: 60,\n            spaces: function spaces(value) {\n              if (value.indexOf(' ') !== -1) {\n                return ['Username cannot contain spaces'];\n              }\n\n              return true;\n            }\n          }\n        },\n        display_name: {\n          type: 'string',\n          maxLength: 255,\n          initial: function initial() {\n            return '';\n          }\n        },\n        profile_url: {\n          type: 'string',\n          max_length: 255,\n          initial: function initial() {\n            return '';\n          }\n        },\n        default_avatar: {\n          type: 'string',\n          max_length: 255,\n          initial: function initial() {\n            return '';\n          }\n        },\n        is_moderator: {\n          type: 'bool'\n        },\n        can_change_name: {\n          type: 'bool'\n        },\n        email: {\n          type: 'string',\n          maxLength: 75,\n          minLength: 5,\n          validation: {\n            minLength: 5,\n            maxLength: 75,\n            email: true\n          }\n        },\n        expiration_date: {\n          type: 'datetime'\n        },\n        last_login: {\n          type: 'datetime'\n        },\n        disabled_account: {\n          type: 'bool'\n        },\n        ios_subscription: {\n          type: 'object',\n          schema: function schema() {\n            return userStore.schema.iOSSubscription;\n          }\n        },\n        subscription: {\n          type: 'object',\n          schema: function schema() {\n            return userStore.schema.LitleSubscription;\n          }\n        },\n        premier: {\n          type: 'bool',\n          initial: function initial() {\n            return false;\n          }\n        },\n        is_remember_me: {\n          type: 'bool'\n        },\n        created_content: {\n          type: 'bool'\n        },\n        num_documents_uploaded: {\n          type: 'string',\n          initial: function initial() {\n            return '0';\n          }\n        },\n        num_questions_asked: {\n          type: 'string',\n          initial: function initial() {\n            return '0';\n          }\n        },\n        num_questions_answered: {\n          type: 'string',\n          initial: function initial() {\n            return '0';\n          }\n        },\n        profile_percent_complete: {\n          type: 'int',\n          initial: function initial() {\n            return 0;\n          }\n        },\n        tutor_questions_remaining: {\n          type: 'string',\n          initial: function initial() {\n            return '0';\n          }\n        },\n        school: {\n          type: 'string',\n          initial: function initial() {\n            return '';\n          }\n        },\n        school_id: {\n          type: 'int'\n        },\n        school_location: {\n          type: 'object',\n          schema: function schema() {\n            return userStore.schema.SchoolLocation;\n          }\n        },\n        student_type: {\n          type: 'string',\n          initial: function initial() {\n            return '';\n          }\n        },\n        full_name: {\n          type: 'string',\n          initial: function initial() {\n            return '';\n          },\n          maxLength: 60,\n          validation: {\n            maxLength: 60\n          }\n        },\n        graduation_year: {\n          type: 'string',\n          initial: function initial() {\n            return '';\n          }\n        },\n        graduation_month: {\n          type: 'string',\n          initial: function initial() {\n            return '';\n          }\n        },\n        is_paused: {\n          type: 'bool'\n        },\n        can_pause: {\n          type: 'bool'\n        },\n        last_paused_on: {\n          type: 'datetime'\n        },\n        next_pause_date: {\n          type: 'date'\n        },\n        fc_premier_recurring: {\n          type: 'bool',\n          initial: function initial() {\n            return false;\n          }\n        },\n        phone_number: {\n          type: 'phone',\n          initial: function initial() {\n            return '';\n          },\n          validation: {\n            phone: true\n          }\n        },\n        sms_notification_enabled: {\n          type: 'bool'\n        },\n        can_change_tutor_verification_number: {\n          type: 'bool'\n        },\n        sms_notification_has_reminder: {\n          type: 'bool'\n        },\n        is_unlock: {\n          type: 'bool'\n        },\n        total_download_count: {\n          type: 'string',\n          initial: function initial() {\n            return '0';\n          }\n        },\n        monthly_available_downloads: {\n          type: 'string',\n          initial: function initial() {\n            return '0';\n          }\n        },\n        monthly_unlocks_remaining: {\n          type: 'integer',\n          initial: function initial() {\n            return 0;\n          }\n        },\n        todays_download_count: {\n          type: 'string',\n          initial: function initial() {\n            return '0';\n          }\n        },\n        non_marketplace_docs_approved: {\n          type: 'string',\n          initial: function initial() {\n            return '0';\n          }\n        },\n        num_docs_to_retag: {\n          type: 'integer',\n          initial: function initial() {\n            return 0;\n          }\n        },\n        can_upgrade: {\n          type: 'bool'\n        },\n        days_left: {\n          type: 'int'\n        },\n        profile_photo: {\n          type: 'string'\n        },\n        profile_errors: {\n          type: 'array',\n          initial: function initial() {\n            return [];\n          }\n        },\n        expert_dashboard_available: {\n          type: 'bool'\n        },\n        can_access_intern_email_page: {\n          type: 'bool'\n        },\n        resume_date: {\n          type: 'datetime'\n        },\n        auto_renew_date: {\n          type: 'datetime'\n        },\n        litle_subscription: {\n          type: 'object',\n          schema: function schema() {\n            return userStore.schema.LitleSubscription;\n          }\n        },\n        unlocks_remaining: {\n          type: 'int',\n          initial: function initial() {\n            return 0;\n          }\n        },\n        is_teacher: {\n          type: 'bool'\n        },\n        next_payment_date_display: {\n          type: 'string'\n        },\n        is_paypal_user: {\n          type: 'bool'\n        },\n        is_google_play_subscriber: {\n          type: 'bool'\n        },\n        is_ios_subscriber: {\n          type: 'bool'\n        },\n        is_premier_access_user: {\n          type: 'bool'\n        },\n        premier_access_renewal_date: {\n          type: 'string'\n        },\n        is_amazon_free_trial_user: {\n          type: 'bool'\n        },\n        after_hours_sms_notification_enabled: {\n          type: 'bool'\n        },\n        premier_source_name: {\n          type: 'string'\n        },\n        premier_access_faq_url: {\n          type: 'string'\n        },\n        upload_sms_verified: {\n          type: 'bool'\n        }\n      }\n    }\n  });\n  userActions.store = userStore;\n  return userStore;\n}]);"},74709:n=>{n.exports="/**\n * API service wrapper to make get/post and success/error standardized\n * Usage:\n * apiService.get(URL, {params}).success().error(); etc\n * apiService.post()\n * apiService.delete();\n * apiService.put();\n */\nif (typeof utilServices === 'undefined') {\n  throw new Error('utilServices is required to use the api service');\n}\n/**\n * Service used to standardize the angular get/post/delete/put calls\n */\n\n\nutilServices.service('apiService', function ($http) {\n  return {\n    /**\n     * Build the URL for get and delete methods that can't accept parameters\n     * Replace magic parts of a URL, i.e. my/url/{test_id}/ would replace\n     * {test_id} with the value of data.test_id\n     * @param {type} url\n     * @param {type} data\n     * @param {bool} query_string\n     * @returns {unresolved}\n     */\n    _buildUrl: function _buildUrl(url, data, query_string) {\n      //build the url\n      for (var i in data) {\n        //check if URL requires data, and if provided, replace in URL.\n        if (url.indexOf('{' + i + '}') !== -1) {\n          url = url.replace('{' + i + '}', data[i]);\n          continue;\n        }\n\n        if (typeof query_string !== 'undefined' && query_string === false) {\n          continue;\n        }\n\n        if (url.indexOf('?') !== -1) {\n          url += '&';\n        } else {\n          url += '?';\n        }\n\n        url += i + '=' + data[i];\n      }\n\n      return url;\n    },\n\n    /**\n     * HTTP GET\n     * @param {type} url\n     * @param {type} data\n     * @returns {unresolved}\n     */\n    get: function get(url, data, config) {\n      return $http.get(this._buildUrl(url, data), config);\n    },\n\n    /**\n     * HTTP PATCH\n     * @param {type} url\n     * @param {type} data\n     * @returns {unresolved}\n     */\n    patch: function patch(url, data, config) {\n      \"use strict\";\n\n      return $http.patch(this._buildUrl(url, data, false), data, config);\n    },\n\n    /**\n     * HTTP POST\n     * @param {type} url\n     * @param {type} data\n     * @returns {unresolved}\n     */\n    post: function post(url, data, config) {\n      return $http.post(this._buildUrl(url, data, false), data, config);\n    },\n\n    /**\n     * HTTP PUT\n     * @param {type} url\n     * @param {type} data\n     * @returns {unresolved}\n     */\n    put: function put(url, data, config) {\n      return $http.put(this._buildUrl(url, data, false), data, config);\n    },\n\n    /**\n     * HTTP DELETE\n     * @param {type} url\n     * @param {type} data\n     * @returns {unresolved}\n     */\n    'delete': function _delete(url, data, config) {\n      return $http[\"delete\"](this._buildUrl(url, data), config);\n    },\n\n    /**\n     * JSONp request\n     * @param {type} url\n     * @param {type} data\n     * @returns {unresolved}\n     */\n    jsonp: function jsonp(url, data, config) {\n      return $http.jsonp(this._buildUrl(url, data), config);\n    },\n\n    /**\n     * Throttle a function call, helpful for auto-completes to not\n     * spam the server with calls\n     * \n     * @param {Function} func\n     * @param {int} wait\n     * @param {bool} immediate\n     * @returns {Function}\n     */\n    throttle: function throttle(func, wait, immediate) {\n      var timeout;\n      return function () {\n        var context = this,\n            args = arguments;\n\n        var later = function later() {\n          timeout = null;\n          if (!immediate) func.apply(context, args);\n        };\n\n        var callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) func.apply(context, args);\n      };\n    }\n  };\n});"},17512:n=>{n.exports="/* \n * Used for dispatching messages to stores, and used by stores to register \n * callbacks for events.\n */\nif (typeof utilServices === 'undefined') {\n  throw new Error('utilServices is required to use the dispatcher');\n}\n\nutilServices.service('dispatcher', function () {\n  return {\n    /**\n     * Holds our callbacks\n     */\n    callbacks: [],\n\n    /**\n     * Dispatch a message to all our callbacks\n     * TODO: setup requirements, such as callback A must fire before B\n     * @param {type} action\n     * @param {type} data\n     * @returns {undefined}\n     */\n    dispatch: function dispatch(action, data) {\n      var payload = {\n        action: action,\n        data: data\n      };\n      this.callbacks.forEach(function (callback) {\n        callback.callback.apply(callback.service, [payload]);\n      });\n    },\n\n    /**\n     * Register a callback and return the index\n     */\n    register: function register(callback, service) {\n      this.callbacks.push({\n        callback: callback,\n        service: service\n      });\n      return this.callbacks.length - 1;\n    }\n  };\n});"},45965:n=>{n.exports="/**\n * Locale services (countries, states, etc)\n * Months for use in angular selects\n */\nif (typeof utilServices === 'undefined') {\n  throw new Error('utilServices is required to use the localeService');\n}\n\nutilServices.service('localeService', function () {\n  /**\n   * We could also have this pull via AJAX\n   * @type Array\n   */\n  var countries = [{\n    value: \"AF\",\n    label: 'Afghanistan'\n  }, {\n    value: \"AX\",\n    label: 'ALand Islands'\n  }, {\n    value: \"AL\",\n    label: 'Albania'\n  }, {\n    value: \"DZ\",\n    label: 'Algeria'\n  }, {\n    value: \"AS\",\n    label: 'American Samoa'\n  }, {\n    value: \"AD\",\n    label: 'Andorra'\n  }, {\n    value: \"AO\",\n    label: 'Angola'\n  }, {\n    value: \"AI\",\n    label: 'Anguilla'\n  }, {\n    value: \"AQ\",\n    label: 'Antarctica'\n  }, {\n    value: \"AG\",\n    label: 'Antigua And Barbuda'\n  }, {\n    value: \"AR\",\n    label: 'Argentina'\n  }, {\n    value: \"AM\",\n    label: 'Armenia'\n  }, {\n    value: \"AW\",\n    label: 'Aruba'\n  }, {\n    value: \"AU\",\n    label: 'Australia'\n  }, {\n    value: \"AT\",\n    label: 'Austria'\n  }, {\n    value: \"AZ\",\n    label: 'Azerbaijan'\n  }, {\n    value: \"BS\",\n    label: 'Bahamas'\n  }, {\n    value: \"BH\",\n    label: 'Bahrain'\n  }, {\n    value: \"BD\",\n    label: 'Bangladesh'\n  }, {\n    value: \"BB\",\n    label: 'Barbados'\n  }, {\n    value: \"BY\",\n    label: 'Belarus'\n  }, {\n    value: \"BE\",\n    label: 'Belgium'\n  }, {\n    value: \"BZ\",\n    label: 'Belize'\n  }, {\n    value: \"BJ\",\n    label: 'Benin'\n  }, {\n    value: \"BM\",\n    label: 'Bermuda'\n  }, {\n    value: \"BT\",\n    label: 'Bhutan'\n  }, {\n    value: \"BO\",\n    label: 'Bolivia'\n  }, {\n    value: \"BA\",\n    label: 'Bosnia And Herzegovina'\n  }, {\n    value: \"BW\",\n    label: 'Botswana'\n  }, {\n    value: \"BV\",\n    label: 'Bouvet Island'\n  }, {\n    value: \"BR\",\n    label: 'Brazil'\n  }, {\n    value: \"IO\",\n    label: 'British Indian Ocean Territory'\n  }, {\n    value: \"BN\",\n    label: 'Brunei Darussalam'\n  }, {\n    value: \"BG\",\n    label: 'Bulgaria'\n  }, {\n    value: \"BF\",\n    label: 'Burkina Faso'\n  }, {\n    value: \"BI\",\n    label: 'Burundi'\n  }, {\n    value: \"KH\",\n    label: 'Cambodia'\n  }, {\n    value: \"CM\",\n    label: 'Cameroon'\n  }, {\n    value: \"CA\",\n    label: 'Canada'\n  }, {\n    value: \"CV\",\n    label: 'Cape Verde'\n  }, {\n    value: \"KY\",\n    label: 'Cayman Islands'\n  }, {\n    value: \"CF\",\n    label: 'Central African Republic'\n  }, {\n    value: \"TD\",\n    label: 'Chad'\n  }, {\n    value: \"CL\",\n    label: 'Chile'\n  }, {\n    value: \"CN\",\n    label: 'China'\n  }, {\n    value: \"CX\",\n    label: 'Christmas Island'\n  }, {\n    value: \"CC\",\n    label: 'Cocos (Keeling) Islands'\n  }, {\n    value: \"CO\",\n    label: 'Colombia'\n  }, {\n    value: \"KM\",\n    label: 'Comoros'\n  }, {\n    value: \"CG\",\n    label: 'Congo'\n  }, {\n    value: \"CD\",\n    label: 'Congo, The Democratic Republic Of The'\n  }, {\n    value: \"CK\",\n    label: 'Cook Islands'\n  }, {\n    value: \"CR\",\n    label: 'Costa Rica'\n  }, {\n    value: \"CI\",\n    label: 'Cote D\\'Ivoire'\n  }, {\n    value: \"HR\",\n    label: 'Croatia'\n  }, {\n    value: \"CU\",\n    label: 'Cuba'\n  }, {\n    value: \"CY\",\n    label: 'Cyprus'\n  }, {\n    value: \"CZ\",\n    label: 'Czech Republic'\n  }, {\n    value: \"DK\",\n    label: 'Denmark'\n  }, {\n    value: \"DJ\",\n    label: 'Djibouti'\n  }, {\n    value: \"DM\",\n    label: 'Dominica'\n  }, {\n    value: \"DO\",\n    label: 'Dominican Republic'\n  }, {\n    value: \"EC\",\n    label: 'Ecuador'\n  }, {\n    value: \"EG\",\n    label: 'Egypt'\n  }, {\n    value: \"SV\",\n    label: 'El Salvador'\n  }, {\n    value: \"GQ\",\n    label: 'Equatorial Guinea'\n  }, {\n    value: \"ER\",\n    label: 'Eritrea'\n  }, {\n    value: \"EE\",\n    label: 'Estonia'\n  }, {\n    value: \"ET\",\n    label: 'Ethiopia'\n  }, {\n    value: \"FK\",\n    label: 'Falkland Islands (Malvinas)'\n  }, {\n    value: \"FO\",\n    label: 'Faroe Islands'\n  }, {\n    value: \"FJ\",\n    label: 'Fiji'\n  }, {\n    value: \"FI\",\n    label: 'Finland'\n  }, {\n    value: \"FR\",\n    label: 'France'\n  }, {\n    value: \"GF\",\n    label: 'French Guiana'\n  }, {\n    value: \"PF\",\n    label: 'French Polynesia'\n  }, {\n    value: \"TF\",\n    label: 'French Southern Territories'\n  }, {\n    value: \"GA\",\n    label: 'Gabon'\n  }, {\n    value: \"GM\",\n    label: 'Gambia'\n  }, {\n    value: \"GE\",\n    label: 'Georgia'\n  }, {\n    value: \"DE\",\n    label: 'Germany'\n  }, {\n    value: \"GH\",\n    label: 'Ghana'\n  }, {\n    value: \"GI\",\n    label: 'Gibraltar'\n  }, {\n    value: \"GR\",\n    label: 'Greece'\n  }, {\n    value: \"GL\",\n    label: 'Greenland'\n  }, {\n    value: \"GD\",\n    label: 'Grenada'\n  }, {\n    value: \"GP\",\n    label: 'Guadeloupe'\n  }, {\n    value: \"GU\",\n    label: 'Guam'\n  }, {\n    value: \"GT\",\n    label: 'Guatemala'\n  }, {\n    value: \"Gg\",\n    label: 'Guernsey'\n  }, {\n    value: \"GN\",\n    label: 'Guinea'\n  }, {\n    value: \"GW\",\n    label: 'Guinea-Bissau'\n  }, {\n    value: \"GY\",\n    label: 'Guyana'\n  }, {\n    value: \"HT\",\n    label: 'Haiti'\n  }, {\n    value: \"HM\",\n    label: 'Heard Island And Mcdonald Islands'\n  }, {\n    value: \"VA\",\n    label: 'Holy See (Vatican City State)'\n  }, {\n    value: \"HN\",\n    label: 'Honduras'\n  }, {\n    value: \"HK\",\n    label: 'Hong Kong'\n  }, {\n    value: \"HU\",\n    label: 'Hungary'\n  }, {\n    value: \"IS\",\n    label: 'Iceland'\n  }, {\n    value: \"IN\",\n    label: 'India'\n  }, {\n    value: \"ID\",\n    label: 'Indonesia'\n  }, {\n    value: \"IR\",\n    label: 'Iran, Islamic Republic Of'\n  }, {\n    value: \"IQ\",\n    label: 'Iraq'\n  }, {\n    value: \"IE\",\n    label: 'Ireland'\n  }, {\n    value: \"IM\",\n    label: 'Isle Of Man'\n  }, {\n    value: \"IL\",\n    label: 'Israel'\n  }, {\n    value: \"IT\",\n    label: 'Italy'\n  }, {\n    value: \"JM\",\n    label: 'Jamaica'\n  }, {\n    value: \"JP\",\n    label: 'Japan'\n  }, {\n    value: \"JE\",\n    label: 'Jersey'\n  }, {\n    value: \"JO\",\n    label: 'Jordan'\n  }, {\n    value: \"KZ\",\n    label: 'Kazakhstan'\n  }, {\n    value: \"KE\",\n    label: 'Kenya'\n  }, {\n    value: \"KI\",\n    label: 'Kiribati'\n  }, {\n    value: \"KP\",\n    label: 'Korea, Democratic People\\'s Republic Of'\n  }, {\n    value: \"KR\",\n    label: 'Korea, Republic Of'\n  }, {\n    value: \"KW\",\n    label: 'Kuwait'\n  }, {\n    value: \"KG\",\n    label: 'Kyrgyzstan'\n  }, {\n    value: \"LA\",\n    label: 'Lao People\\'s Democratic Republic'\n  }, {\n    value: \"LV\",\n    label: 'Latvia'\n  }, {\n    value: \"LB\",\n    label: 'Lebanon'\n  }, {\n    value: \"LS\",\n    label: 'Lesotho'\n  }, {\n    value: \"LR\",\n    label: 'Liberia'\n  }, {\n    value: \"LY\",\n    label: 'Libyan Arab Jamahiriya'\n  }, {\n    value: \"LI\",\n    label: 'Liechtenstein'\n  }, {\n    value: \"LT\",\n    label: 'Lithuania'\n  }, {\n    value: \"LU\",\n    label: 'Luxembourg'\n  }, {\n    value: \"MO\",\n    label: 'Macao'\n  }, {\n    value: \"MK\",\n    label: 'Macedonia, The Former Yugoslav Republic Of'\n  }, {\n    value: \"MG\",\n    label: 'Madagascar'\n  }, {\n    value: \"MW\",\n    label: 'Malawi'\n  }, {\n    value: \"MY\",\n    label: 'Malaysia'\n  }, {\n    value: \"MV\",\n    label: 'Maldives'\n  }, {\n    value: \"ML\",\n    label: 'Mali'\n  }, {\n    value: \"MT\",\n    label: 'Malta'\n  }, {\n    value: \"MH\",\n    label: 'Marshall Islands'\n  }, {\n    value: \"MQ\",\n    label: 'Martinique'\n  }, {\n    value: \"MR\",\n    label: 'Mauritania'\n  }, {\n    value: \"MU\",\n    label: 'Mauritius'\n  }, {\n    value: \"YT\",\n    label: 'Mayotte'\n  }, {\n    value: \"MX\",\n    label: 'Mexico'\n  }, {\n    value: \"FM\",\n    label: 'Micronesia, Federated States Of'\n  }, {\n    value: \"MD\",\n    label: 'Moldova, Republic Of'\n  }, {\n    value: \"MC\",\n    label: 'Monaco'\n  }, {\n    value: \"MN\",\n    label: 'Mongolia'\n  }, {\n    value: \"MS\",\n    label: 'Montserrat'\n  }, {\n    value: \"MA\",\n    label: 'Morocco'\n  }, {\n    value: \"MZ\",\n    label: 'Mozambique'\n  }, {\n    value: \"MM\",\n    label: 'Myanmar'\n  }, {\n    value: \"NA\",\n    label: 'Namibia'\n  }, {\n    value: \"NR\",\n    label: 'Nauru'\n  }, {\n    value: \"NP\",\n    label: 'Nepal'\n  }, {\n    value: \"NL\",\n    label: 'Netherlands'\n  }, {\n    value: \"AN\",\n    label: 'Netherlands Antilles'\n  }, {\n    value: \"NC\",\n    label: 'New Caledonia'\n  }, {\n    value: \"NZ\",\n    label: 'New Zealand'\n  }, {\n    value: \"NI\",\n    label: 'Nicaragua'\n  }, {\n    value: \"NE\",\n    label: 'Niger'\n  }, {\n    value: \"NG\",\n    label: 'Nigeria'\n  }, {\n    value: \"NU\",\n    label: 'Niue'\n  }, {\n    value: \"NF\",\n    label: 'Norfolk Island'\n  }, {\n    value: \"MP\",\n    label: 'Northern Mariana Islands'\n  }, {\n    value: \"NO\",\n    label: 'Norway'\n  }, {\n    value: \"OM\",\n    label: 'Oman'\n  }, {\n    value: \"PK\",\n    label: 'Pakistan'\n  }, {\n    value: \"PW\",\n    label: 'Palau'\n  }, {\n    value: \"PS\",\n    label: 'Palestinian Territory, Occupied'\n  }, {\n    value: \"PA\",\n    label: 'Panama'\n  }, {\n    value: \"PG\",\n    label: 'Papua New Guinea'\n  }, {\n    value: \"PY\",\n    label: 'Paraguay'\n  }, {\n    value: \"PE\",\n    label: 'Peru'\n  }, {\n    value: \"PH\",\n    label: 'Philippines'\n  }, {\n    value: \"PN\",\n    label: 'Pitcairn'\n  }, {\n    value: \"PL\",\n    label: 'Poland'\n  }, {\n    value: \"PT\",\n    label: 'Portugal'\n  }, {\n    value: \"PR\",\n    label: 'Puerto Rico'\n  }, {\n    value: \"QA\",\n    label: 'Qatar'\n  }, {\n    value: \"RE\",\n    label: 'Reunion'\n  }, {\n    value: \"RO\",\n    label: 'Romania'\n  }, {\n    value: \"RU\",\n    label: 'Russian Federation'\n  }, {\n    value: \"RW\",\n    label: 'Rwanda'\n  }, {\n    value: \"SH\",\n    label: 'Saint Helena'\n  }, {\n    value: \"KN\",\n    label: 'Saint Kitts And Nevis'\n  }, {\n    value: \"LC\",\n    label: 'Saint Lucia'\n  }, {\n    value: \"PM\",\n    label: 'Saint Pierre And Miquelon'\n  }, {\n    value: \"VC\",\n    label: 'Saint Vincent And The Grenadines'\n  }, {\n    value: \"WS\",\n    label: 'Samoa'\n  }, {\n    value: \"SM\",\n    label: 'San Marino'\n  }, {\n    value: \"ST\",\n    label: 'Sao Tome And Principe'\n  }, {\n    value: \"SA\",\n    label: 'Saudi Arabia'\n  }, {\n    value: \"SN\",\n    label: 'Senegal'\n  }, {\n    value: \"CS\",\n    label: 'Serbia And Montenegro'\n  }, {\n    value: \"SC\",\n    label: 'Seychelles'\n  }, {\n    value: \"SL\",\n    label: 'Sierra Leone'\n  }, {\n    value: \"SG\",\n    label: 'Singapore'\n  }, {\n    value: \"SK\",\n    label: 'Slovakia'\n  }, {\n    value: \"SI\",\n    label: 'Slovenia'\n  }, {\n    value: \"SB\",\n    label: 'Solomon Islands'\n  }, {\n    value: \"SO\",\n    label: 'Somalia'\n  }, {\n    value: \"ZA\",\n    label: 'South Africa'\n  }, {\n    value: \"GS\",\n    label: 'South Georgia And The South Sandwich Islands'\n  }, {\n    value: \"ES\",\n    label: 'Spain'\n  }, {\n    value: \"LK\",\n    label: 'Sri Lanka'\n  }, {\n    value: \"SD\",\n    label: 'Sudan'\n  }, {\n    value: \"SR\",\n    label: 'Suriname'\n  }, {\n    value: \"SJ\",\n    label: 'Svalbard And Jan Mayen'\n  }, {\n    value: \"SZ\",\n    label: 'Swaziland'\n  }, {\n    value: \"SE\",\n    label: 'Sweden'\n  }, {\n    value: \"CH\",\n    label: 'Switzerland'\n  }, {\n    value: \"SY\",\n    label: 'Syrian Arab Republic'\n  }, {\n    value: \"TW\",\n    label: 'Taiwan, Province Of China'\n  }, {\n    value: \"TJ\",\n    label: 'Tajikistan'\n  }, {\n    value: \"TZ\",\n    label: 'Tanzania, United Republic Of'\n  }, {\n    value: \"TH\",\n    label: 'Thailand'\n  }, {\n    value: \"TL\",\n    label: 'Timor-Leste'\n  }, {\n    value: \"TG\",\n    label: 'Togo'\n  }, {\n    value: \"TK\",\n    label: 'Tokelau'\n  }, {\n    value: \"TO\",\n    label: 'Tonga'\n  }, {\n    value: \"TT\",\n    label: 'Trinidad And Tobago'\n  }, {\n    value: \"TN\",\n    label: 'Tunisia'\n  }, {\n    value: \"TR\",\n    label: 'Turkey'\n  }, {\n    value: \"TM\",\n    label: 'Turkmenistan'\n  }, {\n    value: \"TC\",\n    label: 'Turks And Caicos Islands'\n  }, {\n    value: \"TV\",\n    label: 'Tuvalu'\n  }, {\n    value: \"UG\",\n    label: 'Uganda'\n  }, {\n    value: \"UA\",\n    label: 'Ukraine'\n  }, {\n    value: \"AE\",\n    label: 'United Arab Emirates'\n  }, {\n    value: \"GB\",\n    label: 'United Kingdom'\n  }, {\n    value: \"US\",\n    selected: \"selected\",\n    label: 'United States'\n  }, {\n    value: \"UM\",\n    label: 'United States Minor Outlying Islands'\n  }, {\n    value: \"UY\",\n    label: 'Uruguay'\n  }, {\n    value: \"UZ\",\n    label: 'Uzbekistan'\n  }, {\n    value: \"VU\",\n    label: 'Vanuatu'\n  }, {\n    value: \"VE\",\n    label: 'Venezuela'\n  }, {\n    value: \"VN\",\n    label: 'Viet Nam'\n  }, {\n    value: \"VG\",\n    label: 'Virgin Islands, British'\n  }, {\n    value: \"VI\",\n    label: 'Virgin Islands, U.S.'\n  }, {\n    value: \"WF\",\n    label: 'Wallis And Futuna'\n  }, {\n    value: \"EH\",\n    label: 'Western Sahara'\n  }, {\n    value: \"YE\",\n    label: 'Yemen'\n  }, {\n    value: \"ZM\",\n    label: 'Zambia'\n  }, {\n    value: \"ZW\",\n    label: 'Zimbabwe'\n  }];\n  /**\n   * Months, easy to use in an angular select\n   * @type Array\n   */\n\n  var months = [{\n    id: 1,\n    label: 'January',\n    \"short\": 'Jan'\n  }, {\n    id: 2,\n    label: 'February',\n    \"short\": 'Feb'\n  }, {\n    id: 3,\n    label: 'March',\n    \"short\": 'Mar'\n  }, {\n    id: 4,\n    label: 'April',\n    \"short\": 'Apr'\n  }, {\n    id: 5,\n    label: 'May',\n    \"short\": 'May'\n  }, {\n    id: 6,\n    label: 'June',\n    \"short\": 'Jun'\n  }, {\n    id: 7,\n    label: 'July',\n    \"short\": 'Jul'\n  }, {\n    id: 8,\n    label: 'August',\n    \"short\": 'Aug'\n  }, {\n    id: 9,\n    label: 'September',\n    \"short\": 'Sep'\n  }, {\n    id: 10,\n    label: 'October',\n    \"short\": 'Oct'\n  }, {\n    id: 11,\n    label: 'November',\n    \"short\": 'Nov'\n  }, {\n    id: 12,\n    label: 'December',\n    \"short\": 'Dec'\n  }];\n  var terms = {\n    '1': 'Fall',\n    '2': 'Winter',\n    '3': 'Spring',\n    '4': 'Summer'\n  };\n  return {\n    /**\n     * Return our country array\n     * @returns {Array}\n     */\n    getCountries: function getCountries() {\n      return countries;\n    },\n\n    /**\n     * Return a country by value (i.e. US)\n     * @returns {Array}\n     */\n    getCountry: function getCountry(value) {\n      var country = false;\n      this.getCountries().forEach(function (c) {\n        if (c.value === value) {\n          country = c;\n        }\n      });\n      return country;\n    },\n\n    /**\n     * Return our month array\n     * @returns {Array}\n     */\n    getMonths: function getMonths() {\n      return months;\n    },\n\n    /**\n     * Get a specific month by month_id (1-12)\n     * @param {type} month_id\n     * @returns {Array|m|Boolean}\n     */\n    getMonth: function getMonth(month_id) {\n      var month = false;\n      this.getMonths().forEach(function (m) {\n        if (m.id === month_id) {\n          month = m;\n        }\n      });\n      return month;\n    },\n    getTerm: function getTerm(term) {\n      return terms[term];\n    }\n  };\n});"},43463:n=>{n.exports="function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\n/**\n * Notification service for error/success messages\n * Usage:\n *      - notificationService.error(['messages'], 'message_group')\n *      - notificationService.success(['messages'], 'message_group')\n *      \n *  Displaying:\n *      <div data-ch-notifications=\"message_group\"></div>\n */\nif (typeof utilServices === 'undefined') {\n  throw new Error('utilServices is required to use the notification service');\n}\n/**\n * Service used to add/remove notifications\n * @param {type} param1\n * @param {type} param2\n */\n\n\nutilServices.service('notificationService', function () {\n  var NOTIFICATION_TYPE_SUCCESS = 'success';\n  var NOTIFICATION_TYPE_ERROR = 'error';\n  var NOTIFICATION_TYPE_CONFIRM = 'warning';\n  return DataStore.create({\n    /**\n     * Hold our notifications in their respective groups\n     */\n    notifications: {},\n\n    /**\n     * Put a success message into the given container\n     * @param {type} messages\n     * @param {type} container\n     * @param {bool} replace\n     * @returns {undefined}\n     */\n    success: function success(messages, group, replace, callback, params) {\n      if (_typeof(params) !== 'object') {\n        params = {};\n      }\n\n      params.showCancelButton = typeof params.showCancelButton !== 'undefined' ? params.showCancelButton : false;\n\n      this._notify(NOTIFICATION_TYPE_SUCCESS, messages, group, replace, callback, params);\n    },\n\n    /**\n     * Put an error message into the given container\n     * @param {type} messages\n     * @param {type} container\n     * @param {bool} replace\n     * @returns {undefined}\n     */\n    error: function error(messages, group, replace, callback, params) {\n      if (_typeof(params) !== 'object') {\n        params = {};\n      }\n\n      params.showCancelButton = typeof params.showCancelButton !== 'undefined' ? params.showCancelButton : false;\n\n      this._notify(NOTIFICATION_TYPE_ERROR, messages, group, replace, callback, params);\n    },\n\n    /**\n     * Return notifications for a particular group\n     * @param {type} group\n     * @returns {Boolean|util.services.notifications_L20.util.services.notificationsAnonym$0.notifications}\n     */\n    getNotifications: function getNotifications(group) {\n      if (typeof group === 'undefined') {\n        return false;\n      }\n\n      return this.notifications[group];\n    },\n\n    /**\n     * \n     * @param {type} group\n     * @param {type} type\n     * @param {type} message\n     * @returns {undefined}\n     */\n    remove: function remove(group, type, message) {\n      if (typeof this.notifications[group] === 'undefined') {\n        return;\n      }\n\n      if (typeof this.notifications[group][type] === 'undefined') {\n        return;\n      }\n\n      this.notifications[group][type] = this.notifications[group][type].filter(function (message) {\n        if (message !== message) {\n          return true;\n        }\n\n        return false;\n      });\n      this.emit(this.events.UPDATE);\n    },\n    confirm: function confirm(message, callback, params) {\n      this._notify('warning', message, null, null, callback, params);\n    },\n\n    /**\n     * Put a notice into the given container with the type supplied\n     * @param {type} type\n     * @param {type} messages\n     * @param {type} container\n     * @param {bool} replace\n     * @returns {undefined}\n     */\n    _notify: function _notify(type, messages, group, replace, confirm, params) {\n      if (typeof messages === 'string') {\n        var messages = [messages];\n      }\n\n      if (typeof swal !== 'undefined') {\n        if (messages.length > 0) {\n          var config = {\n            type: type,\n            text: messages.join('  '),\n            title: this._getTitle(type),\n            showCancelButton: typeof confirm !== 'undefined'\n          };\n\n          if (_typeof(params) === 'object') {\n            $.extend(true, config, params);\n          }\n\n          swal(config, function (isConfirm) {\n            if (isConfirm) {\n              if (typeof confirm !== 'undefined') {\n                confirm();\n              }\n            }\n          });\n        }\n\n        return;\n      }\n\n      if (typeof messages === 'undefined' || typeof messages.length === 'undefined' || !messages.length) {\n        //empty out our messages\n        if (typeof replace !== 'undefined' && replace === true && typeof this.notifications[group] !== 'undefined') {\n          this.notifications[group][type] = [];\n          this.emit(this.events.UPDATE);\n        }\n\n        return; //can't notify if empty messages\n      }\n\n      if (typeof group === 'undefined') {\n        throw new Error('Invalid group given for notification services, messages: [' + messages.join(', ') + ']');\n      } //remove existing before adding a new one\n\n\n      var $me = this;\n      messages.forEach(function (message) {\n        $me.remove(group, type, message);\n      }); //check that group is on the page and visible, otherwise....\n\n      var notificationContainer = $('*[data-ch-notifications=\"' + group + '\"]');\n\n      if (notificationContainer.length === 0) {\n        group = 'general';\n      }\n\n      var visible = false;\n      notificationContainer.each(function (i, node) {\n        if (node.offsetParent !== null) {\n          visible = true; //at least one is visible\n        }\n      });\n\n      if (!visible) {\n        group = 'general';\n      }\n\n      if (typeof this.notifications[group] === 'undefined') {\n        this.notifications[group] = {\n          success: [],\n          error: []\n        };\n      }\n\n      if (typeof replace !== 'undefined' && replace === true) {\n        this.notifications[group][type] = messages;\n      } else {\n        this.notifications[group][type] = this.notifications[group][type].concat(messages);\n      }\n\n      this.emit(this.events.UPDATE);\n    },\n    _getTitle: function _getTitle(type) {\n      switch (type) {\n        case NOTIFICATION_TYPE_SUCCESS:\n          return 'Success!';\n\n        case NOTIFICATION_TYPE_ERROR:\n          return 'Oops!';\n\n        case NOTIFICATION_TYPE_CONFIRM:\n          return 'Are you sure?';\n\n        default:\n          return 'Hey!';\n      }\n    },\n\n    /**\n     * Events this store can emit\n     */\n    events: {\n      UPDATE: 'notificationService.events.UPDATE'\n    }\n  });\n});\n/**\n * Directive that displays notifications in a given group\n * @param {type} param1\n * @param {type} param2\n */\n\nutilServices.directive('chNotifications', function (notificationService) {\n  return {\n    /**\n     * Our isolated scope, passing in our notification group name\n     */\n    scope: {\n      chNotifications: '@'\n    },\n\n    /**\n     * Controls the displaying of our notifications\n     * @param {type} $scope\n     * @returns {undefined}\n     */\n    controller: function controller($scope) {\n      $scope._notifications = {\n        error: [],\n        success: []\n      };\n      $scope._notificationShowError = false;\n      $scope._notificationShowSuccess = false;\n      /**\n       * Update our notifications\n       * @returns {undefined}\n       */\n\n      $scope.updateNotifications = function () {\n        $scope._notifications = notificationService.getNotifications($scope.chNotifications);\n\n        if (!$scope._notifications) {\n          return;\n        }\n\n        if ($scope._notifications.error.length > 0) {\n          $scope._notificationShowError = true;\n        } else {\n          $scope._notificationShowError = false;\n        }\n\n        if ($scope._notifications.success.length > 0) {\n          $scope._notificationShowSuccess = true;\n        } else {\n          $scope._notificationShowSuccess = false;\n        }\n      };\n      /**\n       * Listen to the notification store, whenever it updates, go ahead\n       * and see if it effects us. If it does, update!\n       */\n\n\n      notificationService.listen(notificationService.events.UPDATE, $scope.updateNotifications);\n      $scope.updateNotifications();\n\n      $scope.hide = function (e, type, message) {\n        e.preventDefault();\n        notificationService.remove($scope.chNotifications, type, message);\n      };\n    },\n\n    /**\n     * Replace that ugly div with the template below\n     */\n    replace: true,\n\n    /**\n     * TODO: We might want to set this to a URL and have it pull from a twig\n     * template,\n     */\n    template: '<div><div data-ng-show=\"_notificationShowError\" class=\"error follow-message-wrapper\" ng-repeat=\"error in _notifications.error track by $index\"><ul class=\"follow-messages\"><li>{[ error ]} <a href=\"#\" data-ng-click=\"hide($event, \\'error\\', error);\" class=\"close\">&times;</a></li></ul></div>\\n\\\n                   <div data-ng-show=\"_notificationShowSuccess\" class=\"status follow-message-wrapper\"><ul class=\"follow-messages\"><li ng-repeat=\"success in _notifications.success track by $index\">{[ success ]} <a href=\"#\" data-ng-click=\"hide($event, \\'success\\', success);\" class=\"close\">&times;</a></li></ul></div></div>'\n  };\n});"},1192:n=>{n.exports="/**\n * \n */\nif (typeof angular === 'undefined') {\n  throw new Error('Angular is required to use any of the util services');\n}\n\nvar utilServices = angular.module('utilServices', []);\nutilServices.filter('truncate', function () {\n  return function (text, length, end) {\n    if (typeof text == 'undefined') {\n      return '';\n    }\n\n    if (isNaN(length)) length = 10;\n    if (end === undefined) end = \"...\";\n\n    if (text.length <= length || text.length - end.length <= length) {\n      return text;\n    } else {\n      return String(text).substring(0, length - end.length) + end;\n    }\n  };\n});\nutilServices.directive('errSrc', function () {\n  return {\n    scope: {\n      errSrc: '&'\n    },\n    link: function link(scope, element, attrs) {\n      element.bind('error', function () {\n        element.attr('src', '/img/reviewer_nothumb.gif');\n        element.attr('alt', '');\n      });\n    }\n  };\n});\n\nString.prototype.upperFirst = function () {\n  var str = this;\n  return str.substr(0, 1).toUpperCase() + str.substr(1, str.length);\n};"},14490:n=>{n.exports="/**\n * DataStore that hooks into actions dispatched by a Dispatcher\n *\n * DataStore holds all data and is the only class that should modify the data,\n * anything that pulls data from the DataStore cannot modify it and should treat\n * it as immutable\n *\n */\nvar DataStore = new function () {\n  $ = jQuery.noConflict();\n  return {\n    /**\n     * Holds our data\n     */\n    rows: {},\n\n    /**\n     * Holds collection objects\n     */\n    collections: {},\n\n    /**\n     * Used to create our stores\n     * i.e. var MyStore = DataStore.create({}).\n     *\n     * @param {Object} config\n     * @returns {undefined}\n     */\n    create: function create(config) {\n      if (typeof config === 'undefined') {\n        throw new Error('Invalid store configuration, please supply a valid Javascript Object');\n      }\n\n      var tmp = {};\n      jQuery.extend(true, tmp, this, config);\n      return tmp;\n    },\n\n    /**\n     * Attach a listener to an event for this store\n     *\n     * @param {type} event\n     * @param {type} callback\n     * @returns {undefined}\n     */\n    listen: function listen(event, callback) {\n      $(window).on(event, callback);\n    },\n\n    /**\n     * Detach a listener to an event for this store\n     * @param {type} event\n     * @param {type} callback\n     * @returns {undefined}\n     */\n    stopListen: function stopListen(event, callback) {\n      $(window).off(event, callback);\n    },\n\n    /**\n     * Emit an event, supply additional data\n     */\n    emit: function emit(event, data) {\n      $(window).trigger(event, [data]);\n    },\n    _merge: function _merge(obj1, obj2, depth) {\n      if (typeof depth === 'undefined') {\n        depth = 1;\n      }\n\n      var $me = this;\n\n      if (depth === 4) {\n        return obj2;\n      }\n\n      for (var p in obj2) {\n        try {\n          // Property in destination object set; update its value.\n          if (obj2[p].constructor === Object) {\n            obj1[p] = $me._merge(obj1[p], obj2[p], depth + 1);\n          } else {\n            obj1[p] = obj2[p];\n          }\n        } catch (e) {\n          // Property in destination object not set; create it and set its value.\n          obj1[p] = obj2[p];\n        }\n      }\n\n      return obj1;\n    },\n\n    /**\n     * Remove all rows from a model\n     * @param model\n     */\n    clear: function clear(model) {\n      this.rows[model] = [];\n    },\n\n    /**\n     * Update or Insert a row by key_field/key_value\n     *\n     * @param {type} model\n     * @param {type} key_field\n     * @param {type} key_value\n     * @param {type} newRow\n     * @returns {undefined}\n     */\n    upsertRow: function upsertRow(model, key_field, key_value, newRow) {\n      var bUpdated = false;\n      var toReturn = newRow;\n\n      if (typeof this.rows[model] === 'undefined') {\n        this.rows[model] = [];\n      }\n\n      var rows = this.rows[model];\n      var $me = this;\n      rows.forEach(function (row, index) {\n        if (typeof row[key_field] !== 'undefined' && row[key_field] === key_value) {\n          if (typeof rows[index] === 'undefined') {\n            rows[index] = {};\n          }\n\n          rows[index] = $me._merge(rows[index], newRow);\n          toReturn = rows[index];\n          bUpdated = true;\n        }\n      });\n\n      if (!bUpdated) {\n        newRow[key_field] = key_value;\n        this.rows[model].push(newRow);\n      }\n\n      return toReturn;\n    },\n    upsertCollection: function upsertCollection(model, objectPrimaryKey, rawCollection, objectSchema) {\n      if (typeof this.collections[model] === 'undefined') {\n        this.collections[model] = this.sanitize(rawCollection, this.schema.Collection(objectSchema));\n      }\n\n      var $me = this;\n      var storeCollection = this.collections[model];\n      storeCollection.total = rawCollection.total;\n      storeCollection.limit = typeof rawCollection.limit !== 'undefined' ? rawCollection.limit : storeCollection.limit;\n      var old_page = storeCollection.page;\n      storeCollection.page = typeof rawCollection.offset !== 'undefined' ? rawCollection.offset / storeCollection.limit : storeCollection.page;\n      var newRecords = [];\n      var rows = this.getRows(model); //current rows for this store of this model type\n\n      var matchedRows = []; //combine rows\n\n      rawCollection.rows.forEach(function (rawRow) {\n        var sanitizedRow = $me.sanitize(rawRow, objectSchema);\n        var exists = false;\n        rows.forEach(function (row, index) {\n          if (sanitizedRow[objectPrimaryKey] == row[objectPrimaryKey]) {\n            rows[index] = sanitizedRow;\n            exists = true;\n          }\n        });\n\n        if (!exists) {\n          newRecords.push(sanitizedRow);\n        }\n\n        storeCollection.upsertRow(objectPrimaryKey, sanitizedRow[objectPrimaryKey], sanitizedRow, objectSchema);\n        matchedRows.push(sanitizedRow);\n      });\n      rows = rows.concat(newRecords);\n      this.rows[model] = rows;\n      storeCollection.page = old_page; //go back to what we were!\n\n      this.collections[model] = storeCollection;\n    },\n    getCollection: function getCollection(model, config) {\n      if (typeof this.collections[model] === 'undefined') {\n        this.collections[model] = this.sanitize({}, this.schema.Collection(false));\n      }\n\n      if (typeof config !== 'undefined') {\n        this.collections[model] = this.collections[model].create(config);\n      }\n\n      return this.collections[model];\n    },\n\n    /**\n     * Insert/replace a row\n     *\n     * @param {type} model\n     * @param {type} key_field\n     * @param {type} key_value\n     * @param {type} newRow\n     * @returns {undefined}\n     */\n    replaceRow: function replaceRow(model, key_field, key_value, newRow) {\n      var bUpdated = false;\n\n      if (typeof this.rows[model] === 'undefined') {\n        this.rows[model] = [];\n      }\n\n      var rows = this.rows[model];\n      var $me = this;\n      rows.forEach(function (row, index) {\n        if (typeof row[key_field] !== 'undefined' && row[key_field] === key_value) {\n          if (typeof rows[index] === 'undefined') {\n            rows[index] = {};\n          }\n\n          rows[index] = newRow;\n          bUpdated = true;\n        }\n      });\n\n      if (!bUpdated) {\n        this.rows[model].push(newRow);\n      }\n    },\n\n    /**\n     * Remove a row (or rows) if it exists by key value\n     * @param {type} model\n     * @param {type} key_field\n     * @param {type} key_value\n     * @returns {undefined}\n     */\n    removeRow: function removeRow(model, key_field, key_value) {\n      if (typeof this.rows[model] === 'undefined') {\n        return;\n      }\n\n      var rows = this.rows[model];\n      var indexes = [];\n      rows.forEach(function (row, index) {\n        if (typeof row[key_field] !== 'undefined' && row[key_field] == key_value) {\n          indexes.push(index);\n        }\n      });\n\n      if (indexes.length === 0) {\n        return;\n      }\n\n      for (i = 0; i < indexes.length; i++) {\n        this.rows[model].splice(indexes[i], 1);\n      }\n    },\n\n    /**\n     * Return rows based on model\n     * @param {type} model\n     * @returns {Array|DataStore.rows}\n     */\n    getRows: function getRows(model, slice) {\n      if (typeof this.rows[model] !== 'undefined') {\n        return typeof slice !== 'undefined' && !slice ? this.rows[model] : this.rows[model].slice(0);\n      }\n\n      return [];\n    },\n\n    /**\n     * Sanitize and Validate an object with provided schema\n     * Returns array of errors if fails validation,\n     * otherwise returns sanitized object\n     * @param {type} obj\n     * @param {type} schema\n     * @returns {undefined}\n     */\n    sanitizeAndValidate: function sanitizeAndValidate(obj, schema) {\n      var model = this.sanitize(obj, schema);\n      var validation = this.validate(model, schema);\n\n      if (validation === true) {\n        return model;\n      }\n\n      return validation;\n    },\n\n    /**\n     * Validate an object with provided schema, returns true if valid,\n     * array of errors if not valid\n     * @param {type} obj\n     * @param {type} schema\n     * @returns {undefined}\n     */\n    validate: function validate(obj, schema) {\n      var errors = [];\n\n      for (var field in schema) {\n        if (typeof schema[field].validation !== 'undefined') {\n          var bError = false;\n\n          for (var validation in schema[field].validation) {\n            if (errors.length > 0) {\n              continue; //don't keep checking\n            }\n\n            var value = obj[field];\n\n            if (typeof schema[field].label !== 'undefined') {\n              var label = schema[field].label;\n            } else {\n              var label = field.split('_').map(function (p) {\n                return p.substr(0, 1).toUpperCase() + p.substr(1);\n              }).join(' ');\n            }\n\n            switch (validation) {\n              case 'required':\n                if (typeof value === 'undefined' || value === null || value === '') {\n                  errors.push(label + ' is required');\n                }\n\n                break;\n\n              case 'minLength':\n                if (value.length !== 0 && value.length < schema[field].validation[validation]) {\n                  errors.push(label + ' must be at least ' + schema[field].validation[validation] + ' characters');\n                }\n\n                break;\n\n              case 'maxLength':\n                if (value.length !== 0 && value.length > schema[field].validation[validation]) {\n                  errors.push(label + ' must be at under ' + schema[field].validation[validation] + ' characters');\n                }\n\n                break;\n\n              case 'email':\n                var pattern = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n                if (value.length !== 0 && !pattern.test(value)) {\n                  errors.push(label + ' must be a valid email characters');\n                }\n\n                break;\n\n              case 'phone':\n                var pattern = /^\\+?[\\d() -]{8,15}$/;\n\n                if (value.length !== 0 && !pattern.test(value)) {\n                  errors.push(label + ' must be a valid phone number');\n                }\n\n              default:\n                if (typeof schema[field].validation[validation] === 'function') {\n                  var results = schema[field].validation[validation](value);\n\n                  if (results !== true) {\n                    errors = errors.concat(results);\n                  }\n                }\n\n                break;\n            }\n          }\n        }\n      }\n\n      if (errors.length > 0) {\n        return errors;\n      }\n\n      return true;\n    },\n    base64Encode: function base64Encode(str) {\n      return window.btoa(unescape(encodeURIComponent(str)));\n    },\n    base64Decode: function base64Decode(str) {\n      return decodeURIComponent(escape(window.atob(str)));\n    },\n\n    /**\n     * Sanitize the object being passed in based on the schema being passed in\n     * @param {type} obj\n     * @param {type} schema\n     * @returns {undefined}\n     */\n    sanitize: function sanitize(obj, schema) {\n      var clean = {};\n      var tmp = jQuery.extend(true, {}, obj);\n\n      for (var field in schema) {\n        clean[field] = this._sanitizeField(field, tmp, schema);\n      }\n\n      return clean;\n    },\n\n    /**\n     * Santize a given field\n     */\n    _sanitizeField: function _sanitizeField(field, obj, schema) {\n      if (schema[field].type === 'function') {\n        return typeof obj[field] !== 'undefined' ? obj[field] : schema[field].value; //return function\n      }\n\n      if (typeof obj[field] === 'undefined') {\n        //see if schema has a default\n        if (typeof schema[field]['initial'] !== 'undefined') {\n          obj[field] = schema[field]['initial']();\n        } else {\n          obj[field] = null;\n        }\n      }\n\n      var type = schema[field]['type'];\n\n      if (obj[field] === null && type !== 'obj' && type !== 'object') {\n        return null;\n      }\n\n      schema[field].field = field;\n\n      switch (type) {\n        case 'int':\n        case 'integer':\n          return this._sanitizeInteger(obj[field], schema[field]);\n\n        case 'float':\n        case 'double':\n          return this._sanitizeFloat(obj[field], schema[field]);\n\n        case 'string':\n        case 'char':\n        case 'varchar':\n          return this._sanitizeString(obj[field], schema[field]);\n\n        case 'date':\n        case 'datetime':\n        case 'timestamp':\n          return this._sanitizeDateTime(obj[field], schema[field]);\n\n        case 'bool':\n        case 'boolean':\n          return this._sanitizeBoolean(obj[field], schema[field], field);\n\n        case 'obj':\n        case 'object':\n          return this._sanitizeObject(obj[field], schema[field]);\n\n        case 'array':\n        case 'collection':\n          return this._sanitizeArray(obj[field], schema[field]);\n\n        case 'phone':\n          return this._sanitizePhone(obj[field], schema[field]);\n\n        case 'callback':\n          return this._sanitizeCallback(obj[field], schema[field], field);\n      }\n    },\n\n    /**\n     * Sanitize value as integer\n     * @param {type} value\n     * @param {type} schemaConfig\n     * @returns {_L11._sanitizeInteger.value}\n     */\n    _sanitizeInteger: function _sanitizeInteger(value, schemaConfig) {\n      // remove white spaces if needed\n      if (typeof value === 'string' && value.indexOf(' ') >= 0) {\n        value = value.replace(/ /g, '');\n      }\n\n      value = parseInt(value);\n\n      if (typeof schemaConfig.min !== 'undefined' && value < schemaConfig.min) {\n        throw new Error('Provided value cannot be sanitized, value is below minimum integer allowed');\n      }\n\n      if (typeof schemaConfig.max !== 'undefined' && value > schemaConfig.max) {\n        throw new Error('Provided value cannot be sanitized, value is greater than maximum integer allowed');\n      }\n\n      return value;\n    },\n\n    /**\n     * Sanitize value as float\n     * @param {type} value\n     * @param {type} schemaConfig\n     * @returns {_L11._sanitizeInteger.value}\n     */\n    _sanitizeFloat: function _sanitizeFloat(value, schemaConfig) {\n      value = parseFloat(value);\n\n      if (typeof schemaConfig.min !== 'undefined' && value < schemaConfig.min) {\n        throw new Error('Provided value cannot be sanitized, value is below minimum float allowed');\n      }\n\n      if (typeof schemaConfig.max !== 'undefined' && value > schemaConfig.max) {\n        throw new Error('Provided value cannot be sanitized, value is greater than maximum float allowed');\n      }\n\n      return value;\n    },\n\n    /**\n     * Sanitize a String\n     * @param {type} value\n     * @param {type} schemaConfig\n     * @returns {_L11._sanitizeString.value}\n     */\n    _sanitizeString: function _sanitizeString(value, schemaConfig) {\n      value = String(value);\n\n      if (typeof schemaConfig.maxLength !== 'undefined' && value.length > schemaConfig.maxLength) {\n        //truncate and do a warning\n        console.warn('Value was truncated during sanitation');\n        value = value.substr(0, schemaConfig.maxLength);\n      }\n\n      return value;\n    },\n\n    /**\n     * Sanitize a value to be a valid callback\n     * @param callback value\n     * @param object schemaConfig\n     * @param string field\n     * @returns function\n     */\n    _sanitizeCallback: function _sanitizeCallback(value, schemaConfig, field) {\n      if (typeof value !== 'function') {\n        console.warn(field + ' does not have a valid callback');\n        value = null;\n      }\n\n      return value;\n    },\n\n    /**\n     * Sanitize a datetime\n     * @param {type} value\n     * @param {type} schemaConfig\n     * @returns {unresolved}\n     */\n    _sanitizeDateTime: function _sanitizeDateTime(value, schemaConfig) {\n      if (moment.isMoment(value)) {\n        return value;\n      }\n\n      if (moment(value, schemaConfig.format).isValid()) {\n        return moment(value);\n      }\n\n      console.error(\"Provided value (\" + value + \") cannot be sanitized for field (\" + schemaConfig.field + \"), is not a valid date\");\n      return null;\n    },\n\n    /**\n     * Sanitize Boolean\n     * @param {type} value\n     * @param {type} schemaConfig\n     * @returns {Boolean}\n     */\n    _sanitizeBoolean: function _sanitizeBoolean(value, schemaConfig, field) {\n      if (value === false || value === true) {\n        return value;\n      }\n\n      if (typeof value == 'string') {\n        if (value.toLowerCase().trim() === 'false') {\n          return false;\n        }\n\n        if (value.toLowerCase().trim() === 'true') {\n          return true;\n        }\n      }\n\n      if (parseInt(value) === 0) {\n        return false;\n      }\n\n      if (parseInt(value) === 1) {\n        return true;\n      }\n\n      throw new Error('Provided value (' + value + ') for field (' + field + ') cannot be santized, is not a valid boolean');\n    },\n\n    /**\n     * Sanitize an Object\n     * @param {type} value\n     * @param {type} schemaConfig\n     * @returns {_L11.sanitize.clean|DataStore.sanitize@call;_sanitizeField|undefined}\n     */\n    _sanitizeObject: function _sanitizeObject(value, schemaConfig) {\n      if (typeof schemaConfig.schema === 'undefined') {\n        throw new Error('Provided value cannot be santized, no reference schema provided for field type of object');\n      }\n\n      if (schemaConfig.schema === null) {\n        return value;\n      }\n\n      if (value === null) {\n        value = {};\n      }\n\n      return this.sanitize(value, schemaConfig.schema());\n    },\n\n    /**\n     * Sanitize an Array, with a given schema or type if needed\n     * @param {type} value\n     * @param {type} schemaConfig\n     * @returns {_L11.sanitize.clean|DataStore.sanitize@call;_sanitizeField|undefined}\n     */\n    _sanitizeArray: function _sanitizeArray(value, schemaConfig) {\n      if (typeof schemaConfig.schema === 'undefined' || schemaConfig.schema === null || schemaConfig.schema === false) {\n        return value;\n      }\n\n      if (typeof value.length === 'undefined') {\n        return []; //empty array\n      }\n\n      var $me = this;\n      return value.map(function (v) {\n        return $me.sanitize(v, schemaConfig.schema());\n      });\n    },\n\n    /**\n     * Sanitize value as a phone number in the +X-XXX-XXX-XXXX format\n     */\n    _sanitizePhone: function _sanitizePhone(value, schemaConfig) {\n      if (typeof value === 'undefined' || value.length === 0) {\n        return '';\n      }\n\n      var addPlus = value.startsWith('+');\n      value = value.replace(/\\D/g, '');\n\n      if (addPlus) {\n        value = '+' + value;\n      }\n\n      var tel = intlTelInputUtils.formatNumber(value, 'US');\n      return tel;\n    },\n\n    /**\n     * Generate a unique UUID\n     * @returns {String}\n     */\n    uuid: function uuid() {\n      return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        var r = Math.random() * 16 | 0,\n            v = c == 'x' ? r : r & 0x3 | 0x8;\n        return v.toString(16);\n      });\n    },\n\n    /**\n     * Schema helper functions\n     * @returns Allows to create collections\n     */\n    schema: {\n      Collection: function Collection(object_schema) {\n        return {\n          limit: {\n            type: 'int',\n            initial: function initial() {\n              return 25;\n            }\n          },\n          page: {\n            type: 'int',\n            initial: function initial() {\n              return 0;\n            }\n          },\n          setPage: {\n            type: 'function',\n            value: function value(page) {\n              this.page = parseInt(page);\n              this.load();\n              this.onUpdate();\n            }\n          },\n          total_pages: {\n            type: 'int',\n            initial: function initial() {\n              return 0;\n            }\n          },\n          load: {\n            type: 'function',\n            value: function value() {\n              console.warn('Non overloaded \"load\" function in collection');\n            }\n          },\n          onUpdate: {\n            type: 'function',\n            value: function value() {\n              console.warn('Non overloaded \"onUpdate\" function in collection');\n            }\n          },\n\n          /**\n           * Calculates the offset\n           * @returns {number}\n           */\n          getOffset: {\n            type: 'function',\n            value: function value() {\n              return this.limit * this.page;\n            }\n          },\n          hasNext: {\n            type: 'function',\n            value: function value(e) {\n              if (typeof e !== 'undefined' && !(parseInt(this.page) + 1 < this.getPages())) {\n                e.preventDefault();\n              }\n\n              return parseInt(this.page) + 1 < this.getPages();\n            }\n          },\n          getNextUrl: {\n            type: 'function',\n            value: function value(base_url) {\n              return '#/' + base_url + '/' + (parseInt(this.page) + 1);\n            }\n          },\n          hasPrev: {\n            type: 'function',\n            value: function value(e) {\n              if (typeof e !== 'undefined' && !(this.page > 0)) {\n                e.preventDefault();\n              }\n\n              return this.page > 0;\n            }\n          },\n          getPrevUrl: {\n            type: 'function',\n            value: function value(base_url) {\n              return '#/' + base_url + '/' + (parseInt(this.page) - 1);\n            }\n          },\n          getPages: {\n            type: 'function',\n            value: function value() {\n              return Math.ceil(this.total / this.limit);\n            }\n          },\n\n          /**\n           * Calculates the ending index for slicing an array\n           * @returns {number}\n           */\n          getSliceEnd: {\n            type: 'function',\n            value: function value() {\n              return this.getOffset() + this.limit;\n            }\n          },\n          filter: {\n            type: 'function',\n            value: function value(a) {\n              return true;\n            }\n          },\n          find: {\n            type: 'function',\n            value: function value(filter) {\n              var rows = this.rows.filter(filter);\n\n              if (rows.length === 0) {\n                return false;\n              }\n\n              if (rows.length === 1) {\n                return rows[0];\n              }\n\n              return rows;\n            }\n          },\n\n          /**\n           * It's object schema\n           */\n          _schema: object_schema,\n\n          /**\n           * Holds the loaded rows for this collection\n           */\n          rows: {\n            type: 'array',\n            schema: function schema() {\n              return object_schema;\n            },\n            initial: function initial() {\n              return [];\n            }\n          },\n\n          /**\n           * Get rows, useful for pagination\n           */\n          getRows: {\n            type: 'function',\n            value: function value() {\n              var rows = this.rows.slice(0); //verify rows up to offset are not undefined\n\n              for (var i = 0; i < rows.length; i++) {\n                if (typeof rows[i] === 'undefined') {\n                  rows[i] = DataStore.sanitize({}, object_schema);\n                }\n              }\n\n              return rows.filter(this.filter).slice(this.getOffset(), this.getSliceEnd());\n            }\n          },\n\n          /**\n           * Total amount of rows this collection has (on the server\n           * not locally)\n           */\n          total: {\n            type: 'int',\n            initial: function initial() {\n              return 0;\n            }\n          },\n\n          /**\n           * Upsert a row to this collection\n           */\n          upsertRow: {\n            type: 'function',\n            value: function value(primaryKey, primaryValue, object, object_schema) {\n              var $me = this;\n              var exists = false;\n              var offset = this.getOffset();\n              var rows = this.rows.slice(0);\n              rows.forEach(function (row, index) {\n                if (!exists && row[primaryKey] == object[primaryKey]) {\n                  $me.rows[index] = DataStore.sanitize(object, object_schema);\n                  exists = true;\n                }\n\n                if (index === offset) {\n                  offset++;\n                }\n              });\n\n              if (!exists) {\n                rows[offset] = DataStore.sanitize(object, object_schema);\n              }\n\n              this.rows = rows;\n            }\n          },\n\n          /**\n           * Remove a row (or rows) if it exists by key value\n           */\n          removeRow: {\n            type: 'function',\n            value: function value(key_field, key_value) {\n              var rows = this.rows;\n              var indexes = [];\n              rows.forEach(function (row, index) {\n                if (typeof row[key_field] !== 'undefined' && row[key_field] == key_value) {\n                  indexes.push(index);\n                }\n              });\n\n              if (indexes.length === 0) {\n                return;\n              }\n\n              for (i = 0; i < indexes.length; i++) {\n                this.rows.splice(indexes[i], 1);\n              }\n            }\n          },\n\n          /**\n           * Insert/replace a row\n           */\n          replaceRow: {\n            type: 'function',\n            value: function value(key_field, key_value, newRow) {\n              var bUpdated = false;\n              var rows = this.rows;\n              var $me = this;\n              rows.forEach(function (row, index) {\n                if (typeof row[key_field] !== 'undefined' && row[key_field] === key_value) {\n                  if (typeof rows[index] === 'undefined') {\n                    rows[index] = {};\n                  }\n\n                  $me.rows[index] = newRow;\n                  bUpdated = true;\n                }\n              });\n\n              if (!bUpdated) {\n                this.rows.push(newRow);\n              }\n            }\n          },\n\n          /**\n           * Clear this collection\n           */\n          clear: {\n            type: 'function',\n            value: function value() {\n              this.rows = [];\n            }\n          },\n          create: {\n            type: 'function',\n            value: function value(config) {\n              return $.extend(true, this, config);\n            }\n          }\n        };\n      },\n      string: function string(params) {\n        if (typeof params === 'undefined') {\n          params = {};\n        }\n\n        return $.extend(true, {\n          type: 'string'\n        }, params);\n      },\n      \"int\": function int(params) {\n        if (typeof params === 'undefined') {\n          params = {};\n        }\n\n        return $.extend(true, {\n          type: 'int'\n        }, params);\n      },\n      \"double\": function double(params) {\n        if (typeof params === 'undefined') {\n          params = {};\n        }\n\n        return $.extend(true, {\n          type: 'double'\n        }, params);\n      },\n      bool: function bool(params) {\n        if (typeof params === 'undefined') {\n          params = {};\n        }\n\n        return $.extend(true, {\n          type: 'bool'\n        }, params);\n      },\n      \"float\": function float(params) {\n        if (typeof params === 'undefined') {\n          params = {};\n        }\n\n        return $.extend(true, {\n          type: 'float'\n        }, params);\n      },\n      array: function array(params) {\n        if (typeof params === 'undefined') {\n          params = {};\n        }\n\n        return $.extend(true, {\n          type: 'array',\n          schema: null\n        }, params);\n      },\n      object: function object(params) {\n        if (typeof params === 'undefined') {\n          params = {};\n        }\n\n        return $.extend(true, {\n          type: 'object',\n          schema: null\n        }, params);\n      },\n      datetime: function datetime(params) {\n        if (typeof params === 'undefined') {\n          params = {};\n        }\n\n        return $.extend(true, {\n          type: 'datetime',\n          schema: null\n        }, params);\n      },\n      callback: function callback(params) {\n        if (typeof params === 'undefined') {\n          params = {};\n        }\n\n        return $.extend(true, {\n          type: 'callback',\n          schema: null\n        }, params);\n      }\n    },\n    collection: new function () {\n      return {\n        create: function create(config) {\n          var tmp = {};\n          $.extend(true, tmp, this, config);\n          return tmp;\n        },\n        schema: null,\n        limit: 1,\n        page: 0,\n        setPage: function setPage(page) {\n          this.page = page;\n\n          if (this.page >= this.getPages() && this.getPages() !== 0) {\n            this.page = this.getPages() - 1;\n          }\n\n          if (this.page < 0) {\n            this.page = 0;\n          }\n        },\n        getPages: function getPages() {\n          return Math.ceil(this.currentTotal / this.limit);\n        },\n        allRows: [],\n        currentTotal: 0,\n        matchedRows: [],\n        rows: [],\n        reset: function reset() {\n          this.page = 0;\n          this._dirty = true;\n          this.matchedRows = this.allRows.filter(this.filter.apply(this));\n          this.pageRow[0] = this.matchedRows.slice(0, this.limit);\n          this.onUpdate(); //this.update();\n        },\n        filters: {},\n        filter: function filter() {\n          var count = 0;\n\n          for (var i in this.filters) {\n            count++;\n          }\n\n          if (count > 0) {\n            return function (filters, a) {\n              for (var field in filters) {\n                var filter = filters[field];\n\n                if (typeof a[field] === 'undefined') {\n                  return false;\n                }\n\n                for (var operator in filter) {\n                  var value = filter[operator];\n                  var success = true;\n\n                  switch (operator) {\n                    case 'eq':\n                      if (a[field] != value) {\n                        return false;\n                      }\n\n                      break;\n\n                    case 'gt':\n                      if (a[field] <= value) {\n                        return false;\n                      }\n\n                      break;\n\n                    case 'gte':\n                      if (a[field] < value) {\n                        return false;\n                      }\n\n                      break;\n\n                    case 'lt':\n                      if (a[field] >= value) {\n                        return false;\n                      }\n\n                      break;\n\n                    case 'lte':\n                      if (a[field] > value) {\n                        return false;\n                      }\n\n                      break;\n\n                    case 'isNull':\n                      if (a[field] !== null) {\n                        return false;\n                      }\n\n                      break;\n\n                    case 'notNull':\n                      if (a[field] === null) {\n                        return false;\n                      }\n\n                      break;\n\n                    case 'like':\n                      if ((\"\" + a[field]).toLowerCase().indexOf(value.toLowerCase()) === -1) {\n                        return false;\n                      }\n\n                      break;\n\n                    case 'notLike':\n                      if ((\"\" + a[field]).toLowerCase().indexOf(value.toLowerCase()) !== -1) {\n                        return false;\n                      }\n\n                      break;\n\n                    case 'custom':\n                      if (!value(a)) {\n                        return false;\n                      }\n\n                      break;\n                  }\n                }\n              }\n\n              return true;\n            }.bind(null, this.filters);\n          }\n\n          return function () {\n            return true;\n          };\n        },\n        sort: false,\n        _cache: {},\n        _dirty: false,\n        getAllRows: function getAllRows() {\n          return this.allRows;\n        },\n        pageRow: {},\n        getRows: function getRows() {\n          if (typeof this.search !== 'undefined' && this.search.length === 0 && typeof this.pageRow[this.page] !== 'undefined') {\n            return this.pageRow[this.page];\n          }\n\n          return this.matchedRows.slice(this.getOffset(), this.getSliceEnd());\n        },\n        getOffset: function getOffset() {\n          return this.limit * this.page;\n        },\n        getSliceEnd: function getSliceEnd() {\n          return this.getOffset() + this.limit;\n        },\n        getRangeOfTotal: function getRangeOfTotal() {\n          if (this.getRows().length === 0) {\n            return 'Showing 0 out of 0';\n          }\n\n          var currentPageStart = this.getOffset() + 1;\n          var currentPageEnd = this.getOffset() + this.getRows().length;\n          var currentTotal = Math.max(this.currentTotal, currentPageEnd); //we at least have our current page end loaded\n\n          return 'Showing ' + currentPageStart + ' - ' + currentPageEnd + ' out of ' + currentTotal;\n        },\n        upsertRow: function upsertRow(primaryKey, rawRow, fromCollection) {\n          if (this.schema !== null) {\n            rawRow = DataStore.sanitize(rawRow, this.schema);\n          }\n\n          var existing = false;\n          var success = false;\n          this.allRows.forEach(function (row) {\n            if (row[primaryKey] == rawRow[primaryKey]) {\n              row = rawRow;\n              existing = true;\n            }\n          });\n\n          if (!existing) {\n            this.allRows.push(rawRow);\n          } //do page\n\n\n          if (typeof this.pageRow[fromCollection.page] === 'undefined') {\n            this.pageRow[fromCollection.page] = [];\n          }\n\n          var existing = false;\n          this.pageRow[fromCollection.page].forEach(function (row) {\n            if (row[primaryKey] == rawRow[primaryKey]) {\n              row = rawRow;\n              existing = true;\n            }\n          });\n\n          if (!existing && [rawRow].filter(this.filter()).length > 0) {\n            this.pageRow[fromCollection.page].push(rawRow);\n          }\n        },\n        update: function update() {\n          this.matchedRows = this.allRows.filter(this.filter());\n          this.onUpdate();\n          this.emit(this.events.UPDATE.apply(this));\n        },\n        onUpdate: function onUpdate() {},\n        emit: function emit(event, data) {\n          $(window).trigger(event, data);\n        },\n        listen: function listen(event, func) {\n          $(window).bind(event, func);\n        },\n        ignore: function ignore(event, func) {\n          $(window).unbind(event, func);\n        },\n        stopListen: function stopListen(event, func) {\n          this.ignore(event, func);\n        },\n        updateCurrentCollection: function updateCurrentCollection(primaryKey, collection) {\n          //this.reset();\n          this.currentTotal = collection.total;\n          var $me = this;\n          collection.rows.forEach(function (row) {\n            $me.upsertRow(primaryKey, row, collection);\n          });\n          this.update();\n        },\n        events: {\n          UPDATE: function UPDATE() {\n            return this.name + '.events.UPDATE';\n          }\n        },\n        hasPrev: function hasPrev(e) {\n          if (typeof e !== 'undefined' && !(this.page > 0)) {\n            e.preventDefault();\n          }\n\n          return this.page > 0;\n        },\n        hasNext: function hasNext(e) {\n          if (typeof e !== 'undefined' && !(parseInt(this.page) + 1 < this.getPages())) {\n            e.preventDefault();\n          }\n\n          return parseInt(this.page) + 1 < this.getPages();\n        },\n        getNextUrl: function getNextUrl(base_url) {\n          return '#/' + base_url + '/' + Math.min(parseInt(this.page) + 1, this.getPages() - 1);\n        },\n        getPrevUrl: function getPrevUrl(base_url) {\n          return '#/' + base_url + '/' + Math.max(parseInt(this.page) - 1, 0);\n        },\n        setFilters: function setFilters(filters, dirty) {\n          this.filters = filters;\n\n          if (\"\" + this.filters != \"\" + filters || typeof dirty !== 'undefined' && dirty === true) {\n            this.reset();\n          }\n        },\n        setFilter: function setFilter(filter, params) {\n          this.filters[filter] = params;\n          this.reset();\n        },\n        getFilter: function getFilter(filter) {\n          if (typeof this.filters[filter] !== 'undefined') {\n            return this.filters[filter];\n          }\n\n          return false;\n        },\n        changed: function changed() {\n          this.update(); //for cached purposes\n\n          this.load();\n        }\n      };\n    }()\n  };\n}();"},43727:n=>{n.exports="/**\n * \n */\nif (typeof utilServices === 'undefined') {\n  throw new Error('utilServices is requried to use the loader directive');\n}\n\nutilServices.directive('chUtilsLoader', function () {\n  return {\n    template: '<div style=\"width:100%; padding:20px 0px; text-align: center;\"><img src=\"/assets/img/ajax-loaders/hexagon-loader.gif\" /></div>'\n  };\n});"},69685:n=>{n.exports=function(n){function e(n){"undefined"!=typeof console&&(console.error||console.log)("[Script Loader]",n)}try{"undefined"!=typeof execScript&&"undefined"!=typeof attachEvent&&"undefined"==typeof addEventListener?execScript(n):"undefined"!=typeof eval?eval.call(null,n):e("EvalError: No eval function available")}catch(n){e(n)}}},18152:(n,e,t)=>{t(69685)(t(26684))},66808:(n,e,t)=>{t(69685)(t(7993))},31533:(n,e,t)=>{t(69685)(t(59631))},28524:(n,e,t)=>{t(69685)(t(50463))},84081:(n,e,t)=>{t(69685)(t(34035))},78182:(n,e,t)=>{t(69685)(t(9345))},93982:(n,e,t)=>{t(69685)(t(45162))},57845:(n,e,t)=>{t(69685)(t(58753))},60526:(n,e,t)=>{t(69685)(t(50036))},43955:(n,e,t)=>{t(69685)(t(40775))},84138:(n,e,t)=>{t(69685)(t(52884))},30739:(n,e,t)=>{t(69685)(t(77416))},75019:(n,e,t)=>{t(69685)(t(56999))},26271:(n,e,t)=>{t(69685)(t(86741))},14322:(n,e,t)=>{t(69685)(t(70051))},43968:(n,e,t)=>{t(69685)(t(61579))},53436:(n,e,t)=>{t(69685)(t(8138))},47269:(n,e,t)=>{t(69685)(t(2995))},86574:(n,e,t)=>{t(69685)(t(69931))},7184:(n,e,t)=>{t(69685)(t(32128))},34962:(n,e,t)=>{t(69685)(t(16827))},30963:(n,e,t)=>{t(69685)(t(93802))},74072:(n,e,t)=>{t(69685)(t(915))},40350:(n,e,t)=>{t(69685)(t(13672))},63113:(n,e,t)=>{t(69685)(t(19293))},44405:(n,e,t)=>{t(69685)(t(5678))},6503:(n,e,t)=>{t(69685)(t(89109))},98515:(n,e,t)=>{t(69685)(t(6865))},83738:(n,e,t)=>{t(69685)(t(70373))},74129:(n,e,t)=>{t(69685)(t(48718))},96367:(n,e,t)=>{t(69685)(t(53212))},66385:(n,e,t)=>{t(69685)(t(33339))},52651:(n,e,t)=>{t(69685)(t(75897))},86986:(n,e,t)=>{t(69685)(t(91259))},51168:(n,e,t)=>{t(69685)(t(74709))},40320:(n,e,t)=>{t(69685)(t(17512))},24838:(n,e,t)=>{t(69685)(t(45965))},43388:(n,e,t)=>{t(69685)(t(43463))},884:(n,e,t)=>{t(69685)(t(1192))},19757:(n,e,t)=>{t(69685)(t(14490))},51410:(n,e,t)=>{t(69685)(t(43727))}},e={};function t(r){var i=e[r];if(void 0!==i)return i.exports;var a=e[r]={exports:{}};return n[r](a,a.exports,t),a.exports}t(60526),t(69389),t(66808)})();